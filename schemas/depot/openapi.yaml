openapi: 3.1.0
info:
  title: Dépôt
  description: API de gestion et de validation des dépôts
  version: 1.0.0
tags:
  - name: Dépôt
  - name: Opération
paths:
  /depots:
    get:
      summary: Recherche des dépôts
      operationId: getDepotsBy
      tags:
        - Dépôt
      parameters:
        - name: statut
          in: query
          schema:
            title: Statut interne
            type: string
            oneOf:
              - title: Ouvert
                description: Le dépôt accepte de nouvelles opérations d'économies d'énergie
                const: OUVERT
              - title: Fermé
                description: >-
                  Le dépôt n'accepte pas de nouvelles opérations d'économies
                  d'énergie
                const: FERME
              - title: Transmis pour contrôle
                description: Le dépôt est en cours de contrôle
                const: EN_COURS_CONTROLE
              - title: Transmis pour instruction
                description: Le dépôt est en cours d'instruction auprès du PNCEE
                const: EN_COURS_INSTRUCTION
              - title: En cours de correction
                description: Le dépôt est en cours de correction
                const: EN_COURS_MODIFICATION
              - title: Archivé
                description: Dépôt archivé
                const: ARCHIVE
        - name: dateCreation[after]
          in: query
          schema:
            type: string
            format: date
        - name: dateCreation[before]
          in: query
          schema:
            type: string
            format: date
        - name: dateDepot[after]
          in: query
          schema:
            type: string
            format: date
        - name: dateDepot[before]
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Liste des dépôts correspondants
          headers:
            X-Pagination-TotalItems: &ref_343
              description: Nombre total d'éléments retournés
              schema:
                type: integer
                minimum: 0
            X-Pagination-Page-Last: &ref_344
              description: Dernière page
              schema:
                type: string
                format: url
            X-Pagination-Page-Current: &ref_345
              description: Page courante
              schema:
                type: string
                format: url
            X-Pagination-Page-Next: &ref_346
              description: Page suivante
              schema:
                type: string
                format: url
          content:
            application/json:
              schema:
                type: array
                items: &ref_0
                  title: Dépôt d'opérations d'économies d'énergie
                  type: object
                  properties:
                    uuid:
                      title: Identifiant
                      type: string
                      format: uuid
                    referenceEmmy:
                      title: Référence Emmy du dépôt
                      type:
                        - string
                        - 'null'
                    dateCreation:
                      title: Date de création
                      type: string
                      format: date
                    dateModification:
                      title: Date de dernière modification
                      type: string
                      format: date
                    dateDepot:
                      title: Date du dépôt auprès du PNCEE
                      type:
                        - string
                        - 'null'
                      format: date
                    nom:
                      title: Nom interne du dépôt
                      type: stirng
                    statut:
                      title: Statut interne
                      type: string
                      oneOf:
                        - title: Ouvert
                          description: >-
                            Le dépôt accepte de nouvelles opérations d'économies
                            d'énergie
                          const: OUVERT
                        - title: Fermé
                          description: >-
                            Le dépôt n'accepte pas de nouvelles opérations
                            d'économies d'énergie
                          const: FERME
                        - title: Transmis pour contrôle
                          description: Le dépôt est en cours de contrôle
                          const: EN_COURS_CONTROLE
                        - title: Transmis pour instruction
                          description: Le dépôt est en cours d'instruction auprès du PNCEE
                          const: EN_COURS_INSTRUCTION
                        - title: En cours de correction
                          description: Le dépôt est en cours de correction
                          const: EN_COURS_MODIFICATION
                        - title: Archivé
                          description: Dépôt archivé
                          const: ARCHIVE
                    volumeCeeClassique:
                      title: Volume de CEE classique
                      type: integer
                      minimum: 0
                    volumeCeePrecarite:
                      title: Volume de CEE précarité
                      type: integer
                      minimum: 0
                  required:
                    - uuid
                    - referenceEmmy
                    - dateCreation
                    - dateModification
                    - dateDepot
                    - nom
                    - statut
                    - volumeCeeClassique
                    - volumeCeePrecarite
    post:
      summary: Créé un nouveau dépôt
      operationId: createDepot
      tags:
        - Dépôt
      requestBody:
        content:
          application/json:
            schema:
              title: Création d'un dépôt d'opérations d'économies d'énergie
              type: object
              properties:
                nom:
                  title: Nom du dépôt
                  type: string
              required:
                - nom
      responses:
        '201':
          description: Dépôt créé
          content:
            application/json:
              schema: *ref_0
        '400': &ref_2
          description: Liste des erreurs rencontrées
  /depots/{uuid}:
    get:
      summary: Recherche un dépôt par UUID
      operationId: getDepotByUuid
      tags:
        - Dépôt
      parameters:
        - &ref_1
          name: uuid
          in: path
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Dépôt correspondant
          content:
            application/json:
              schema: *ref_0
        '404': &ref_349
          description: Ressource non trouvée
    patch:
      summary: Modifie un dépôt
      operationId: updateDepot
      tags:
        - Dépôt
      parameters:
        - *ref_1
      requestBody:
        content:
          application/json:
            schema:
              title: Création d'un dépôt d'opérations d'économies d'énergie
              type: object
              properties:
                nom:
                  title: Nom du dépôt
                  type: string
                referenceEmmy:
                  title: Référence Emmy du dépôt
                  type: string
                dateDepot:
                  title: Date du dépôt auprès du PNCEE
                  type: string
                  format: date
                statut:
                  title: Statut interne
                  type: string
                  oneOf:
                    - title: Ouvert
                      description: >-
                        Le dépôt accepte de nouvelles opérations d'économies
                        d'énergie
                      const: OUVERT
                    - title: Fermé
                      description: >-
                        Le dépôt n'accepte pas de nouvelles opérations
                        d'économies d'énergie
                      const: FERME
                    - title: Transmis pour contrôle
                      description: Le dépôt est en cours de contrôle
                      const: EN_COURS_CONTROLE
                    - title: Transmis pour instruction
                      description: Le dépôt est en cours d'instruction auprès du PNCEE
                      const: EN_COURS_INSTRUCTION
                    - title: En cours de correction
                      description: Le dépôt est en cours de correction
                      const: EN_COURS_MODIFICATION
                    - title: Archivé
                      description: Dépôt archivé
                      const: ARCHIVE
      responses:
        '200':
          description: Dépôt modifié
          content:
            application/json:
              schema: *ref_0
        '400': *ref_2
  /depots/{uuid}/operations:
    post:
      summary: Créé une opération d'économies d'énergie
      operationId: createOperation
      tags:
        - Opération
      parameters:
        - *ref_1
      requestBody:
        content:
          application/json:
            schema:
              $id: https://schemas.ceeconnect.fr/bundles/operation
              $schema: https://json-schema.org/draft/2020-12/schema
              title: Opération d'économies d'énergie
              type: object
              properties:
                uuid:
                  title: Identifiant
                  description: Identifiant unique au format UUID
                  type: string
                  format: uuid
                fiche:
                  title: Fiche d'opération standardisée
                  $id: https://schemas.ceeconnect.fr/formats/reference_fiche
                  $schema: https://json-schema.org/draft/2020-12/schema
                  type: string
                  pattern: >-
                    (AGRI|BAR|BAT|IND|RES|TRA)-(BA|CH|EC|EN|EQ|SE|TH|UT)-[0-9]+(-SE)?v[0-9]+[-][0-9]+
                  examples:
                    - BAR-EN-101v39-4
                    - BAR-EN-102v39-2
                    - BAR-EN-103v39-5
                bonification:
                  title: Bonification
                  $id: https://schemas.ceeconnect.fr/formats/reference_bonification
                  $schema: https://json-schema.org/draft/2020-12/schema
                  type: string
                  pattern: >-
                    (ZNI|GPE-ZNI|ETS|CPE|GPE|CFT|CRC|CRM|CTH|CDP|CDC)([-][0-9]+)?v[0-9]*([-][0-9]*)?
                  examples:
                    - CRMv31-1
                    - CDP-1v20-1
                    - ZNIv35-1
                dateVisitePrealable:
                  title: Date de la visite préalable
                  type: string
                  format: date
                  formatMaximum:
                    $data: /dateEngagement
                dateEngagement:
                  title: Date d'engagement de l'opération
                  type: string
                  format: date
                  formatMinimum:
                    $data: /dateVisitePrealable
                  formatMaximum:
                    $data: /dateDebutTravaux
                dateDebutTravaux:
                  title: Date de début des travaux
                  type: string
                  format: date
                  formatMinimum:
                    $data: /dateEngagement
                  formatMaximum:
                    $data: /dateAchevement
                dateAchevement:
                  title: Date d'achèvement de l'opération
                  type: string
                  format: date
                  formatMinimum:
                    $data: /dateDebutTravaux
                volumeCeeClassique:
                  title: Volume de CEE classique
                  type: integer
                  minimum: 0
                volumeCeePrecarite:
                  title: Volume de CEE précarité
                  type: integer
                  minimum: 0
                natureContribution:
                  title: Nature du rôle actif et incitatif
                  $id: https://schemas.ceeconnect.fr/enums/nature-contribution
                  $schema: https://json-schema.org/draft/2020-12/schema
                  $comment: >-
                    Nomenclature accessible à l'adresse
                    https://www.legifrance.gouv.fr/loda/article_lc/LEGIARTI000044200266
                  description: Code de la nature du rôle actif et incitatif du demandeur
                  type: string
                  oneOf:
                    - &ref_3
                      const: PRIME
                      title: Prime
                    - &ref_4
                      const: BON_ACHAT
                      title: Bon d'achat
                    - &ref_5
                      const: PRET
                      title: Prêt bonifié
                    - &ref_6
                      const: CONSEIL
                      title: Conseil personnalisé
                    - &ref_7
                      const: PSO
                      title: Produit ou service offert
                    - &ref_8
                      const: PATRIM
                      title: Opération sur patrimoine propre
                  $defs:
                    PRIME: *ref_3
                    BON_ACHAT: *ref_4
                    PRET: *ref_5
                    CONSEIL: *ref_6
                    PSO: *ref_7
                    PATRIM: *ref_8
                valeurContribution:
                  title: Montant du rôle actif et incitatif
                  type: number
                  minimum: 0
                adresse: &ref_18
                  title: Adresse
                  type: object
                  properties:
                    banId: &ref_11
                      title: Identifiant de l'adresse dans la Base Adresse Nationale
                      type: string
                      maxLength: 240
                    numero: &ref_12
                      title: Numéro dans la voie
                      type: string
                      maxLength: 240
                    voie: &ref_13
                      title: Nom de voie ou lieu dit
                      type: string
                      maxLength: 240
                    complement: &ref_14
                      title: Complément d'adresse
                      type: string
                      maxLength: 240
                    commune: &ref_15
                      title: Nom de la commune
                      type: string
                      maxLength: 240
                    codePostal: &ref_16
                      title: Code postal
                      type: string
                      pattern: >-
                        ^([02][1-9]|[12345678][0-9]|9[012345]|97[12346])[0-9]{3}$
                    codeCommune: &ref_17
                      title: Code INSEE
                      type: string
                      pattern: >-
                        ^([02][1-9]|2[AB]|[1345678][0-9]|9[012345]|97[12346])[0-9]{3}$
                  required:
                    - voie
                    - commune
                    - codePostal
                    - codeCommune
                beneficiaire:
                  $id: https://schemas.ceeconnect.fr/bundles/beneficiaire
                  $schema: https://json-schema.org/draft/2020-12/schema
                  title: Bénéficiaire
                  description: Bénéficiaire de l'opération d'économies d'énergie
                  type: object
                  properties:
                    nature:
                      title: Nature du bénéficiaire
                      $id: https://schemas.ceeconnect.fr/enums/nature-juridique
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: string
                      oneOf:
                        - &ref_9
                          const: PERSONNE_PHYSIQUE
                          title: Personne physique
                        - &ref_10
                          const: PERSONNE_MORALE
                          title: Personne morale
                      $defs:
                        PERSONNE_PHYSIQUE: *ref_9
                        PERSONNE_MORALE: *ref_10
                      examples:
                        - PERSONNE_PHYSIQUE
                        - PERSONNE_MORALE
                    email:
                      title: Email de contact
                      $id: https://schemas.ceeconnect.fr/formats/email
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: string
                      format: email
                      examples: &ref_31
                        - john.doe@gmail.com
                    telephone:
                      title: Numéro de téléphone
                      $id: https://schemas.ceeconnect.fr/formats/telephone
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: string
                      examples: &ref_32
                        - '0836656565'
                        - '+33836656565'
                    adresse:
                      title: Adresse
                      $id: https://schemas.ceeconnect.fr/mixins/adresse
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: object
                      properties: &ref_33
                        banId: *ref_11
                        numero: *ref_12
                        voie: *ref_13
                        complement: *ref_14
                        commune:
                          title: Nom de la commune
                          type: string
                          maxLength: 240
                        codePostal:
                          title: Code postal de la commune
                          type: string
                          maxLength: 240
                        codeCommune:
                          title: Code commune de la commune
                          type: string
                          maxLength: 240
                      required: &ref_34
                        - voie
                        - commune
                        - codePostal
                      $defs: &ref_35
                        banId: *ref_11
                        numero: *ref_12
                        voie: *ref_13
                        complement: *ref_14
                        commune: *ref_15
                        codePostal: *ref_16
                        codeInsee: *ref_17
                        france: *ref_18
                        franceMetropolitaine: &ref_59
                          title: Adresse
                          type: object
                          properties:
                            banId: *ref_11
                            numero: *ref_12
                            voie: *ref_13
                            complement: *ref_14
                            commune: *ref_15
                            codePostal:
                              title: Code postal
                              type: string
                              pattern: >-
                                ^([02][1-9]|[12345678][0-9]|9[012345]|97[12346])[0-9]{3}$
                            codeCommune:
                              title: Code INSEE
                              type: string
                              pattern: >-
                                ^([02][1-9]|2[AB]|[1345678][0-9]|9[012345]|97[12346])[0-9]{3}$
                          required:
                            - voie
                            - commune
                            - codePostal
                            - codeCommune
                          examples:
                            - numero: '9'
                              voie: Rue des Colonnes
                              commune: Paris
                              codePostal: '75002'
                              codeInsee: '75102'
                              banId: 75102221900009
                        franceOutreMer: &ref_67
                          title: Adresse
                          type: object
                          properties:
                            banId: *ref_11
                            numero: *ref_12
                            voie: *ref_13
                            complement: *ref_14
                            commune: *ref_15
                            codePostal:
                              title: Code postal
                              type: string
                              pattern: >-
                                ^([02][1-9]|[12345678][0-9]|9[012345]|97[12346])[0-9]{3}$
                            codeCommune:
                              title: Code INSEE
                              type: string
                              pattern: >-
                                ^([02][1-9]|2[AB]|[1345678][0-9]|9[012345]|97[12346])[0-9]{3}$
                          required:
                            - voie
                            - commune
                            - codePostal
                            - codeCommune
                          examples:
                            - {}
                      examples: &ref_36
                        - &ref_27
                          banId: 92062_A100
                          voie: Grande Arche Défense
                          commune: Puteaux
                          codeCommune: '92062'
                          codePostal: '92800'
                        - banId: '84007_2653'
                          voie: Place de l'Horloge
                          commune: Avignon
                          codeCommune: '84000'
                          codePostal: '84007'
                        - banId: '06088_3250_00005'
                          numero: '5'
                          voie: Rue de l'Hôtel de Ville
                          commune: Nice
                          codeCommune: '06300'
                          codePostal: '06088'
                        - &ref_66
                          banId: '97411_1060_00002'
                          numero: '2'
                          voie: Rue de Paris
                          commune: Saint-Denis
                          codeCommune: '97411'
                          codePostal: '97400'
                  anyOf:
                    - &ref_25
                      allOf:
                        - properties:
                            nature: *ref_9
                          required:
                            - nature
                        - properties:
                            type:
                              title: Type
                              type: string
                              oneOf:
                                - &ref_19
                                  const: PROPRIETAIRE_UNIQUE
                                  title: Propriétaire unique
                                - &ref_20
                                  const: LOCATAIRE
                                  title: Locataire de l'équipement
                                - &ref_21
                                  const: COPROPRIETAIRE
                                  title: Copropriétaire des équipements
                                - &ref_22
                                  const: MAITRE_OUVRAGE
                                  title: Maître d'ouvrage
                                - const: OCCUPANT_FINANCEUR
                                  title: Occupant financeur
                            nom:
                              title: Nom
                              $id: >-
                                https://schemas.ceeconnect.fr/formats/nom_famille
                              $schema: https://json-schema.org/draft/2020-12/schema
                              type: string
                              maxLength: 240
                              pattern: ^([A-Z]|[-]|[']|[ ])+$
                              examples: &ref_23
                                - DOE
                            prenom:
                              title: Prénom
                              $id: https://schemas.ceeconnect.fr/formats/prenom
                              $schema: https://json-schema.org/draft/2020-12/schema
                              type: string
                              maxLength: 240
                              pattern: ^([A-Z]|[-]|[']|[ ])+$
                              examples: &ref_24
                                - DOE
                          required:
                            - type
                            - nom
                            - prenom
                    - &ref_26
                      allOf:
                        - properties:
                            nature: *ref_10
                          required:
                            - nature
                        - properties:
                            type:
                              title: Type
                              type: string
                              oneOf:
                                - *ref_19
                                - *ref_20
                                - *ref_21
                                - *ref_22
                                - const: SYNDICAT_COPROPRIETAIRES
                                  title: Syndicat de copropriétaires
                                - const: COLLECTIVITE_AFFECTATAIRE
                                  title: Collectivité affectataire
                            raisonSociale: &ref_30
                              $id: >-
                                https://schemas.ceeconnect.fr/formats/raison_sociale
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Raison sociale
                              type: string
                              maxLength: 240
                              pattern: ^([A-Z]|[-]|[']|[ ])+$
                              examples:
                                - CEE CONNECT
                            siren: &ref_48
                              $id: https://schemas.ceeconnect.fr/formats/siren
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Numéro de SIREN
                              type: string
                              pattern: ^[0-9]{9,9}$
                              examples:
                                - '000000000'
                            nom:
                              title: Nom de famille du représentant
                              $id: >-
                                https://schemas.ceeconnect.fr/formats/nom_famille
                              $schema: https://json-schema.org/draft/2020-12/schema
                              type: string
                              maxLength: 240
                              pattern: ^([A-Z]|[-]|[']|[ ])+$
                              examples: *ref_23
                            prenom:
                              title: Prénom du représentant
                              $id: https://schemas.ceeconnect.fr/formats/prenom
                              $schema: https://json-schema.org/draft/2020-12/schema
                              type: string
                              maxLength: 240
                              pattern: ^([A-Z]|[-]|[']|[ ])+$
                              examples: *ref_24
                            fonction:
                              title: Fonction du représentant
                              $id: https://schemas.ceeconnect.fr/formats/fonction
                              $schema: https://json-schema.org/draft/2020-12/schema
                              type: string
                              maxLength: 240
                              pattern: ^([A-Z]|[-]|[']|[ ])+$
                              examples: &ref_37
                                - RESPONSABLE
                          required:
                            - type
                            - raisonSociale
                            - siren
                            - nom
                            - prenom
                            - fonction
                  required:
                    - nature
                    - email
                    - telephone
                    - adresse
                  $defs:
                    personnePhysique: *ref_25
                    personneMorale: *ref_26
                  examples:
                    - nature: PERSONNE_PHYSIQUE
                      type: PROPRIETAIRE_UNIQUE
                      email: contact@email.fr
                      telephone: '0836656565'
                      adresse: *ref_27
                      nom: NOM
                      prenom: PRENOM
                professionnel:
                  $id: https://schemas.ceeconnect.fr/bundles/professionnel
                  $schema: https://json-schema.org/draft/2020-12/schema
                  title: Professionnel
                  description: >-
                    Professionnel assurant la maîtrise d'oeuvre ou la
                    réalisation des opérations
                  type: object
                  properties:
                    prestation:
                      $id: https://schemas.ceeconnect.fr/enums/nature-prestation
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: Prestation
                      description: >-
                        Nature de la prestation assurée par le professionnel
                        signataire de l'attestation sur l'honneur
                      type: string
                      oneOf:
                        - &ref_28
                          const: MISE_EN_OEUVRE
                          title: Mise en oeuvre
                        - &ref_29
                          const: MAITRISE_OEUVRE
                          title: Maîtrise d'oeuvre
                      $defs:
                        MISE_EN_OEUVRE: *ref_28
                        MAITRISE_OEUVRE: *ref_29
                      examples:
                        - MISE_EN_OEUVRE
                        - MAITRISE_OEUVRE
                    raisonSociale: *ref_30
                    siret: &ref_38
                      $id: https://schemas.ceeconnect.fr/formats/siret
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: Numéro de SIRET
                      type: string
                      pattern: ^[0-9]{14,14}$
                      examples:
                        - '90232479700015'
                    email: &ref_50
                      $id: https://schemas.ceeconnect.fr/formats/email
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: Adress email
                      type: string
                      format: email
                      examples: *ref_31
                    telephone: &ref_51
                      $id: https://schemas.ceeconnect.fr/formats/telephone
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: Téléphone
                      type: string
                      examples: *ref_32
                    adresse: &ref_49
                      $id: https://schemas.ceeconnect.fr/mixins/adresse
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: Adresse
                      type: object
                      properties: *ref_33
                      required: *ref_34
                      $defs: *ref_35
                      examples: *ref_36
                    nom:
                      title: Nom de famille du représentant
                      $id: https://schemas.ceeconnect.fr/formats/nom_famille
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: string
                      maxLength: 240
                      pattern: ^([A-Z]|[-]|[']|[ ])+$
                      examples: *ref_23
                    prenom:
                      title: Prénom du représentant
                      $id: https://schemas.ceeconnect.fr/formats/prenom
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: string
                      maxLength: 240
                      pattern: ^([A-Z]|[-]|[']|[ ])+$
                      examples: *ref_24
                    fonction:
                      title: Fonction du représentant
                      $id: https://schemas.ceeconnect.fr/formats/fonction
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: string
                      maxLength: 240
                      pattern: ^([A-Z]|[-]|[']|[ ])+$
                      examples: *ref_37
                  required:
                    - prestation
                    - raisonSociale
                    - siret
                    - email
                    - telephone
                    - nom
                    - prenom
                    - fonction
                  examples:
                    - prestation: MISE_EN_OEUVRE
                      raisonSociale: RAISON SOCIALE
                      siret: '00000000000000'
                      email: contact@email.fr
                      telephone: '0836656565'
                      adresse: *ref_27
                      nom: NOM
                      prenom: PRENOM
                      fonction: FONCTION
                installateur:
                  $id: https://schemas.ceeconnect.fr/bundles/installateur
                  $schema: https://json-schema.org/draft/2020-12/schema
                  title: Installateur
                  description: Professionnel assurant la réalisation de l'opération
                  type: object
                  properties:
                    raisonSociale: *ref_30
                    siret: *ref_38
                    nom:
                      title: Nom de famille du représentant
                      $id: https://schemas.ceeconnect.fr/formats/nom_famille
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: string
                      maxLength: 240
                      pattern: ^([A-Z]|[-]|[']|[ ])+$
                      examples: *ref_23
                    prenom:
                      title: Prénom du représentant
                      $id: https://schemas.ceeconnect.fr/formats/prenom
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: string
                      maxLength: 240
                      pattern: ^([A-Z]|[-]|[']|[ ])+$
                      examples: *ref_24
                    fonction:
                      title: Fonction du représentant
                      $id: https://schemas.ceeconnect.fr/formats/fonction
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: string
                      maxLength: 240
                      pattern: ^([A-Z]|[-]|[']|[ ])+$
                      examples: *ref_37
                  required:
                    - raisonSociale
                    - siret
                    - nom
                    - prenom
                    - fonction
                  examples:
                    - raisonSociale: RAISON SOCIALE
                      siret: '00000000000000'
                      nom: NOM
                      prenom: PRENOM
                      fonction: FONCTION
                precarite:
                  $id: https://schemas.ceeconnect.fr/bundles/precarite
                  $schema: https://json-schema.org/draft/2020-12/schema
                  title: Précarité énergétique
                  description: Prise en compte de la précarité énergétique du bénéficiaire
                  type: object
                  properties:
                    scenario:
                      $id: https://schemas.ceeconnect.fr/enums/scenario-precarite
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: Scénario
                      description: Scénario de prise en compte de la précarité énergétique
                      type: string
                      oneOf:
                        - &ref_39
                          const: '8.1'
                          title: Ménage en situation de précarité énergétique
                        - &ref_40
                          const: '8.2'
                          title: >-
                            Opération concernant au moins un logement locatif
                            social
                        - &ref_41
                          const: '8.3'
                          title: >-
                            Copropriété objet d'une subvention de l'Agence
                            nationale de l'habitat
                        - &ref_42
                          const: '8.4'
                          title: Quartier prioritaire de la politique de la ville
                        - &ref_43
                          const: '8.5'
                          title: Autres cas
                      $defs:
                        '8.1': *ref_39
                        '8.2': *ref_40
                        '8.3': *ref_41
                        '8.4': *ref_42
                        '8.5': *ref_43
                      examples:
                        - '8.1'
                        - '8.2'
                        - '8.3'
                        - '8.4'
                        - '8.5'
                  required:
                    - scenario
                  anyOf:
                    - &ref_53
                      type: object
                      allOf:
                        - properties:
                            scenario: *ref_39
                          required:
                            - scenario
                        - properties:
                            menages:
                              title: Ménage occupant
                              type: array
                              minItems: 1
                              items: &ref_52
                                title: Ménage
                                description: >-
                                  Ménage bénéficiant de l'opération d'économies
                                  d'énergie
                                type: object
                                properties:
                                  nom:
                                    $id: >-
                                      https://schemas.ceeconnect.fr/formats/nom_famille
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    title: Nom de famille
                                    type: string
                                    maxLength: 240
                                    pattern: ^([A-Z]|[-]|[']|[ ])+$
                                    examples: *ref_23
                                  prenom:
                                    $id: >-
                                      https://schemas.ceeconnect.fr/formats/prenom
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    title: Prénom
                                    type: string
                                    maxLength: 240
                                    pattern: ^([A-Z]|[-]|[']|[ ])+$
                                    examples: *ref_24
                                  composition:
                                    title: Composition
                                    description: Nombre de personnes composant le ménage
                                    type: integer
                                    minimum: 1
                                  categorieRessource:
                                    $id: >-
                                      https://schemas.ceeconnect.fr/enums/categorie_ressource
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    $comment: >-
                                      Reprise des catégories de ressources Ma
                                      Prime Rénov'
                                    title: Catégorie de ressource
                                    description: >-
                                      Catégorie de ressource pour la prise en
                                      compte de la précarité énergétique
                                    type: string
                                    oneOf:
                                      - &ref_44
                                        const: TRES_MODESTE
                                        title: Très modeste
                                      - &ref_45
                                        const: MODESTE
                                        title: Modeste
                                      - &ref_46
                                        const: INTERMEDIAIRE
                                        title: Intermédiaire
                                      - &ref_47
                                        const: SUPERIEUR
                                        title: Supérieur
                                    $defs:
                                      TRES_MODESTE: *ref_44
                                      MODESTE: *ref_45
                                      INTERMEDIAIRE: *ref_46
                                      SUPERIEUR: *ref_47
                                    examples:
                                      - TRES_MODESTE
                                      - MODESTE
                                      - INTERMEDIAIRE
                                      - SUPERIEUR
                                  foyersFiscaux:
                                    title: Liste de foyers fiscaux
                                    description: >-
                                      Liste des foyers fiscaux composant le
                                      ménage
                                    type: array
                                    minItems: 1
                                    items:
                                      title: Foyer fiscal
                                      type: object
                                      properties:
                                        identifiantFiscal:
                                          $id: >-
                                            https://schemas.ceeconnect.fr/formats/numero_fiscal
                                          $schema: >-
                                            https://json-schema.org/draft/2020-12/schema
                                          title: Numéro fiscal de référence
                                          type: string
                                          pattern: ^[0-9]{13,13}$
                                          examples:
                                            - '0000000000000'
                                        referenceAvis:
                                          $id: >-
                                            https://schemas.ceeconnect.fr/formats/reference_avis_imposition
                                          $schema: >-
                                            https://json-schema.org/draft/2020-12/schema
                                          title: Référence de l'avis d'imposition
                                          type: string
                                          pattern: ^[0-9A-Z]{13,14}$
                                          examples:
                                            - '00000000000000'
                                      required:
                                        - identifiantFiscal
                                        - referenceAvis
                                required:
                                  - nom
                                  - prenom
                                  - categorieRessource
                                  - foyersFiscaux
                          required:
                            - menages
                    - &ref_54
                      type: object
                      allOf:
                        - properties:
                            scenario: *ref_40
                          required:
                            - scenario
                        - properties:
                            bailleursSociaux:
                              title: Liste des bailleurs sociaux
                              type: array
                              minItems: 1
                              items: &ref_58
                                title: Bailleur social
                                type: object
                                properties:
                                  nom:
                                    $id: >-
                                      https://schemas.ceeconnect.fr/formats/nom_famille
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    title: Nom de famille
                                    type: string
                                    maxLength: 240
                                    pattern: ^([A-Z]|[-]|[']|[ ])+$
                                    examples: *ref_23
                                  prenom:
                                    $id: >-
                                      https://schemas.ceeconnect.fr/formats/prenom
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    title: Prénom
                                    type: string
                                    maxLength: 240
                                    pattern: ^([A-Z]|[-]|[']|[ ])+$
                                    examples: *ref_24
                                  fonction:
                                    title: Fonction du représentant
                                    $id: >-
                                      https://schemas.ceeconnect.fr/formats/fonction
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    type: string
                                    maxLength: 240
                                    pattern: ^([A-Z]|[-]|[']|[ ])+$
                                    examples: *ref_37
                                  raisonSociale: *ref_30
                                  siren: *ref_48
                                  adresse: *ref_49
                                  email: *ref_50
                                  telephone: *ref_51
                                  menages:
                                    title: Nombre de ménages couverts
                                    description: >-
                                      Nombre de ménages habitant un logement
                                      conventionné géré par l'organisme
                                    type: integer
                                    minimum: 0
                                required:
                                  - nom
                                  - prenom
                                  - fonction
                                  - raisonSociale
                                  - siren
                                  - adresse
                                  - email
                                  - telephone
                                  - menages
                            menages:
                              title: Liste des ménages
                              description: >-
                                Ménages occupants un logement qui n'est pas géré
                                par l'un des bailleurs sociaux renseignés
                              type: array
                              minItems: 1
                              items: *ref_52
                          required:
                            - bailleursSociaux
                            - menages
                    - &ref_55
                      type: object
                      allOf:
                        - properties:
                            scenario: *ref_41
                          required:
                            - scenario
                    - &ref_56
                      type: object
                      allOf:
                        - properties:
                            scenario: *ref_42
                          required:
                            - scenario
                        - properties:
                            codeQuartierPrioritaire:
                              title: >-
                                Code du quartier prioritaire de la politique de
                                la ville
                              $id: >-
                                https://schemas.ceeconnect.fr/formats/code_quartier_prioritaire
                              $schema: https://json-schema.org/draft/2020-12/schema
                              $comment: >-
                                Base de données accessible à l'adresse
                                https://www.data.gouv.fr/fr/datasets/quartiers-prioritaires-de-la-politique-de-la-ville-qpv/
                              description: >-
                                Code du quartier prioritaire de la politique de
                                la ville
                              type: string
                              pattern: ^QP[0-9AB]{6,6}
                              examples:
                                - QP001001
                                - QP001002
                            nomQuartierPrioritaire:
                              title: >-
                                Nom du quartier prioritaire de la politique de
                                la ville
                              type: string
                              maxLength: 240
                          required:
                            - codeQuartierPrioritaire
                            - nomQuartierPrioritaire
                    - &ref_57
                      type: object
                      allOf:
                        - properties:
                            scenario: *ref_43
                          required:
                            - scenario
                        - properties:
                            menages:
                              title: Liste des ménages concernés par l'opération
                              type: array
                              minItems: 1
                              items: *ref_52
                          required:
                            - menages
                  $defs:
                    '8.1': *ref_53
                    '8.2': *ref_54
                    '8.3': *ref_55
                    '8.4': *ref_56
                    '8.5': *ref_57
                    menage: *ref_52
                    bailleurSocial: *ref_58
                  examples:
                    - scenario: '8.1'
                      menages:
                        - nom: NOM
                          prenom: PRENOM
                          composition: 3
                          categorieRessource: MODESTE
                          foyersFiscaux:
                            - identifiantFiscal: '0000000000000'
                              referenceAvis: '00000000000000'
                documents:
                  title: Liste des documents
                  type: array
                  items:
                    $id: https://schemas.ceeconnect.fr/bundles/document
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Document
                    type: object
                    properties:
                      code:
                        title: Code du document
                        type: string
                      url:
                        title: URL d'accès au document
                        $id: https://schemas.ceeconnect.fr/formats/url
                        $schema: https://json-schema.org/draft/2020-12/schema
                        type: string
                        pattern: ^https?://
                        examples:
                          - https://ceeconnect.fr
                    required:
                      - code
                      - url
                    examples:
                      - code: PREUVE_QUALIFICATION
                        url: https://api.ceeconnect.fr/archivage/archives/{uuid}
                caracteristiques:
                  title: Caractéristiques de l'opération
                  type: object
              required:
                - uuid
                - fiche
                - dateEngagement
                - dateVisitePrealable
                - dateDebutTravaux
                - dateAchevement
                - volumeCeeClassique
                - volumeCeePrecarite
                - natureContribution
                - valeurContribution
                - adresse
                - beneficiaire
                - professionnel
                - installateur
                - precarite
                - documents
                - caracteristiques
              $defs:
                BAR-EN-101v39-4: &ref_196
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-101v39-4
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-101v39-4
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: &ref_62
                              title: >-
                                Bâtiment de plus de deux ans à la date
                                d'engagement de l'opération
                              const: EXISTANT
                            quantite:
                              title: Surface d'isolant posé (m²)
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la surface résultant de la
                                superposition des isolants
                              type: number
                              minimum: 0
                            typePose: &ref_148
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_pose_isolant
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Type de pose
                              type: string
                              oneOf:
                                - &ref_60
                                  const: COMBLES_PERDUS
                                  title: Pose en combles perdus
                                - &ref_61
                                  const: RAMPANT_TOITURES
                                  title: Pose en rampant de toitures
                              $defs:
                                COMBLES_PERDUS: *ref_60
                                RAMPANT_TOITURES: *ref_61
                            resistanceThermique:
                              title: Résistance thermmique de l'isolant
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la résistance thermique
                                globale
                              type: number
                              minimum: 6
                            epaisseur:
                              title: Epaisseur de l'isolant (mm)
                              type: number
                              minimum: 0
                            posePareVapeur:
                              title: Mise en place d'un pare-vapeur
                              description: >-
                                L'isolation thermique réalisée a nécessité la
                                mise en place d'un pare-vapeur ou tout autre
                                dispositif permettant d'atteindre un résultat
                                équivalent
                              type: boolean
                            references:
                              title: Marques et références
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer les marques et références de
                                chacun des isolants posés
                              type: array
                              minItems: 1
                              items:
                                type: object
                                properties:
                                  marque:
                                    title: Marque de l'isolant
                                    type: string
                                  reference:
                                    title: Référence de l'isolant
                                    type: string
                                required:
                                  - marque
                                  - reference
                          required:
                            - ancienneteBatiment
                            - quantite
                            - typePose
                            - resistanceThermique
                            - epaisseur
                            - posePareVapeur
                            - references
                          allOf:
                            - if:
                                properties:
                                  typePose: *ref_60
                                required:
                                  - typePose
                              then:
                                properties:
                                  resistanceThermique:
                                    type: number
                                    minimum: 7
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            ancienneteBatiment: EXISTANT
                            typePose: COMBLES_PERDUS
                            quantite: 100
                            resistanceThermique: 8
                            epaisseur: 400
                            posePareVapeur: true
                            references:
                              - marque: MARQUE
                                reference: REFERENCE
                              - marque: MARQUE
                                reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-101v39-4
                        required:
                          - fiche
                BAR-EN-102v39-2: &ref_194
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-102v39-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-102v39-2
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            quantite:
                              title: Surface d'isolant posé (m²)
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la surface résultant de la
                                superposition des isolants
                              type: number
                              minimum: 0
                            resistanceThermique:
                              title: Résistance thermmique de l'isolant
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la résistance thermique
                                globale
                              type: number
                              minimum: 3.7
                            epaisseur:
                              title: Epaisseur de l'isolant (mm)
                              type: number
                              minimum: 0
                            references:
                              title: Marques et références
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer les marques et références de
                                chacun des isolants posés
                              type: array
                              minItems: 1
                              items:
                                type: object
                                properties:
                                  marque:
                                    title: Marque de l'isolant
                                    type: string
                                  reference:
                                    title: Référence de l'isolant
                                    type: string
                                required:
                                  - marque
                                  - reference
                          required:
                            - ancienneteBatiment
                            - quantite
                            - resistanceThermique
                            - epaisseur
                            - references
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            ancienneteBatiment: EXISTANT
                            quantite: 100
                            resistanceThermique: 4
                            epaisseur: 200
                            references:
                              - marque: MARQUE
                                reference: REFERENCE
                              - marque: MARQUE
                                reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-102v39-2
                        required:
                          - fiche
                BAR-EN-103v39-5: &ref_193
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-103v39-5
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-103v39-5
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            quantite:
                              title: Surface d'isolant posé (m²)
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la surface résultant de la
                                superposition des isolants
                              type: number
                              minimum: 0
                            resistanceThermique:
                              title: Résistance thermmique de l'isolant
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la résistance thermique
                                globale
                              type: number
                              minimum: 3
                            epaisseur:
                              title: Epaisseur de l'isolant (mm)
                              type: number
                              minimum: 0
                            posePareVapeur:
                              title: Mise en place d'un pare-vapeur
                              description: >-
                                L'isolation thermique réalisée a nécessité la
                                mise en place d'un pare-vapeur ou tout autre
                                dispositif permettant d'atteindre un résultat
                                équivalent
                              type: boolean
                            references:
                              title: Marques et références
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer les marques et références de
                                chacun des isolants posés
                              type: array
                              minItems: 1
                              items:
                                type: object
                                properties:
                                  marque:
                                    title: Marque de l'isolant
                                    type: string
                                  reference:
                                    title: Référence de l'isolant
                                    type: string
                                required:
                                  - marque
                                  - reference
                          required:
                            - ancienneteBatiment
                            - quantite
                            - resistanceThermique
                            - epaisseur
                            - posePareVapeur
                            - references
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            ancienneteBatiment: EXISTANT
                            quantite: 100
                            resistanceThermique: 4
                            epaisseur: 200
                            posePareVapeur: true
                            references:
                              - marque: MARQUE
                                reference: REFERENCE
                              - marque: MARQUE
                                reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-103v39-5
                        required:
                          - fiche
                BAR-EN-104v14-1: &ref_192
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-104v14-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-104v14-1
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            energieChauffage: &ref_70
                              title: Energie de chauffage principale
                              type: string
                              oneOf: &ref_87
                                - &ref_126
                                  const: ELECTRICITE
                                  title: Electricité
                                - &ref_88
                                  const: COMBUSTIBLES
                                  title: Combustibles
                            quantite:
                              title: >-
                                Nombre de fenêtres ou portes fenêtres complètes
                                avec vitrage isolant posées
                              type: integer
                              minimum: 1
                            typeFenetre: &ref_147
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_fenetre
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Type de fenêtre
                              type: string
                              oneOf:
                                - &ref_63
                                  const: FENETRE_TOITURE
                                  title: Fenêtre de toiture
                                - &ref_64
                                  const: AUTRES
                                  title: Autre(s) fenêtre(s) ou porte(s)-fenêtre(s)
                                - &ref_65
                                  const: PORTE_FENETRE
                                  title: Porte-fenêtre
                              $defs:
                                FENETRE_TOITURE: *ref_63
                                AUTRES: *ref_64
                                PORTE_FENETRE: *ref_65
                            coefficientSurfacique:
                              title: >-
                                Coefficient de transmission surfacique Uw
                                (W/m².K)
                              type: number
                              maximum: 1.7
                            facteurSolaire:
                              title: Facteur solaire
                              type: number
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          required:
                            - ancienneteBatiment
                            - energieChauffage
                            - quantite
                            - typeFenetre
                            - coefficientSurfacique
                            - facteurSolaire
                            - marque
                            - reference
                          anyOf:
                            - properties:
                                typeFenetre: *ref_63
                                coefficientSurfacique:
                                  type: number
                                  maximum: 1.5
                                facteurSolaire:
                                  type: number
                                  maximum: 0.36
                              required:
                                - typeFenetre
                                - coefficientSurfacique
                                - facteurSolaire
                            - properties:
                                typeFenetre:
                                  oneOf:
                                    - *ref_64
                                    - *ref_65
                                coefficientSurfacique:
                                  type: number
                                  maximum: 1.3
                                facteurSolaire:
                                  type: number
                                  maximum: 0.3
                              required:
                                - typeFenetre
                                - coefficientSurfacique
                                - facteurSolaire
                            - properties:
                                typeFenetre:
                                  oneOf:
                                    - *ref_64
                                    - *ref_65
                                coefficientSurfacique:
                                  type: number
                                  maximum: 1.7
                                facteurSolaire:
                                  type: number
                                  maximum: 0.36
                              required:
                                - typeFenetre
                                - coefficientSurfacique
                                - facteurSolaire
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            ancienneteBatiment: EXISTANT
                            energieChauffage: COMBUSTIBLES
                            quantite: 100
                            typeFenetre: AUTRES
                            coefficientSurfacique: 1.2
                            facteurSolaire: 0.2
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-104v14-1
                        required:
                          - fiche
                BAR-EN-105v39-3: &ref_190
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-105v39-3
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-105v39-3
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            quantite:
                              title: Surface d'isolant posé (m²)
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la surface résultant de la
                                superposition des isolants
                              type: number
                              minimum: 0
                            resistanceThermique:
                              title: Résistance thermmique de l'isolant
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la résistance thermique
                                globale
                              type: number
                              minimum: 4.5
                            epaisseur:
                              title: Epaisseur de l'isolant (mm)
                              type: number
                              minimum: 0
                            references:
                              title: Marques et références
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer les marques et références de
                                chacun des isolants posés
                              type: array
                              minItems: 1
                              items:
                                type: object
                                properties:
                                  marque:
                                    title: Marque de l'isolant
                                    type: string
                                  reference:
                                    title: Référence de l'isolant
                                    type: string
                                required:
                                  - marque
                                  - reference
                          required:
                            - ancienneteBatiment
                            - quantite
                            - resistanceThermique
                            - epaisseur
                            - references
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_66
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            quantite: 100
                            resistanceThermique: 5
                            epaisseur: 200
                            references:
                              - marque: MARQUE
                                reference: REFERENCE
                              - marque: MARQUE
                                reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-105v39-3
                        required:
                          - fiche
                BAR-EN-106v33-4: &ref_189
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-106v33-4
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-106v33-4
                      type: object
                      properties:
                        adresse: *ref_67
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: &ref_68
                              title: Type de bâtiment
                              type: string
                              oneOf:
                                - &ref_84
                                  title: Maison individuelle
                                  const: MAISON
                                - &ref_118
                                  title: Immeuble collectif
                                  const: IMMEUBLE
                            ancienneteBatiment: &ref_69
                              title: Ancienneté du bâtiment
                              description: >-
                                Ancienneté du bâtiment à la date d'engagement de
                                l'opération
                              oneOf:
                                - title: Bâtiment de moins de 2 ans
                                  const: NEUF
                                - title: Bâtiment de plus de deux ans
                                  const: EXISTANT
                            quantite:
                              title: Surface d'isolant posé (m²)
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la surface résultant de la
                                superposition des isolants
                              type: number
                              minimum: 0
                            resistanceThermique:
                              title: Résistance thermmique de l'isolant
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la résistance thermique
                                globale
                              type: number
                              minimum: 1.5
                            epaisseur:
                              title: Epaisseur de l'isolant (mm)
                              type: number
                              minimum: 0
                            references:
                              title: Marques et références
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer les marques et références de
                                chacun des isolants posés
                              type: array
                              minItems: 1
                              items:
                                type: object
                                properties:
                                  marque:
                                    title: Marque de l'isolant
                                    type: string
                                  reference:
                                    title: Référence de l'isolant
                                    type: string
                                required:
                                  - marque
                                  - reference
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - quantite
                            - resistanceThermique
                            - epaisseur
                            - references
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_66
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            quantite: 100
                            resistanceThermique: 2
                            epaisseur: 100
                            references:
                              - marque: MARQUE
                                reference: REFERENCE
                              - marque: MARQUE
                                reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-106v33-4
                        required:
                          - fiche
                BAR-EN-107v20-3: &ref_188
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-107v20-3
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-107v20-3
                      type: object
                      properties:
                        adresse: *ref_67
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_68
                            ancienneteBatiment: *ref_69
                            quantite:
                              title: Surface d'isolant posé (m²)
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la surface résultant de la
                                superposition des isolants
                              type: number
                              minimum: 0
                            resistanceThermique:
                              title: Résistance thermmique de l'isolant
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la résistance thermique
                                globale
                              type: number
                              minimum: 0.5
                            epaisseur:
                              title: Epaisseur de l'isolant (mm)
                              type: number
                              minimum: 0
                            references:
                              title: Marques et références
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer les marques et références de
                                chacun des isolants posés
                              type: array
                              minItems: 1
                              items:
                                type: object
                                properties:
                                  marque:
                                    title: Marque de l'isolant
                                    type: string
                                  reference:
                                    title: Référence de l'isolant
                                    type: string
                                required:
                                  - marque
                                  - reference
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - quantite
                            - resistanceThermique
                            - epaisseur
                            - references
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_66
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            quantite: 100
                            resistanceThermique: 0.6
                            epaisseur: 100
                            references:
                              - marque: MARQUE
                                reference: REFERENCE
                              - marque: MARQUE
                                reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-107v20-3
                        required:
                          - fiche
                BAR-EN-108v37-2: &ref_187
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-108v37-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-108v37-2
                      type: object
                      properties:
                        adresse: *ref_67
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            ancienneteEquipement:
                              title: >-
                                La fenêtre ou porte-fenêtre sur laquelle est
                                installée la fermeture isolante est âgée de plus
                                de 2 ans à la date d'engagement de l'opération
                              const: EXISTANT
                            energieChauffage: *ref_70
                            quantite:
                              title: Nombre de fermetures isolantes posées
                              type: integer
                              minimum: 0
                            resistanceThermique:
                              title: Résistance thermique additionnelle (m².K/W)
                              type: number
                              minimum: 0.22
                            marque:
                              title: Marque des équipements installés
                              type: string
                            reference:
                              title: Référence des équipements installés
                              type: string
                          required:
                            - ancienneteBatiment
                            - ancienneteEquipement
                            - energieChauffage
                            - quantite
                            - resistanceThermique
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                      examples:
                        - adresse: *ref_66
                          caracteristiques:
                            ancienneteBatiment: EXISTANT
                            ancienneteEquipement: EXISTANT
                            energieChauffage: COMBUSTIBLES
                            quantite: 10
                            resistanceThermique: 0.4
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-108v37-2
                        required:
                          - fiche
                BAR-EN-109v24-1: &ref_185
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-109v24-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-109v24-1
                      type: object
                      properties:
                        adresse: *ref_67
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_68
                            ancienneteBatiment: *ref_62
                            energieChauffage: *ref_70
                            quantite:
                              title: Surface de toiture protégée (en m²)
                              type: number
                              minimum: 0
                            compositionToiture:
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/constitution_toiture
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Constitution d'une toiture performante
                              type: string
                              oneOf:
                                - &ref_71
                                  const: SYSTEME
                                  title: >-
                                    Toiture contituée d'un système de toiture
                                    assurant à lui seul le facteur solaire
                                    requis
                                - &ref_72
                                  const: ENSEMBLE_ELEMENTS
                                  title: >-
                                    Toiture constituée d'un ensemble d'éléments
                                    dont la composition permet d'obtenir le
                                    facteur solaire requis
                              $defs:
                                SYSTEME: *ref_71
                                ENSEMBLE_ELEMENTS: *ref_72
                            facteurSolaire:
                              title: Facteur solaire (m².K/W)
                              type: number
                              maximum: 0.03
                            marque:
                              title: Marque de l'isolant
                              type: string
                            reference:
                              title: Référence de l'isolant
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - energieChauffage
                            - quantite
                            - compositionToiture
                            - facteurSolaire
                            - marque
                            - reference
                      allOf:
                        - if:
                            properties:
                              adresse:
                                type: object
                                properties:
                                  codeCommune:
                                    type: string
                                    pattern: '[976].+'
                                required:
                                  - codeCommune
                            required:
                              - adresse
                          then:
                            properties:
                              caracteristiques:
                                type: object
                                properties:
                                  facteurSolaire:
                                    type: number
                                    maximum: 0.02
                                required:
                                  - facteurSolaire
                            required:
                              - caracteristiques
                        - if:
                            properties:
                              caracteristiques:
                                type: object
                                properties:
                                  compositionToiture: *ref_72
                                required:
                                  - compositionToiture
                            required:
                              - caracteristiques
                          then:
                            properties:
                              documents:
                                type: array
                                allOf:
                                  - contains:
                                      title: Note de calcul du facteur solaire
                                      type: object
                                      properties:
                                        code:
                                          const: NOTE_CALCUL
                                      required:
                                        - code
                            required:
                              - documents
                      required:
                        - adresse
                        - caracteristiques
                      examples:
                        - adresse: *ref_66
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            energieChauffage: COMBUSTIBLES
                            quantite: 100
                            compositionToiture: ENSEMBLE_ELEMENTS
                            facteurSolaire: 0.01
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: NOTE_CALCUL
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-109v24-1
                        required:
                          - fiche
                BAR-EN-110v35-1: &ref_184
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-110v35-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-110v35-1
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            typeVentilation:
                              title: Type de système ventilation mécanique présent
                              type: string
                              oneOf:
                                - const: AUTOREGLABLE
                                  title: Simple flux autoréglable
                                - const: HYGROREGLABLE
                                  title: Simple flux hygroréglable de type A
                                - &ref_132
                                  const: NATURELLE
                                  title: Ventilation naturelle assitée
                            quantite:
                              title: >-
                                Nombre de fenêtres ou portes fenêtres complètes
                                pariétodynamiques posées
                              type: integer
                              minimum: 0
                            coefficientSurfacique:
                              title: >-
                                Coefficient de transmission surfacique Uw
                                (W/m².K)
                              type: number
                              maximum: 1.4
                            facteurSolaire:
                              title: Facteur solaire
                              type: number
                              minimum: 0.5
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          required:
                            - ancienneteBatiment
                            - typeVentilation
                            - quantite
                            - coefficientSurfacique
                            - facteurSolaire
                            - marque
                            - reference
                          anyOf:
                            - properties:
                                coefficientSurfacique:
                                  type: number
                                  maximum: 1.1
                                facteurSolaire:
                                  type: number
                                  minimum: 0.5
                              required:
                                - coefficientSurfacique
                                - facteurSolaire
                            - properties:
                                coefficientSurfacique:
                                  type: number
                                  maximum: 1.4
                                facteurSolaire:
                                  type: number
                                  minimum: 0.55
                              required:
                                - coefficientSurfacique
                                - facteurSolaire
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            ancienneteBatiment: EXISTANT
                            typeVentilation: NATURELLE
                            quantite: 10
                            coefficientSurfacique: 0.8
                            facteurSolaire: 0.6
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-110v35-1
                        required:
                          - fiche
                BAR-EQ-110v15-1: &ref_183
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EQ-110v15-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EQ-110v15-1
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            indiceProtectionChocs:
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/indice_protection_chocs
                              $schema: https://json-schema.org/draft/2020-12/schema
                              $comment: >-
                                https://www.seton.fr/media/cms/files/stfr/DMEU_TDS_2584_std.lang.all.pdf
                              title: Indice de de protection aux chocs
                              type: string
                              oneOf:
                                - &ref_74
                                  const: '00'
                                  title: '00'
                                - &ref_75
                                  const: '01'
                                  title: '01'
                                - &ref_76
                                  const: '02'
                                  title: '02'
                                - &ref_77
                                  const: '03'
                                  title: '03'
                                - &ref_78
                                  const: '04'
                                  title: '04'
                                - &ref_79
                                  const: '05'
                                  title: '05'
                                - &ref_80
                                  const: '06'
                                  title: '06'
                                - &ref_81
                                  const: '07'
                                  title: '07'
                                - &ref_82
                                  const: '08'
                                  title: '08'
                                - &ref_83
                                  const: '09'
                                  title: '09'
                                - &ref_73
                                  const: '10'
                                  title: '10'
                              $defs:
                                '10': *ref_73
                                '00': *ref_74
                                '01': *ref_75
                                '02': *ref_76
                                '03': *ref_77
                                '04': *ref_78
                                '05': *ref_79
                                '06': *ref_80
                                '07': *ref_81
                                '08': *ref_82
                                '09': *ref_83
                            efficaciteLumineuse:
                              title: Efficacité lumineuse (lm/W)
                              type: integer
                              minimum: 65
                            dureeVie:
                              title: Durée de vie (heures)
                              description: >-
                                Durée de vie avec une chute de flux lumineux ≤ à
                                30 %
                              type: integer
                              minimum: 40000
                            quantite:
                              title: Quantité de luminaires installés
                              type: integer
                              minimum: 0
                            detecteurLumiere:
                              title: >-
                                Système de détection tenant compte des apports
                                de lumière du jour
                              type: boolean
                            detecteurPresence:
                              title: Détection de présence ou de mouvement
                              type: boolean
                            marque:
                              title: Marque
                              type: string
                            reference:
                              title: Référence
                              type: string
                          required:
                            - ancienneteBatiment
                            - indiceProtectionChocs
                            - efficaciteLumineuse
                            - dureeVie
                            - quantite
                            - marque
                            - reference
                          allOf:
                            - if:
                                not:
                                  properties:
                                    indiceProtectionChocs: *ref_73
                                required:
                                  - indiceProtectionChocs
                              then:
                                properties:
                                  efficaciteLumineuse:
                                    type: integer
                                    minimum: 90
                                required:
                                  - indiceProtectionChocs
                            - if:
                                not:
                                  properties:
                                    indiceProtectionChocs: *ref_73
                                required:
                                  - indiceProtectionChocs
                              then:
                                properties:
                                  dureeVie:
                                    type: integer
                                    minimum: 50000
                                required:
                                  - dureeVie
                          anyOf:
                            - properties:
                                detecteurLumiere:
                                  const: true
                              required:
                                - detecteurLumiere
                            - properties:
                                detecteurPresence:
                                  const: true
                              required:
                                - detecteurPresence
                      required:
                        - caracteristiques
                      examples:
                        - caracteristiques:
                            ancienneteBatiment: EXISTANT
                            indiceProtectionChocs: '10'
                            efficaciteLumineuse: 95
                            detecteurLumiere: true
                            dureeVie: 60000
                            quantite: 100
                            marque: MARQUE
                            reference: REFERENCE
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EQ-110v15-1
                        required:
                          - fiche
                BAR-EQ-115v28-1: &ref_182
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EQ-115v28-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      $comment: >-
                        TODO: Intégrer les fonctionnalités d'affichage des
                        consommations
                      title: BAR-EQ-115v28-1
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: &ref_89
                              title: Type de logement
                              type: string
                              oneOf: &ref_136
                                - *ref_84
                                - &ref_98
                                  title: Appartement
                                  const: APPARTEMENT
                            ancienneteBatiment: *ref_62
                            typeInstallationChauffage:
                              title: Type d'installation de chauffage
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_installation
                              $schema: https://json-schema.org/draft/2020-12/schema
                              type: string
                              oneOf: &ref_100
                                - &ref_85
                                  const: INDIVIDUEL
                                  title: Installation individuelle
                                - &ref_86
                                  const: COLLECTIF
                                  title: Installation collective
                              $defs: &ref_101
                                INDIVIDUEL: *ref_85
                                COLLECTIF: *ref_86
                            energieChauffage:
                              title: Energie de chauffage principale
                              type: string
                              oneOf: *ref_87
                            surfaceHabitable:
                              title: Surface habitable (m²)
                              type: number
                              minimum: 0
                            location:
                              title: >-
                                Le dispositif d'affichage et d'interprétation
                                est installé dans le cadre d'une location
                              type: boolean
                            optionSuiviConfort:
                              title: >-
                                Le dispositif inclut l'option « suivi du confort
                                » comprenant la collecte locale et l'affichage
                                des données de température et d'hygrométrie
                                intérieures et extérieures au logement
                              type: boolean
                            optionCollecteConsommations:
                              title: >-
                                Le dispositif permet de collecter et de traiter
                                les données de consommations d'énergie de
                                l'utilisateur
                              type: boolean
                              const: true
                            optionAssistance:
                              title: >-
                                Le dispositif apporte à l'utilisateur des
                                conseils adaptés à sa situation, l'aide à
                                interpréter les données affichées et à réduire
                                ses consommations d'énergie
                              type: boolean
                              const: true
                            optionBilanPeriodique:
                              title: >-
                                Le dispositif informe l'utilisateur de manière
                                régulière, à un pas inférieur ou égal à 1 mois,
                                des données disponibles sur l'affichage en lui
                                adressant un bilan de la période écoulée, et en
                                l'invitant à consulter l'affichage pour
                                davantage de détails
                              type: boolean
                              const: true
                            optionAlarmeDepassement:
                              title: >-
                                En cas de dépassement d'un seuil de consommation
                                de référence, le dispositif émet une alarme
                                explicite (par exemple SMS, mail,
                                notification...)
                              type: boolean
                              const: true
                            optionComparaisonConsommations:
                              title: >-
                                Le dispositif permet de comparer les
                                consommations réalisées à des consommations
                                types, établies à partir de moyennes nationales
                                et locales pour des profils de consommations
                                comparables à ceux de l'utilisateur, et à des
                                seuils
                              type: boolean
                              const: true
                          required:
                            - ancienneteBatiment
                            - typeBatiment
                            - typeInstallationChauffage
                            - surfaceHabitable
                            - location
                            - optionSuiviConfort
                            - optionCollecteConsommations
                            - optionAssistance
                            - optionBilanPeriodique
                            - optionAlarmeDepassement
                            - optionComparaisonConsommations
                          allOf:
                            - if:
                                properties:
                                  typeInstallationChauffage: *ref_86
                                  energieChauffage: *ref_88
                                required:
                                  - typeInstallationChauffage
                                  - energieChauffage
                              then:
                                properties:
                                  critereCompteurIndividuel:
                                    title: >-
                                      Le logement est équipé d'un compteur
                                      individuel d'énergie
                                    type: boolean
                                  critereRepartiteurs:
                                    title: Le logement est équipé de répartiteurs
                                    type: boolean
                                required:
                                  - critereCompteurIndividuel
                                  - critereRepartiteurs
                                anyOf:
                                  - properties:
                                      critereCompteurIndividuel:
                                        const: true
                                  - properties:
                                      critereRepartiteurs:
                                        const: true
                            - if:
                                properties:
                                  location:
                                    type: boolean
                                    const: true
                                required:
                                  - location
                              then:
                                properties:
                                  dureeLocation:
                                    title: Durée de location (mois)
                                    type: integer
                                    minimum: 24
                                required:
                                  - dureeLocation
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Descriptif du dispositif issu du fabricant
                                type: object
                                properties:
                                  code:
                                    const: DESCRIPTIF_TECHNIQUE
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            typeBatiment: APPARTEMENT
                            ancienneteBatiment: EXISTANT
                            typeInstallationChauffage: COLLECTIF
                            energieChauffage: ELECTRICITE
                            surfaceHabitable: 70
                            location: false
                            optionSuiviConfort: true
                            optionCollecteConsommations: true
                            optionAssistance: true
                            optionBilanPeriodique: true
                            optionAlarmeDepassement: true
                            optionComparaisonConsommations: true
                          documents:
                            - code: DESCRIPTIF_TECHNIQUE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EQ-115v28-1
                        required:
                          - fiche
                BAR-TH-101v17-1: &ref_181
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-101v17-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-101v17-1
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment:
                              title: Maison individuelle
                              const: MAISON
                            ancienneteBatiment: *ref_62
                            marque:
                              title: Marque
                              type: string
                            reference:
                              title: Référence
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Certification CSTBat ou SolarKeymark
                                description: >-
                                  Certification CSTBat ou SolarKeymark des
                                  capteurs solaires ou les pièces justifiant de
                                  son équivalence
                                type: object
                                properties:
                                  code:
                                    const: CERTIFICATION
                                required:
                                  - code
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: CERTIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-101v17-1
                        required:
                          - fiche
                BAR-TH-102v17-1: &ref_180
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-102v17-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-102v17-1
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment:
                              title: Immeuble collectif
                              const: IMMEUBLE
                            ancienneteBatiment: *ref_62
                            surfaceCapteurs:
                              title: Surface totale de capteurs solaires posés (m²)
                              type: number
                              minimum: 0
                            besoinEauChaudeSanitaire:
                              title: Besoin annuel en eau chaude sanitaire (kWh/an)
                              description: >-
                                Indiquer le besoin annuel en eau chaude
                                sanitaire issu de l'étude de dimensionnement
                              type: number
                              minimum: 0
                            tauxCouvertureSolaire:
                              title: Taux de couverture par l'énergie solaire (%)
                              description: >-
                                Indiquer le taux de couverture par l'énergie
                                solaire issu de l'étude de dimensionnement
                              type: number
                              minimum: 0
                            productionSolaireUtile:
                              title: Production solaire utile (kWh/an)
                              description: >-
                                Indiquer la production solaire utile issue de
                                l'étude de dimensionnement
                              type: number
                              minimum: 0
                            marque:
                              title: Marque de l'équipement
                              type: string
                            reference:
                              title: Référence de l'équipement
                              type: string
                          required:
                            - ancienneteBatiment
                            - typeBatiment
                            - surfaceCapteurs
                            - besoinEauChaudeSanitaire
                            - tauxCouvertureSolaire
                            - productionSolaireUtile
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Certification
                                description: >-
                                  Certification CSTBat ou SolarKeymark des
                                  capteurs solaires
                                type: object
                                properties:
                                  code:
                                    const: CERTIFICATION
                                required:
                                  - code
                            - contains:
                                title: Etude de dimensionnement
                                type: object
                                properties:
                                  code:
                                    const: ETUDE_DIMENSIONNEMENT
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: IMMEUBLE
                            ancienneteBatiment: EXISTANT
                            surfaceCapteurs: 30
                            besoinEauChaudeSanitaire: 100000
                            tauxCouvertureSolaire: 80
                            productionSolaireUtile: 80000
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: CERTIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: ETUDE_DIMENSIONNEMENT
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-102v17-1
                        required:
                          - fiche
                BAR-TH-104v41-3: &ref_179
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-104v41-3
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-104v41-3
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            temperatureDistribution: &ref_130
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/temperature_distribution
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Température de distribution (°C)
                              type: string
                              oneOf:
                                - &ref_90
                                  const: BASSE_TEMPERATURE
                                  title: Distribution à basse température
                                - &ref_91
                                  const: MOYENNE_TEMPERATURE
                                  title: Distribution à moyenne température
                                - &ref_92
                                  const: HAUTE_TEMPERATURE
                                  title: Distribution à haute température
                              $defs:
                                BASSE_TEMPERATURE: *ref_90
                                MOYENNE_TEMPERATURE: *ref_91
                                HAUTE_TEMPERATURE: *ref_92
                            surfaceChauffee:
                              title: Surface chaufée par l'équipement (m²)
                              type: number
                              minimum: 0
                            performanceEnergetique:
                              title: Efficacité énergétique saisonnière (%)
                              type: number
                              minimum: 111
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          allOf:
                            - if:
                                properties:
                                  temperatureDistribution: *ref_90
                                required:
                                  - temperatureDistribution
                              then:
                                properties:
                                  performanceEnergetique:
                                    type: number
                                    minimum: 126
                                required:
                                  - performanceEnergetique
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - temperatureDistribution
                            - performanceEnergetique
                            - surfaceChauffee
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Note de dimensionnement
                                type: object
                                properties:
                                  code:
                                    type: string
                                    const: NOTE_DIMENSIONNEMENT
                                required:
                                  - code
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    type: string
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            temperatureDistribution: BASSE_TEMPERATURE
                            surfaceChauffee: 100
                            performanceEnergetique: 130
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: NOTE_DIMENSIONNEMENT
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-104v41-3
                        required:
                          - fiche
                BAR-TH-106v23-2: &ref_178
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-106v23-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-106v23-2
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                          allOf:
                            - if:
                                properties:
                                  typeBatiment: *ref_84
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  surfaceHabitable:
                                    title: Surface habitable du logement (m²)
                                    type: number
                                    minimum: 0
                                required:
                                  - surfaceHabitable
                                allOf:
                                  - &ref_99
                                    type: object
                                    properties:
                                      puissanceNominale:
                                        title: >-
                                          Puissance thermique nominale unitaire
                                          (kW)
                                        type: number
                                        minimum: 0
                                        maximum: 70
                                      quantite:
                                        title: Nombre d'équipements installé
                                        type: integer
                                        minimum: 1
                                      performanceEnergetique:
                                        title: Efficacité énergétique saisonnière (%)
                                        type: number
                                        minimum: 90
                                      marque:
                                        title: Marque des équipements
                                        type: string
                                      reference:
                                        title: Référence des équipements
                                        type: string
                                      performanceEnergetiqueRegulateur:
                                        title: Classe du régulateur
                                        $id: >-
                                          https://schemas.ceeconnect.fr/enums/bar/classe_regulateur
                                        $schema: >-
                                          https://json-schema.org/draft/2020-12/schema
                                        $comment: >-
                                          Classe du régulateur telle que définie
                                          au paragraphe 6.1 de la communication de
                                          la Commission 2014/C 207/02 dans le
                                          cadre du règlement (UE) n°813/2013
                                        type: string
                                        oneOf: &ref_106
                                          - &ref_93
                                            const: IV
                                            title: Classe IV
                                          - &ref_94
                                            const: V
                                            title: Classe V
                                          - &ref_95
                                            const: VI
                                            title: Classe VI
                                          - &ref_96
                                            const: VII
                                            title: Classe VII
                                          - &ref_97
                                            const: VIII
                                            title: Classe VIII
                                        $defs: &ref_107
                                          IV: *ref_93
                                          V: *ref_94
                                          VI: *ref_95
                                          VII: *ref_96
                                          VIII: *ref_97
                                      marqueRegulateur:
                                        title: Marque du régulateur
                                        type: string
                                      referenceRegulateur:
                                        title: Référence du régulateur
                                        type: string
                                    required:
                                      - puissanceNominale
                                      - quantite
                                      - performanceEnergetique
                                      - marque
                                      - reference
                                      - performanceEnergetiqueRegulateur
                                      - marqueRegulateur
                                      - referenceRegulateur
                                  - properties:
                                      quantite:
                                        const: 1
                                    required:
                                      - quantite
                            - if:
                                properties:
                                  typeBatiment: *ref_98
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  logements:
                                    title: Nombre d'appartements
                                    description: Nombre d'appartements équipés
                                    type: integer
                                    minimum: 0
                                  equipements:
                                    title: Liste des équipements installés
                                    description: >-
                                      Regrouper les équipements par
                                      caractéristiques et performances
                                      identiques
                                    type: array
                                    minItems: 1
                                    items: *ref_99
                                required:
                                  - logements
                                  - equipements
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      $defs:
                        equipement: *ref_99
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            surfaceHabitable: 100
                            quantite: 1
                            puissanceNominale: 20
                            performanceEnergetique: 95
                            performanceEnergetiqueRegulateur: VII
                            marque: MARQUE
                            reference: REFERENCE
                            marqueRegulateur: MARQUE
                            referenceRegulateur: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-106v23-2
                        required:
                          - fiche
                BAR-TH-110v16-1: &ref_177
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-110v16-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-110v16-1
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            critereChauffageCentral:
                              title: >-
                                Logement(s) chauffé(s) par un système de
                                chauffage central
                              type: boolean
                              const: true
                            quantite:
                              title: Nombre de radiateurs installé
                              type: integer
                              minimum: 1
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          allOf:
                            - if:
                                properties:
                                  typeBatiment: *ref_98
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  typeInstallation: &ref_116
                                    $id: >-
                                      https://schemas.ceeconnect.fr/enums/bar/type_installation
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    title: Type d'installation
                                    type: string
                                    oneOf: *ref_100
                                    $defs: *ref_101
                                required:
                                  - typeInstallation
                          required:
                            - ancienneteBatiment
                            - typeBatiment
                            - critereChauffageCentral
                            - quantite
                            - marque
                            - reference
                      required:
                        - caracteristiques
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            critereChauffageCentral: true
                            ancienneteEquipement: EXISTANT
                            quantite: 10
                            marque: MARQUE
                            reference: REFERENCE
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-110v16-1
                        required:
                          - fiche
                BAR-TH-111v17-1: &ref_176
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-111v17-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-111v17-1
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment:
                              title: Maison individuelle
                              const: MAISON
                            ancienneteBatiment: *ref_62
                            energieChauffage: *ref_70
                            ancienneteEquipement:
                              title: >-
                                Système de chauffage sur boucle à eau chaude
                                existant depuis plus de 2 ans
                              const: EXISTANT
                            surfaceHabitable:
                              title: Surface habitable
                              type: number
                              minimum: 0
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - energieChauffage
                            - ancienneteEquipement
                            - surfaceHabitable
                            - marque
                            - reference
                      required:
                        - caracteristiques
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            energieChauffage: ELECTRICITE
                            ancienneteEquipement: EXISTANT
                            surfaceHabitable: 100
                            marque: MARQUE
                            reference: REFERENCE
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-111v17-1
                        required:
                          - fiche
                BAR-TH-112v46-3: &ref_175
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-112v46-3
                      $schema: https://json-schema.org/draft/2020-12/schema
                      $comment: Scénario Flamme verte uniquement couvert
                      title: BAR-TH-112v46-3
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment:
                              title: Maison individuelle
                              const: MAISON
                            ancienneteBatiment: *ref_62
                            typeCombustible:
                              title: Type de combustible
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_combustible_biomasse
                              $schema: https://json-schema.org/draft/2020-12/schema
                              type: string
                              oneOf:
                                - &ref_102
                                  const: GRANULES
                                  title: Granulés
                                - &ref_103
                                  const: AUTRES
                                  title: Autres combustibles
                              $defs:
                                GRANULES: *ref_102
                                AUTRES: *ref_103
                            performanceEnergetique:
                              title: Efficacité énergétique saisonnière (%)
                              type: number
                              minimum: 66
                            critereFlammeVerte:
                              title: >-
                                La chaudière installée possède le label Flamme
                                Verte 7*
                              type: boolean
                              const: true
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          allOf:
                            - if:
                                properties:
                                  typeCombustible: *ref_102
                                required:
                                  - typeCombustible
                              then:
                                properties:
                                  performanceEnergetique:
                                    type: number
                                    minimum: 80
                                required:
                                  - performanceEnergetique
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - typeCombustible
                            - performanceEnergetique
                            - critereFlammeVerte
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            typeCombustible: GRANULES
                            performanceEnergetique: 90
                            critereFlammeVerte: true
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-112v46-3
                        required:
                          - fiche
                BAR-TH-113v41-3: &ref_174
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-113v41-3
                      $schema: https://json-schema.org/draft/2020-12/schema
                      $comment: Scénario Flamme verte uniquement couvert
                      title: BAR-TH-113v41-3
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_84
                            ancienneteBatiment: *ref_62
                            typeEquipement:
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_chaudiere_biomasse
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Type de chaudière biomasse
                              type: string
                              oneOf:
                                - &ref_104
                                  const: CHARGEMENT_AUTOMATIQUE
                                  title: Chaudière à chargement automatique
                                - &ref_105
                                  const: CHARGEMENT_MANUEL
                                  title: Chaudière à chargement manuel
                              $defs:
                                CHARGEMENT_AUTOMATIQUE: *ref_104
                                CHARGEMENT_MANUEL: *ref_105
                            puissanceNominale:
                              title: Puissance nominale de la chaudière
                              type: number
                              minimum: 0
                            performanceEnergetique:
                              title: Efficacité énergétique saisonnière
                              type: number
                              minimum: 77
                            performanceEnergetiqueRegulateur:
                              title: Classe du régulateur
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/classe_regulateur
                              $schema: https://json-schema.org/draft/2020-12/schema
                              $comment: >-
                                Classe du régulateur telle que définie au
                                paragraphe 6.1 de la communication de la
                                Commission 2014/C 207/02 dans le cadre du
                                règlement (UE) n°813/2013
                              type: string
                              oneOf: *ref_106
                              $defs: *ref_107
                            critereTypeBiomasse:
                              title: >-
                                Biomasse ligneuse à base de bûches de bois, de
                                copeaux de bois, de bois comprimé sous forme de
                                granulés, de bois comprimé sous forme de
                                briquettes ou de sciure de bois
                              type: boolean
                              const: true
                            critereFlammeVerte:
                              title: >-
                                La chaudière installée possède le label Flamme
                                Verte 7*
                              type: boolean
                              const: true
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          allOf:
                            - if:
                                properties:
                                  puissanceNominale:
                                    type: number
                                    exclusiveMinimum: 20
                                required:
                                  - puissanceNominale
                              then:
                                properties:
                                  performanceEnergetique:
                                    type: number
                                    minimum: 79
                                required:
                                  - performanceEnergetique
                            - if:
                                properties:
                                  typeEquipement: *ref_104
                                required:
                                  - typeEquipement
                              then:
                                properties:
                                  criterePresenceSilo:
                                    title: Présence d'un silo d'au moins 225 litres
                                    type: boolean
                                    const: true
                                required:
                                  - criterePresenceSilo
                            - if:
                                properties:
                                  typeEquipement: *ref_105
                                required:
                                  - typeEquipement
                              then:
                                properties:
                                  criterePresenceBallon:
                                    title: Présence d'un ballon tampon
                                    type: boolean
                                    const: true
                                required:
                                  - criterePresenceBallon
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - typeEquipement
                            - performanceEnergetique
                            - performanceEnergetiqueRegulateur
                            - puissanceNominale
                            - critereTypeBiomasse
                            - critereFlammeVerte
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                            - contains:
                                title: Note de dimensionnement
                                type: object
                                properties:
                                  code:
                                    const: NOTE_DIMENSIONNEMENT
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            typeEquipement: CHARGEMENT_AUTOMATIQUE
                            puissanceNominale: 18
                            performanceEnergetique: 85
                            performanceEnergetiqueRegulateur: VII
                            critereTypeBiomasse: true
                            critereFlammeVerte: true
                            criterePresenceSilo: true
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: NOTE_DIMENSIONNEMENT
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-113v41-3
                        required:
                          - fiche
                BAR-TH-116v17-1: &ref_173
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-116v17-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-116v17-1
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            surfaceChauffee:
                              title: Surface chauffée par le plancher chauffant (m²)
                              type: number
                              minimum: 0
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          allOf:
                            - if:
                                properties:
                                  typeBatiment: *ref_98
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  typeInstallationChauffage:
                                    title: Type de chauffage central
                                    $id: >-
                                      https://schemas.ceeconnect.fr/enums/bar/type_chauffage
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    type: string
                                    oneOf: &ref_110
                                      - &ref_108
                                        const: INDIVIDUEL
                                        title: Chauffage central individuel
                                      - &ref_109
                                        const: COLLECTIF
                                        title: Chauffage central collectif
                                    $defs: &ref_111
                                      INDIVIDUEL: *ref_108
                                      COLLECTIF: *ref_109
                                required:
                                  - typeInstallationChauffage
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - surfaceChauffee
                            - marque
                            - reference
                      required:
                        - caracteristiques
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            surfaceChauffee: 100
                            marque: MARQUE
                            reference: REFERENCE
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-116v17-1
                        required:
                          - fiche
                BAR-TH-117v14-1: &ref_172
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-117v14-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-117v14-1
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            ancienneteChaudiere:
                              title: >-
                                Chaudière existante depuis plus de deux ans à la
                                date d'engagement de l'opération
                              const: EXISTANT
                            ancienneteRadiateur:
                              title: >-
                                Radiateur existant depuis plus de deux ans à la
                                date d'engagement de l'opération
                              const: EXISTANT
                            quantite:
                              title: Nombre d'équipements installés
                              type: integer
                              minimum: 1
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - ancienneteChaudiere
                            - ancienneteRadiateur
                            - quantite
                            - marque
                            - reference
                          allOf:
                            - if:
                                properties:
                                  typeBatiment: *ref_98
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  typeInstallationChauffage:
                                    title: Type de chauffage central
                                    $id: >-
                                      https://schemas.ceeconnect.fr/enums/bar/type_chauffage
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    type: string
                                    oneOf: *ref_110
                                    $defs: *ref_111
                                required:
                                  - typeInstallationChauffage
                      required:
                        - caracteristiques
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            ancienneteChaudiere: EXISTANT
                            ancienneteRadiateur: EXISTANT
                            quantite: 10
                            marque: MARQUE
                            reference: REFERENCE
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-117v14-1
                        required:
                          - fiche
                BAR-TH-124v35-3: &ref_171
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-124v35-3
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-124v35-3
                      type: object
                      properties:
                        adresse: *ref_67
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_84
                            ancienneteBatiment:
                              description: >-
                                Les parties nouvelles de logements existants
                                sont considérées comme des logements neufs
                              $id: https://schemas.ceeconnect.fr/enums/anciennete
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Ancienneté
                              type: string
                              oneOf:
                                - &ref_112
                                  const: NEUF
                                  title: Moins de 2 ans
                                - &ref_113
                                  const: EXISTANT
                                  title: Plus de 2 ans
                              $defs:
                                NEUF: *ref_112
                                EXISTANT: *ref_113
                                batiment: *ref_69
                                batimentExistant:
                                  const: EXISTANT
                                  title: Plus de 2 ans
                            typeVente:
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_vente
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Type de vente
                              type: string
                              oneOf:
                                - &ref_114
                                  const: VENTE
                                  title: Vente
                                - &ref_115
                                  const: ABONNEMENT
                                  title: Abonnement
                              $defs:
                                VENTE: *ref_114
                                ABONNEMENT: *ref_115
                            mentionsContrat:
                              title: >-
                                Le contrat de vente par abonnement a d'une durée
                                minimale de dix ans et il comporte une clause de
                                maintien, par le professionnel, du bon état de
                                fonctionnement du CESI pendant toute la durée du
                                contrat d'abonnement
                              type: boolean
                              const: true
                            quantite:
                              title: Nombre d'appareils installé
                              type: integer
                              minimum: 1
                            surfaceCapteurs:
                              title: >-
                                Superficie hors-tout totale de capteurs solaires
                                posés
                              type: number
                              minimum: 0
                            performanceEnergetique:
                              title: >-
                                Efficacité énergétique pour le chauffage de
                                l'eau (%)
                              description: >-
                                Indiquer l'efficacité énergétique conformément
                                au règlement (UE) n° 814/2013
                              type: number
                              minimum: 36
                          allOf:
                            - if:
                                properties:
                                  typeBatiment: *ref_98
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  surfaceCapteurs:
                                    type: number
                                    maximum: 40
                                required:
                                  - surfaceCapteurs
                            - if:
                                properties:
                                  typeVente: *ref_115
                                required:
                                  - typeVente
                              then:
                                properties:
                                  dureeContrat:
                                    title: >-
                                      Le contrat de vente par abonnement a d'une
                                      durée minimale de dix ans et il comporte
                                      une clause de maintien, par le
                                      professionnel, du bon état de
                                      fonctionnement du CESI pendant toute la
                                      durée du contrat d'abonnement
                                    type: boolean
                                    const: true
                                required:
                                  - dureeContrat
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - typeVente
                            - mentionsContrat
                            - quantite
                            - surfaceCapteurs
                            - performanceEnergetique
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: >-
                                  Certification QB dont le domaine d'emploi de
                                  l'avis technique couvre explicitement les
                                  départements d'outremer
                                type: object
                                properties:
                                  code:
                                    const: CERTIFICATION
                                required:
                                  - code
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayant
                                  assuré la réalisation de l'opération
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_66
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            typeVente: VENTE
                            mentionsContrat: true
                            quantite: 1
                            surfaceCapteurs: 15
                            performanceEnergetique: 80
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: CERTIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-124v35-3
                        required:
                          - fiche
                BAR-TH-125v40-4: &ref_170
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-125v40-4
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-125v40-4
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            typeInstallation: *ref_116
                            surfaceHabitable:
                              title: Surface habitable (m²)
                              type: number
                              minimum: 0
                            marqueCaisson:
                              title: Marque du caisson
                              type: string
                            referenceCaisson:
                              title: Référence du caisson
                              type: string
                            marqueBouchesExtraction:
                              title: Marque des bouches d'extrations
                              type: string
                            referenceBouchesExtraction:
                              title: Référence des bouches d'extrations
                              type: string
                          allOf:
                            - if:
                                properties:
                                  typeInstallation:
                                    const: INDIVIDUEL
                                required:
                                  - typeInstallation
                              then:
                                properties:
                                  typeEquipement: &ref_146
                                    title: Type de VMC double flux
                                    type: string
                                    oneOf:
                                      - &ref_117
                                        const: AUTOREGLABLE
                                        title: VMC autoréglable
                                      - const: MODULE
                                        title: VMC modulée
                                  performanceEnergetique:
                                    title: >-
                                      Classe énergétique du système de
                                      ventilation
                                    description: >-
                                      Classe énergétique du système de
                                      ventilation selon le règlement européen
                                      (UE) n° 1254/2014
                                    type: string
                                    oneOf:
                                      - &ref_123
                                        const: A+
                                        title: A+
                                      - &ref_124
                                        const: A
                                        title: A
                                  performanceEnergetiqueEchangeur:
                                    title: Efficacité thermique de l'échangeur (%)
                                    type: number
                                    exclusiveMinimum: 85
                                required:
                                  - typeEquipement
                                  - performanceEnergetique
                                  - performanceEnergetiqueEchangeur
                            - if:
                                properties:
                                  typeInstallation:
                                    const: COLLECTIF
                                required:
                                  - typeInstallation
                              then:
                                properties:
                                  logements:
                                    title: Nombre d'appartements
                                    description: Nombre d'appartement d'un même bâtiment
                                    type: integer
                                    minimum: 1
                                  typeEquipement: *ref_117
                                  performanceEnergetiqueEchangeur:
                                    title: Efficacité de l'échangeur statique (%)
                                    type: number
                                    minimum: 75
                                required:
                                  - logements
                                  - typeEquipement
                                  - performanceEnergetiqueEchangeur
                          required:
                            - ancienneteBatiment
                            - typeBatiment
                            - typeInstallation
                            - surfaceHabitable
                            - marqueCaisson
                            - referenceCaisson
                            - marqueBouchesExtraction
                            - referenceBouchesExtraction
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayant
                                  assuré la réalisation de l'opération
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            surfaceHabitable: 100
                            typeInstallation: INDIVIDUEL
                            typeEquipement: AUTOREGLABLE
                            performanceEnergetique: A+
                            performanceEnergetiqueEchangeur: 90
                            marqueCaisson: MARQUE
                            referenceCaisson: REFERENCE
                            marqueBouchesExtraction: MARQUE
                            referenceBouchesExtraction: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-125v40-4
                        required:
                          - fiche
                BAR-TH-127v40-4: &ref_168
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-127v40-4
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-127v40-4
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: &ref_125
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_batiment
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Type de bâtiment
                              type: string
                              oneOf:
                                - *ref_84
                                - *ref_98
                                - *ref_118
                              $defs:
                                MAISON: *ref_84
                                APPARTEMENT: *ref_98
                                IMMEUBLE: *ref_118
                                individuel: *ref_89
                                collectif: &ref_131
                                  title: Type de bâtiment
                                  type: string
                                  oneOf:
                                    - *ref_118
                                    - *ref_98
                                batiment: *ref_68
                            ancienneteBatiment: *ref_62
                            typeInstallation: *ref_116
                            typeEquipement: &ref_133
                              title: Type de VMC hygroreglable
                              type: string
                              oneOf:
                                - const: TYPE_A
                                  title: VMC hygroréglable de type A
                                - &ref_122
                                  const: TYPE_B
                                  title: VMC hygroréglable de type B
                            typeCaisson:
                              title: Type de caisson
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_caisson_vmc
                              $schema: https://json-schema.org/draft/2020-12/schema
                              description: >-
                                Type de caisson pour ventilation mécanique
                                centralisée
                              type: string
                              oneOf: &ref_143
                                - &ref_119
                                  const: BASSE_CONSOMMATION
                                  title: Caisson basse consommation
                                - &ref_120
                                  const: STANDARD
                                  title: Caisson standard
                                - &ref_121
                                  const: BASSE_PRESSION
                                  title: Caisson basse pression
                              $defs: &ref_144
                                BASSE_CONSOMMATION: *ref_119
                                STANDARD: *ref_120
                                BASSE_PRESSION: *ref_121
                            referenceAvisTechnique:
                              title: Référence de l'avis technique
                              type: string
                            dateAvisTechnique:
                              title: Date de validitéde l'avis technique
                              type: string
                              format: date
                            marqueCaison:
                              title: Marque du caisson
                              type: string
                            referenceCaison:
                              title: Référence du caisson
                              type: string
                            marqueBouchesExtraction:
                              title: Marque des bouches d'extrations
                              type: string
                            referenceBouchesExtraction:
                              title: Référence des bouches d'extrations
                              type: string
                          allOf:
                            - if:
                                properties:
                                  typeEquipement: *ref_122
                                required:
                                  - typeEquipement
                              then:
                                properties:
                                  marqueBouchesEntreeAir:
                                    title: Marque des bouches d'entrée d'air
                                    type: string
                                  referenceBouchesEntreeAir:
                                    title: Référence des bouches d'entrée d'air
                                    type: string
                                required:
                                  - marqueBouchesEntreeAir
                                  - referenceBouchesEntreeAir
                            - if:
                                properties:
                                  typeInstallation: *ref_85
                                required:
                                  - typeInstallation
                              then:
                                properties:
                                  puissanceElectrique:
                                    title: >-
                                      Puissance électrique absorbée pondérée
                                      (WThC)
                                    type: number
                                    maximum: 15
                                  typeCaisson: *ref_119
                                  performanceEnergetique: &ref_145
                                    title: Classes d'efficacité énergétique
                                    type: string
                                    oneOf:
                                      - *ref_123
                                      - *ref_124
                                      - const: B
                                        title: B
                                    examples:
                                      - A+++
                                required:
                                  - typeCaisson
                                  - puissanceElectrique
                                  - performanceEnergetique
                            - if:
                                properties:
                                  typeInstallation: *ref_86
                                required:
                                  - typeInstallation
                              then:
                                properties:
                                  logements:
                                    title: Nombre d'appartements
                                    description: Nombre d'appartement d'un même bâtiment
                                    type: integer
                                    minimum: 1
                                  puissanceElectrique:
                                    title: >-
                                      Puissance électrique absorbée pondérée
                                      (WThC/(m3/h))
                                    type: number
                                    maximum: 0.25
                                required:
                                  - logements
                                  - puissanceElectrique
                            - if:
                                properties:
                                  typeInstallation: *ref_86
                                  typeCaisson: *ref_119
                                required:
                                  - typeInstallation
                                  - typeCaisson
                              then:
                                properties:
                                  puissanceElectrique:
                                    type: number
                                    maximum: 0.1
                                required:
                                  - puissanceElectrique
                            - if:
                                properties:
                                  typeInstallation: *ref_86
                                  typeCaisson: *ref_121
                                required:
                                  - typeInstallation
                                  - typeCaisson
                              then:
                                properties:
                                  puissanceElectrique:
                                    type: number
                                    maximum: 0.12
                                required:
                                  - puissanceElectrique
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - typeInstallation
                            - typeEquipement
                            - typeCaisson
                            - puissanceElectrique
                            - referenceAvisTechnique
                            - dateAvisTechnique
                            - marqueCaison
                            - referenceCaison
                            - marqueBouchesExtraction
                            - referenceBouchesExtraction
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: >-
                                  Avis technique du système de ventilation
                                  hybride hygroréglable
                                type: object
                                properties:
                                  code:
                                    const: AVIS_TECHNIQUE
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            typeInstallation: INDIVIDUEL
                            typeEquipement: TYPE_A
                            typeCaisson: BASSE_CONSOMMATION
                            puissanceElectrique: 10
                            performanceEnergetique: A+
                            referenceAvisTechnique: REFERENCE
                            dateAvisTechnique: '2020-01-01'
                            marqueCaison: MARQUE
                            referenceCaison: REFERENCE
                            marqueBouchesExtraction: MARQUE
                            referenceBouchesExtraction: REFERENCE
                          documents:
                            - code: AVIS_TECHNIQUE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-127v40-4
                        required:
                          - fiche
                BAR-TH-129v27-3: &ref_166
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-129v27-3
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-129v27-3
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            surfaceChauffee:
                              title: >-
                                Surface exclusivement chauffée par la PAC
                                installée
                              type: number
                              minimum: 0
                            puissanceNominale:
                              title: Puissance nominale de l'équipement
                              type: number
                              maximum: 12
                            performanceEnergetique:
                              title: Coefficient de performance saisonnier (SCOP)
                              type: number
                              minimum: 3.9
                            marque:
                              title: Marque de l'équipement
                              type: string
                            reference:
                              title: Référence de l'équipement
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - surfaceChauffee
                            - puissanceNominale
                            - performanceEnergetique
                            - marque
                            - reference
                      required:
                        - caracteristiques
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            surfaceChauffee: 100
                            puissanceNominale: 9
                            performanceEnergetique: 4.2
                            marque: MARQUE
                            reference: REFERENCE
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-129v27-3
                        required:
                          - fiche
                BAR-TH-130v26-1: &ref_165
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-130v26-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-130v26-1
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_125
                            ancienneteBatiment: *ref_69
                            extensionBatiment:
                              title: >-
                                L'opération concerne une partie nouvelle d'un
                                bâtiment existant
                              type: boolean
                            energieChauffage:
                              title: Energie de chauffage
                              type: string
                              oneOf:
                                - *ref_126
                                - *ref_88
                                - &ref_127
                                  const: HYBRIDE
                                  title: Module hybride
                            energieEauChaudeSanitaire:
                              title: Energie de production d'eau chaude sanitaire
                              type: string
                              oneOf:
                                - *ref_126
                                - *ref_88
                                - *ref_127
                            surfaceThermique:
                              title: Surface thermique (m²)
                              description: >-
                                Indiquer la surface thermique du bâtiment au
                                sens de la règlementation thermique SRT
                              type: number
                              minimum: 0
                            cepMax:
                              title: CEPmax (kWh/m².an)
                              description: >-
                                Indiquer la consommation conventionnelle en
                                énergie primaire maximale CEPmax issue de
                                l'étude thermique
                              type: number
                            cepBat:
                              title: CEPbat (kWh/m².an)
                              description: >-
                                Indiquer la consommation conventionnelle en
                                énergie primaire du bâtiment CEPbat issue de
                                l'étude thermique
                              type: number
                            cefMax:
                              title: CEFmax (kWh/m².an)
                              description: >-
                                Indiquer la consommation conventionnelle en
                                énergie finale maximale CEFmax issue de l'étude
                                thermique
                              type: number
                            cefBat:
                              title: CEFbat (kWh/m².an)
                              description: >-
                                Indiquer la consommation conventionnelle en
                                énergie finale du bâtiment CEFbat issue de
                                l'étude thermique
                              type: number
                            bbioMax:
                              title: Besoin bioclimatique maximale
                              description: >-
                                Indiquer le besoin bioclimatique maximale issu
                                de l'étude thermique
                              type: number
                            bbioBat:
                              title: Besoin bioclimatique du bâtiment
                              description: >-
                                Indiquer le besoin bioclimatique du bâtiment
                                issu de l'étude thermique
                              type: number
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - extensionBatiment
                            - energieChauffage
                            - energieEauChaudeSanitaire
                            - surfaceThermique
                            - cepMax
                            - cepBat
                            - cefMax
                            - cefBat
                            - bbioMax
                            - bbioBat
                          anyOf:
                            - properties:
                                ancienneteBatiment: *ref_112
                                extensionBatiment:
                                  type: boolean
                                  const: false
                              required:
                                - ancienneteBatiment
                                - extensionBatiment
                            - properties:
                                ancienneteBatiment: *ref_62
                                extensionBatiment:
                                  type: boolean
                                  const: true
                              required:
                                - ancienneteBatiment
                                - extensionBatiment
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Récépissé du dépôt de persmis de construire
                                type: object
                                properties:
                                  code:
                                    const: PERMIS_CONSTRUIRE
                                required:
                                  - code
                            - contains:
                                title: Synthèse de l'étude thermique réglementaire
                                type: object
                                properties:
                                  code:
                                    const: ETUDE_THERMIQUE
                                required:
                                  - code
                            - contains:
                                title: >-
                                  Attestation de la prise en compte de la
                                  réglementation thermique
                                type: object
                                properties:
                                  code:
                                    const: ATTESTATION_RE
                                required:
                                  - code
                            - contains:
                                title: >-
                                  Déclaration d'achèvement et de conformité des
                                  travaux
                                type: object
                                properties:
                                  code:
                                    const: DAACT
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            extensionBatiment: true
                            typeEquipement: CESCI
                            energieChauffage: ELECTRICITE
                            energieEauChaudeSanitaire: COMBUSTIBLES
                            surfaceThermique: 100
                            cepMax: 50
                            cepBat: 25
                            cefMax: 50
                            cefBat: 25
                            bbioMax: 50
                            bbioBat: 25
                          documents:
                            - code: PERMIS_CONSTRUIRE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: ETUDE_THERMIQUE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: ATTESTATION_RE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: DAACT
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-130v26-1
                        required:
                          - fiche
                BAR-TH-135v35-2: &ref_163
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-135v35-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-135v35-2
                      type: object
                      properties:
                        adresse: *ref_67
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_118
                            ancienneteBatiment: *ref_69
                            extensionBatiment:
                              title: >-
                                L'opération concerne une partie nouvelle d'un
                                bâtiment existant
                              type: boolean
                            typeEquipement:
                              title: Type de chauffe-eau solaire
                              type: string
                              oneOf:
                                - const: CESC
                                  title: Chauffe-eau solaire à appoint centralisé
                                - const: CESCI
                                  title: Chauffe-eau solaire à appoint individualisé
                            surfaceCapteurs:
                              title: >-
                                Surface hors-tout totale de capteurs solaires
                                (m²)
                              type: number
                              minimum: 0
                            besoinEauChaudeSanitaire:
                              title: Besoin annuel en eau chaude sanitaire (kWh/an)
                              description: Donnée issue de l'étude de dimensionnement
                              type: number
                              minimum: 0
                            tauxCouvertureSolaire:
                              title: Taux de couverture par l'énergie solaire (%)
                              description: Donnée issue de l'étude de dimensionnement
                              type: number
                            performanceEnergetique:
                              title: >-
                                Efficacité énergétique pour le chauffage de
                                l'eau (%)
                              type: number
                              minimum: 36
                            marque:
                              title: Marque de la pompe
                              type: string
                            reference:
                              title: Référence de la pompe
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - extensionBatiment
                            - typeEquipement
                            - surfaceCapteurs
                            - besoinEauChaudeSanitaire
                            - tauxCouvertureSolaire
                            - performanceEnergetique
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Etude de dimensionnement
                                type: object
                                properties:
                                  code:
                                    const: NOTE_DIMENSIONNEMENT
                                required:
                                  - code
                            - contains:
                                title: Avis de certification QB
                                type: object
                                properties:
                                  code:
                                    const: CERTIFICATION
                                required:
                                  - code
                      allOf:
                        - if:
                            properties:
                              caracteristiques:
                                type: object
                                properties:
                                  surfaceCapteurs:
                                    type: number
                                    exclusiveMinimum: 25
                                required:
                                  - surfaceCapteurs
                            required:
                              - caracteristiques
                          then:
                            properties:
                              document:
                                title: Preuve de qualification
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                            required:
                              - documents
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_66
                          caracteristiques:
                            typeBatiment: IMMEUBLE
                            ancienneteBatiment: EXISTANT
                            extensionBatiment: false
                            typeEquipement: CESCI
                            surfaceCapteurs: 35
                            besoinEauChaudeSanitaire: 100000
                            tauxCouvertureSolaire: 80
                            performanceEnergetique: 50
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: CERTIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: NOTE_DIMENSIONNEMENT
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-135v35-2
                        required:
                          - fiche
                BAR-TH-137v45-3: &ref_162
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-137v45-3
                      $schema: https://json-schema.org/draft/2020-12/schema
                      $comment: 'TODO: Intégrer le document spécifique'
                      title: BAR-TH-137v45-3
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_68
                            ancienneteBatiment: *ref_62
                            identifiantReseau:
                              title: Nom du réseau
                              type: string
                              maxLength: 240
                            raccordementAnterieur:
                              title: >-
                                Le bâtiment n'a jamais été raccordé à un réseau
                                de chaleur dans le délai de cinq ans précédant
                                la date de l'engagement de l'opération
                              type: boolean
                            demandeAnterieure:
                              title: >-
                                Dans le cas où le bâtiment a été raccordé
                                précédemment, le ou les raccordements précédents
                                ont fait l'objet d'une demande de certificats
                                d'économies d'énergie
                              type: boolean
                              const: false
                          anyOf:
                            - properties:
                                raccordementAnterieur:
                                  const: false
                              required:
                                - raccordementAnterieur
                            - properties:
                                raccordementAnterieur:
                                  const: true
                                demandeAnterieure:
                                  const: false
                              required:
                                - raccordementAnterieur
                                - demandeAnterieure
                          allOf:
                            - if:
                                properties:
                                  typeBatiment: *ref_84
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  surfaceHabitable:
                                    title: Surface habitable
                                    type: number
                                    minimum: 0
                                required:
                                  - surfaceHabitable
                            - if:
                                properties:
                                  typeBatiment: *ref_118
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  logements:
                                    title: Nombre d'appartements
                                    description: Nombre d'appartement d'un même bâtiment
                                    type: integer
                                    minimum: 1
                                required:
                                  - logements
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - identifiantReseau
                            - raccordementAnterieur
                        gestionnaire:
                          title: Professionnel gestionnaire du réseau
                          type: object
                          properties:
                            nom:
                              title: Nom de famille du réprésentant
                              type: string
                            prenom:
                              title: Prénom du représentant
                              type: string
                            fonction:
                              title: Fonction du représentant
                              type: string
                            raisonSociale:
                              title: Raison sociale
                              type: string
                            siret: *ref_38
                            adresse: *ref_18
                            email: *ref_50
                            telephone: *ref_51
                            mobile: *ref_51
                          required:
                            - nom
                            - prenom
                            - fonction
                            - raisonSociale
                            - siret
                            - adresse
                            - email
                            - telephone
                            - mobile
                      required:
                        - caracteristiques
                        - gestionnaire
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            raccordementAnterieur: false
                            identifiantReseau: RESEAU
                            surfaceHabitable: 100
                          gestionnaire:
                            nom: NOM
                            prenom: PRENOM
                            fonction: FONCTION
                            raisonSociale: RAISON SOCIALE
                            siret: '00000000000000'
                            adresse: *ref_27
                            email: contact@email.com
                            telephone: '0400000000'
                            mobile: '0600000000'
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-137v45-3
                        required:
                          - fiche
                BAR-TH-139v23-2: &ref_161
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-139v23-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      $comment: >-
                        TODO: Définir la nature neuve d'une pompe en fonction de
                        sa date d'achat
                      title: BAR-TH-139v23-2
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_118
                            ancienneteBatiment: *ref_62
                            typeInstallation:
                              const: COLLECTIF
                              title: Installation collective
                            equipements:
                              title: >-
                                Liste des pompes de caractéristiques strictement
                                identiques
                              description: >-
                                Indiquer les caractéristiques des pompes
                                nouvellement équipées d'un système de variation
                                électronique de vitesse
                              type: array
                              minItems: 1
                              items:
                                type: object
                                properties:
                                  moteurClasseIE2:
                                    title: >-
                                      La pompe est équipée équipée d'un moteur
                                      de classe IE2
                                    type: boolean
                                  dateAchat:
                                    title: Date d'achat
                                    type: string
                                    format: date
                                    formatMinimum: '2015-01-01'
                                  puissanceNominale:
                                    title: >-
                                      Puissance nominale du moteur de la pompe
                                      (kW)
                                    type: number
                                    minimum: 630
                                  quantite:
                                    title: Nombre de pompes
                                    type: integer
                                    minimum: 1
                                  marque:
                                    title: Marque de la pompe
                                    type: string
                                  reference:
                                    title: Référence de la pompe
                                    type: string
                                  marqueVariateur:
                                    title: Marque du variateur
                                    description: >-
                                      Indiquer la marque du variateur de vitesse
                                      ou de l'équipement intégrant le variateur
                                    type: string
                                  referenceVariateur:
                                    title: Référence du variateur
                                    description: >-
                                      Indiquer la référence du variateur de
                                      vitesse ou de l'équipement intégrant le
                                      variateur
                                    type: string
                                anyOf:
                                  - properties:
                                      moteurClasseIE2:
                                        type: boolean
                                        const: false
                                    required:
                                      - moteurClasseIE2
                                  - properties:
                                      moteurClasseIE2:
                                        type: boolean
                                        const: true
                                      dateAchat:
                                        type: string
                                        format: date
                                        formatMinimum: '2015-01-01'
                                        formatMaximum: '2016-12-31'
                                      puissanceNominale:
                                        type: number
                                        minimum: 7.5
                                        maximum: 375
                                    required:
                                      - moteurClasseIE2
                                      - dateAchat
                                      - puissanceNominale
                                  - properties:
                                      moteurClasseIE2:
                                        type: boolean
                                        const: true
                                      dateAchat:
                                        type: string
                                        format: date
                                        formatMinimum: '2017-01-01'
                                      puissanceNominale:
                                        type: number
                                        minimum: 0.75
                                        maximum: 375
                                    required:
                                      - moteurClasseIE2
                                      - dateAchat
                                      - puissanceNominale
                                required:
                                  - moteurClasseIE2
                                  - dateAchat
                                  - puissanceNominale
                                  - quantite
                                  - marque
                                  - reference
                                  - marqueVariateur
                                  - referenceVariateur
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - typeInstallationChauffage
                            - equipements
                      required:
                        - caracteristiques
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-139v23-2
                        required:
                          - fiche
                BAR-TH-141v15-1: &ref_160
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-141v15-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-141v15-1
                      type: object
                      properties:
                        adresse: *ref_67
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            typeEquipement:
                              title: L'appareil installé est un climatiseur fixe
                              const: CLIMATISEUR_FIXE
                            remplacement:
                              title: >-
                                Le matériel existant a été déposé préalablement
                                à l'installation du nouveau climatiseur
                              type: boolean
                              const: true
                            puissanceFrigorifique:
                              title: Puissance frigorifique (BTU/h)
                              type: number
                              oneOf:
                                - const: 7000
                                - const: 9000
                            performanceEnergetique:
                              title: Classe d'efficacité énergétique
                              type: string
                              oneOf:
                                - &ref_140
                                  const: A+++
                                  title: A+++
                                - &ref_141
                                  const: A++
                                  title: A++
                                - *ref_123
                                - *ref_124
                              examples:
                                - A+++
                            quantite:
                              title: Nombre d'équipements installés
                              description: >-
                                Indiquer le nombre de climatiseurs de
                                caractéristiques et de classe d'efficacité
                                énergétique identiques installés
                              type: integer
                              minimum: 1
                            marque:
                              title: Marque de l'équipement
                              type: string
                            reference:
                              title: Référence de l'équipement
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - typeEquipement
                            - remplacement
                            - puissanceFrigorifique
                            - performanceEnergetique
                            - quantite
                            - marque
                            - reference
                      required:
                        - adresse
                        - caracteristiques
                      examples:
                        - adresse: *ref_66
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            typeEquipement: CLIMATISEUR_FIXE
                            remplacement: true
                            puissanceFrigorifique: 7000
                            performanceEnergetique: A
                            quantite: 4
                            marque: MARQUE
                            reference: REFERENCE
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-141v15-1
                        required:
                          - fiche
                BAR-TH-143v51-5: &ref_159
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-143v51-5
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-143v51-5
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment:
                              title: Maison individuelle
                              const: MAISON
                            ancienneteBatiment: *ref_62
                            temperatureDistribution:
                              const: BASSE_TEMPERATURE
                              title: Distribution à basse température
                            productiviteCapteurs:
                              title: Productivité des capteurs (W/m²)
                              type: number
                              minimum: 600
                            surfaceCapteurs:
                              title: Surface hors tout de capteurs (m²)
                              type: number
                              minimum: 8
                            capteursHybrides:
                              title: >-
                                Les capteurs solaires produisent à la fois
                                électricité et chaleur (capteurs hybrides)
                              type: boolean
                              const: false
                            volumeStockage:
                              title: >-
                                Volume de stockage du ou des ballons d'eau
                                chaude solaires (l)
                              type: number
                              minimum: 0
                            marque:
                              title: Marque de l'équipement
                              type: string
                            reference:
                              title: Référence de l'équipement
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - temperatureDistribution
                            - productiviteCapteurs
                            - surfaceCapteurs
                            - capteursHybrides
                            - volumeStockage
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Certification CSTBat ou Solar Keymark
                                type: object
                                properties:
                                  code:
                                    type: string
                                    const: CERTIFICATION
                                required:
                                  - code
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayan
                                  réalisé l'opération
                                type: object
                                properties:
                                  code:
                                    type: string
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            surfaceCapteurs: 10
                            productiviteCapteurs: 800
                            capteursHybrides: false
                            temperatureDistribution: BASSE_TEMPERATURE
                            volumeStockage: 100
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: CERTIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-143v51-5
                        required:
                          - fiche
                BAR-TH-145v52-4: &ref_158
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-145v52-4
                      $schema: https://json-schema.org/draft/2020-12/schema
                      $comment: >-
                        TODO: Vérifier la possibilité d'intégrer l'attestation
                        de réalisation ANAG comme document justificatif
                        spécifique
                      title: BAR-TH-145v52-4
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment:
                              title: Immeuble collectif
                              const: IMMEUBLE
                            ancienneteBatiment: *ref_62
                            surfaceHabitable:
                              title: Surface habitable (m²)
                              description: >-
                                Indiquer la surface habitable totale de
                                l'immeuble
                              type: number
                              minimum: 0
                            copropriete:
                              title: >-
                                L'immeuble relève du régime de la copropriété
                                défini par la loi n° 65-557 du 10 juillet 1965
                              type: boolean
                            referenceAudit:
                              title: Référence de l'étude énergétique
                              type: string
                            dateAudit:
                              title: Date de l'étude énergétique
                              type: string
                              format: date
                            cepInitial:
                              title: Cep initial (kWh/m².an)
                              description: >-
                                Consommation conventionnelle en énergie primaire
                                avant les travaux de rénovation
                              type: number
                              exclusiveMaximum: 331
                            cepProjet:
                              title: Cep initial (kWh/m².an)
                              description: >-
                                Consommation conventionnelle en énergie primaire
                                après les travaux de rénovation
                              type: number
                              minimum: 0
                            cefInitial:
                              title: Cef initial (kWh/m².an)
                              description: >-
                                Consommation conventionnelle en énergie finale
                                avant les travaux de rénovation
                              type: number
                              minimum: 0
                            cefProjet:
                              title: Cef projet (kWh/m².an)
                              description: >-
                                Consommation conventionnelle en énergie finale
                                après les travaux de rénovation
                              type: number
                              minimum: 0
                            gainEnergetique:
                              title: Gain énergétique du projet (%)
                              description: >-
                                Gain énergétique du projet par rapport à la
                                consommation conventionnelle en énergie primaire
                                avant travaux
                              type: number
                              minimum: 35
                            emissionsGaz:
                              title: >-
                                Les émissions de gaz à effet de serre après
                                rénovation, exprimées en kgeqCO2/m².an, sont
                                inférieures ou égales à la valeur initiale de
                                ces émissions avant travaux
                              type: boolean
                              const: true
                            logicielAudit:
                              title: >-
                                Logiciel utilisé pour réaliser l'audit
                                énergétique
                              type: object
                              properties:
                                nom:
                                  title: Nom du logiciel
                                  type: string
                                  pattern: ^([A-Z0-9]|[-]|[']|[ ])+$
                                editeur:
                                  title: Nom de l'éditeur
                                  type: string
                                  pattern: ^([A-Z0-9]|[-]|[']|[ ])+$
                                date:
                                  title: Date de création du logiciel
                                  type: string
                                  format: date
                                version:
                                  title: Numéro de version du logiciel
                                  type: string
                              required:
                                - nom
                                - editeur
                                - date
                                - version
                            auditeur:
                              title: Professionnel ayant assuré l'audit énergétique
                              type: object
                              properties:
                                raisonSociale:
                                  title: Raison sociale
                                  type: string
                                siren: *ref_48
                              required:
                                - raisonSociale
                                - siren
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - referenceAudit
                            - dateAudit
                            - cepInitial
                            - cepProjet
                            - cefInitial
                            - cefProjet
                            - gainEnergetique
                            - emissionsGaz
                            - logicielAudit
                            - auditeur
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Rapport de synthèse de l'audit énergétique
                                type: object
                                properties:
                                  code:
                                    const: AUDIT_ENERGETIQUE
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: IMMEUBLE
                            ancienneteBatiment: EXISTANT
                            dateAudit: '2023-02-07'
                            referenceAudit: REFERENCE
                            cepInitial: 200
                            cepProjet: 130
                            cefInitial: 200
                            cefProjet: 130
                            gainEnergetique: 70
                            emissionsGaz: true
                            auditeur:
                              raisonSociale: RAISON SOCIALE
                              siren: '000000000'
                            logicielAudit:
                              nom: NOM
                              editeur: EDITEUR
                              date: '2022-02-06'
                              version: '2.3'
                          documents:
                            - code: AUDIT_ENERGETIQUE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-145v52-4
                        required:
                          - fiche
                BAR-TH-148v15-2: &ref_157
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-148v15-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-148v15-2
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            typeEquipement:
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_chauffe_eau_thermodynamique
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Type de chauffe-eau thermodynamique
                              type: string
                              oneOf:
                                - &ref_128
                                  const: AIR_EXTRAIT
                                  title: Chauffe-eau thermodynamique sur air extrait
                                - &ref_129
                                  const: AUTRES
                                  title: Autres
                              $defs:
                                AIR_EXTRAIT: *ref_128
                                AUTRES: *ref_129
                            performanceEnergetique:
                              title: Coefficient de performance (COP)
                              type: number
                              exclusiveMinimum: 2.4
                            marque:
                              title: Marque
                              type: string
                            reference:
                              title: Référence
                              type: string
                          allOf:
                            - if:
                                properties:
                                  typeEquipement: *ref_128
                                required:
                                  - typeEquipement
                              then:
                                properties:
                                  performanceEnergetique:
                                    type: number
                                    exclusiveMinimum: 2.5
                                required:
                                  - performanceEnergetique
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - typeEquipement
                            - performanceEnergetique
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayan
                                  réalisé l'opération
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            typeEquipement: AIR_EXTRAIT
                            performanceEnergetique: 2.6
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-148v15-2
                        required:
                          - fiche
                BAR-TH-150v14-1: &ref_156
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-150v14-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-150v14-1
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_118
                            ancienneteBatiment: *ref_62
                            logements:
                              title: Nombre d'appartements chauffés
                              type: integer
                              minimum: 1
                            usage:
                              title: Type d'usage
                              type: string
                              oneOf:
                                - const: CHAUFFAGE
                                  title: Chauffage
                                - const: CHAUFFAGE_ECS
                                  title: Chauffage et eau chaude sanitaire
                            temperatureDistribution: *ref_130
                            puissanceNominale:
                              title: Puissance nominale (kW)
                              type: number
                              minimum: 0
                            puissanceEligible:
                              title: Puissance totale des pompes à chaleur éligibles
                              description: >-
                                Renseigner la puissance totale de l'enseble des
                                équipements nouvellement installés
                              type: number
                              minimum: 0
                            puissanceChaufferie:
                              title: Puissance totale de la chaufferie après travaux
                              type: number
                              minimum: 0
                            marque:
                              title: Marque
                              type: string
                            reference:
                              title: Référence
                              type: string
                          anyOf:
                            - properties:
                                puissanceNominale:
                                  type: number
                                  exclusiveMinimum: 400
                                performanceEnergetique:
                                  title: Coefficient de performance (COP)
                                  type: number
                                  minimum: 1.3
                              required:
                                - puissanceNominale
                                - performanceEnergetique
                            - properties:
                                temperatureDistribution:
                                  oneOf:
                                    - *ref_91
                                    - *ref_92
                                puissanceNominale:
                                  type: number
                                  maximum: 400
                                performanceEnergetique:
                                  title: Efficacité énergétique saisonnière (%)
                                  type: number
                                  minimum: 111
                              required:
                                - temperatureDistribution
                                - puissanceNominale
                                - performanceEnergetique
                            - properties:
                                temperatureDistribution:
                                  oneOf:
                                    - *ref_90
                                puissanceNominale:
                                  type: number
                                  maximum: 400
                                performanceEnergetique:
                                  title: Efficacité énergétique saisonnière (%)
                                  type: number
                                  minimum: 126
                              required:
                                - temperatureDistribution
                                - puissanceNominale
                                - performanceEnergetique
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - logements
                            - usage
                            - temperatureDistribution
                            - puissanceNominale
                            - puissanceEligible
                            - puissanceChaufferie
                            - marque
                            - reference
                      required:
                        - caracteristiques
                      examples:
                        - caracteristiques:
                            ancienneteBatiment: EXISTANT
                            typeBatiment: IMMEUBLE
                            logements: 50
                            usage: CHAUFFAGE_ECS
                            temperatureDistribution: BASSE_TEMPERATURE
                            puissanceNominale: 300
                            puissanceEligible: 300
                            puissanceChaufferie: 300
                            performanceEnergetique: 140
                            marque: MARQUE
                            reference: REFERENCE
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-150v14-1
                        required:
                          - fiche
                BAR-TH-155v40-4: &ref_155
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-155v40-4
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-155v40-4
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_131
                            ancienneteBatiment: *ref_62
                            ventilationExistante:
                              title: Système de ventilation existant
                              type: string
                              oneOf:
                                - *ref_132
                                - const: SANS
                                  title: Absence de système de ventilation
                            logements:
                              title: Nombre d'appartements
                              type: integer
                              minimum: 1
                            typeEquipement: *ref_133
                            typeExtracteur:
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_extracteur_vmc
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Type d'extracteur
                              type: string
                              oneOf:
                                - &ref_134
                                  const: STANDARD
                                  title: Extracteur standard
                                - &ref_135
                                  const: BASSE_CONSOMMATION
                                  title: Extracteur basse consommation
                              $defs:
                                STANDARD: *ref_134
                                BASSE_CONSOMMATION: *ref_135
                            puissanceExtracteur:
                              title: Puissance spécifique de l'extracteur (Wh/m3)
                              type: number
                              maximum: 0.25
                            marqueExtracteur:
                              title: Marque de l'extracteur
                              type: string
                            referenceExtracteur:
                              title: Référence de l'extracteur
                              type: string
                            marqueBouchesEntreeAir:
                              title: Marque des bouches d'entrée d'air
                              type: string
                            referenceBouchesEntreeAir:
                              title: Référence des bouches d'entrée d'air
                              type: string
                            marqueBouchesExtraction:
                              title: Marque des bouches d'extraction
                              type: string
                            referenceBouchesExtraction:
                              title: Référence des bouches d'extraction
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - ventilationExistante
                            - logements
                            - typeEquipement
                            - typeExtracteur
                            - puissanceExtracteur
                            - marqueExtracteur
                            - referenceExtracteur
                            - marqueBouchesEntreeAir
                            - referenceBouchesEntreeAir
                            - marqueBouchesExtraction
                            - referenceBouchesExtraction
                          allOf:
                            - if:
                                properties:
                                  typeExtracteur: *ref_135
                                required:
                                  - typeExtracteur
                              then:
                                properties:
                                  puissanceExtracteur:
                                    type: number
                                    maximum: 0.1
                                required:
                                  - puissanceExtracteur
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: >-
                                  Avis technique du système de ventilation
                                  hybride hygroréglable
                                type: object
                                properties:
                                  code:
                                    type: string
                                    const: AVIS_TECHNIQUE
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: IMMEUBLE
                            ancienneteBatiment: EXISTANT
                            ventilationExistante: SANS
                            logements: 50
                            typeEquipement: TYPE_A
                            typeExtracteur: BASSE_CONSOMMATION
                            puissanceExtracteur: 0.05
                            marqueExtracteur: MARQUE
                            referenceExtracteur: REFERENCE
                            marqueBouchesEntreeAir: MARQUE
                            referenceBouchesEntreeAir: REFERENCE
                            marqueBouchesExtraction: MARQUE
                            referenceBouchesExtraction: REFERENCE
                          documents:
                            - code: AVIS_TECHNIQUE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-155v40-4
                        required:
                          - fiche
                BAR-TH-158v35-2: &ref_154
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-158v35-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-158v35-2
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            equipements:
                              title: Liste des émetteurs électriques installés
                              description: >-
                                Indiquer autant de lignes que d'équipements aux
                                caractéristiques identiques
                              type: array
                              minItems: 1
                              items:
                                type: object
                                properties:
                                  numeroCertification:
                                    title: >-
                                      Numéro de certification NF Electricité
                                      performance catégorie 3* oeil
                                    type: string
                                  fonctionRegulation:
                                    title: >-
                                      Régulation ayant une amplitude inférieure
                                      à 0,3K et une dérive inférieure à 1 K
                                    type: boolean
                                    const: true
                                  fonctionDetectionOuvertureFenetre:
                                    title: >-
                                      Détection automatique et intégrée à
                                      l'appareil de l'ouverture d'une fenêtre
                                      par passage en mode « arrêt chauffage » ou
                                      « horsgel »
                                    type: boolean
                                    const: true
                                  fonctionDetectionAbsence:
                                    title: >-
                                      Détection automatique d'absence, intégrée
                                      à l'appareil, par réduction d'allure et
                                      passage progressif jusqu'au mode « Eco »
                                    type: boolean
                                    const: true
                                  fonctionIndicationSurconsommation:
                                    title: >-
                                      Indication de surconsommation par
                                      information visuelle du consommateur ayant
                                      a minima 3 niveaux de consommation basés
                                      sur la température de consigne et
                                      représentés par des couleurs
                                    type: boolean
                                    const: true
                                  quantite:
                                    title: Nombre d'émetteurs
                                    type: integer
                                    minimum: 1
                                  puissanceElectrique:
                                    title: Puissance électrique (W)
                                    type: number
                                    minimum: 0
                                  marque:
                                    title: Marque
                                    type: string
                                  reference:
                                    title: Référence
                                    type: string
                                required:
                                  - quantite
                                  - puissanceElectrique
                                  - marque
                                  - reference
                                anyOf:
                                  - required:
                                      - numeroCertification
                                  - allOf:
                                      - properties:
                                          fonctionRegulation:
                                            type: boolean
                                            const: true
                                          fonctionDetectionOuvertureFenetre:
                                            type: boolean
                                            const: true
                                          fonctionDetectionAbsence:
                                            type: boolean
                                            const: true
                                          fonctionIndicationSurconsommation:
                                            type: boolean
                                            const: true
                                        required:
                                          - fonctionRegulation
                                          - fonctionDetectionOuvertureFenetre
                                          - fonctionDetectionAbsence
                                          - fonctionIndicationSurconsommation
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - equipements
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayan
                                  réalisé l'opération
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            ancienneteBatiment: EXISTANT
                            typeBatiment: MAISON
                            equipements:
                              - numeroCertification: XXXXXXX
                                quantite: 10
                                puissanceElectrique: 1500
                                marque: MARQUE
                                reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-158v35-2
                        required:
                          - fiche
                BAR-TH-159v50-4: &ref_153
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-159v50-4
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-159v50-4
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            surfaceChauffee:
                              title: >-
                                Surface chauffée par la pompe à chaleur
                                installée (m²)
                              type: number
                              minimum: 0
                            performanceEnergetique:
                              title: Efficacité énergétique saisonnière (%)
                              type: number
                              minimum: 111
                            tauxCouverture:
                              title: Taux de couverture de la pompe à chaleur (%)
                              description: >-
                                Hors dispositif d'appoint indiqué dans la note
                                de dimensionnement
                              type: number
                              minimum: 70
                            dispositifAppoint:
                              title: >-
                                La pompe à chaleur est de type air/eau
                                comportant un dispositif d'appoint utilisant un
                                combustible liquide ou gazeux
                              type: boolean
                              const: true
                            usage:
                              title: >-
                                La pompe à chaleur est utilisée uniquement pour
                                la production d'eau chaude sanitaire
                              const: ECS
                            temperatureDistribution:
                              title: Température de fonctionnement
                              type: string
                              oneOf:
                                - *ref_91
                                - *ref_92
                            marque:
                              title: Marque de l'équipement
                              type: string
                            reference:
                              title: Référence de l'équipement
                              type: string
                            regulateur:
                              title: Caractéristiques du régulateur
                              type: object
                              properties:
                                classe:
                                  title: Classe
                                  $id: >-
                                    https://schemas.ceeconnect.fr/enums/bar/classe_regulateur
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  $comment: >-
                                    Classe du régulateur telle que définie au
                                    paragraphe 6.1 de la communication de la
                                    Commission 2014/C 207/02 dans le cadre du
                                    règlement (UE) n°813/2013
                                  type: string
                                  oneOf: *ref_106
                                  $defs: *ref_107
                                marque:
                                  title: Marque
                                  type: string
                                reference:
                                  title: Référence
                                  type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - surfaceChauffee
                            - performanceEnergetique
                            - tauxCouverture
                            - dispositifAppoint
                            - usage
                            - temperatureDistribution
                            - marque
                            - reference
                            - regulateur
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Note de dimensionnement
                                type: object
                                properties:
                                  code:
                                    const: NOTE_DIMENSIONNEMENT
                                required:
                                  - code
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayan
                                  réalisé l'opération
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            surfaceChauffee: 100
                            performanceEnergetique: 127
                            tauxCouverture: 80
                            dispositifAppoint: true
                            usage: ECS
                            temperatureDistribution: HAUTE_TEMPERATURE
                            marque: MARQUE
                            reference: REFERENCE
                            regulateur:
                              classe: V
                              marque: MARQUE
                              reference: REFERENCE
                          documents:
                            - code: NOTE_DIMENSIONNEMENT
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-159v50-4
                        required:
                          - fiche
                BAR-TH-162v28-1: &ref_152
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-162v28-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-162v28-1
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment:
                              title: Maison individuelle
                              const: MAISON
                            ancienneteBatiment: *ref_62
                            surfaceCapteurs:
                              title: surface totale de capteurs hybrides mis en place
                              type: number
                              minimum: 6
                            productiviteCapteurs:
                              title: Productivité des capteurs (W/m2)
                              description: >-
                                Productivité des capteurs est calculée avec un
                                rayonnement de 1 000 W/m²
                              type: number
                              minimum: 500
                            capteursHybrides:
                              title: >-
                                Les capteurs solaires sont exclusivement des
                                capteurs hybrides produisant à la fois
                                électricité et chaleur
                              type: boolean
                              const: true
                            marque:
                              title: Marque de l'équipement
                              type: string
                            reference:
                              title: Référence de l'équipement
                              type: string
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - productiviteCapteurs
                            - surfaceCapteurs
                            - capteursHybrides
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Certification CSTBat ou Solar Keymark
                                type: object
                                properties:
                                  code:
                                    const: CERTIFICATION
                                required:
                                  - code
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayan
                                  réalisé l'opération
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            productiviteCapteurs: 600
                            surfaceCapteurs: 10
                            capteursHybrides: true
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: CERTIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-162v28-1
                        required:
                          - fiche
                BAR-TH-164v36-2: &ref_151
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-164v36-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      $comment: >-
                        TODO: Vérifier la possibilité d'intégrer l'attestation
                        de réalisation ANAG comme document justificatif
                        spécifique
                      title: BAR-TH-164v36-2
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment:
                              title: Maison individuelle
                              const: MAISON
                            ancienneteBatiment: *ref_62
                            surfaceHabitable:
                              title: Surface habitable (m²)
                              type: number
                              minimum: 0
                            referenceAudit:
                              title: Référence de l'étude énergétique
                              type: string
                            dateAudit:
                              title: Date de l'étude énergétique
                              type: string
                              format: date
                            cepInitial:
                              title: Cep initial (kWh/m².an)
                              description: >-
                                Consommation conventionnelle en énergie primaire
                                avant les travaux de rénovation
                              type: number
                              exclusiveMaximum: 331
                            cepProjet:
                              title: Cep initial (kWh/m².an)
                              description: >-
                                Consommation conventionnelle en énergie primaire
                                après les travaux de rénovation
                              type: number
                              minimum: 0
                            cefInitial:
                              title: Cef initial (kWh/m².an)
                              description: >-
                                Consommation conventionnelle en énergie finale
                                avant les travaux de rénovation
                              type: number
                              minimum: 0
                            cefProjet:
                              title: Cef projet (kWh/m².an)
                              description: >-
                                Consommation conventionnelle en énergie finale
                                après les travaux de rénovation
                              type: number
                              minimum: 0
                            gainEnergetique:
                              title: Gain énergétique du projet (%)
                              description: >-
                                Gain énergétique du projet par rapport à la
                                consommation conventionnelle en énergie primaire
                                avant travaux
                              type: number
                              minimum: 35
                            emissionsGaz:
                              title: >-
                                Les émissions de gaz à effet de serre après
                                rénovation, exprimées en kgeqCO2/m².an, sont
                                inférieures ou égales à la valeur initiale de
                                ces émissions avant travaux
                              type: boolean
                              const: true
                            logicielAudit:
                              title: >-
                                Logiciel utilisé pour réaliser l'audit
                                énergétique
                              type: object
                              properties:
                                nom:
                                  title: Nom du logiciel
                                  type: string
                                  pattern: ^([A-Z0-9]|[-]|[']|[ ])+$
                                editeur:
                                  title: Nom de l'éditeur
                                  type: string
                                  pattern: ^([A-Z0-9]|[-]|[']|[ ])+$
                                date:
                                  title: Date de création du logiciel
                                  type: string
                                  format: date
                                version:
                                  title: Numéro de version du logiciel
                                  type: string
                              required:
                                - nom
                                - editeur
                                - date
                                - version
                            auditeur:
                              title: Professionnel ayant assuré l'audit énergétique
                              type: object
                              properties:
                                raisonSociale:
                                  title: Raison sociale
                                  type: string
                                siren: *ref_48
                              required:
                                - raisonSociale
                                - siren
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - surfaceHabitable
                            - referenceAudit
                            - dateAudit
                            - cepInitial
                            - cepProjet
                            - cefInitial
                            - cefProjet
                            - gainEnergetique
                            - emissionsGaz
                            - auditeur
                            - logicielAudit
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Rapport de synthèse de l'audit énergétique
                                type: object
                                properties:
                                  code:
                                    const: AUDIT_ENERGETIQUE
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            surfaceHabitable: 100
                            dateAudit: '2023-02-07'
                            referenceAudit: REFERENCE
                            cepInitial: 200
                            cepProjet: 130
                            cefInitial: 200
                            cefProjet: 130
                            gainEnergetique: 70
                            emissionsGaz: true
                            auditeur:
                              raisonSociale: RAISON SOCIALE
                              siren: '000000000'
                            logicielAudit:
                              nom: NOM
                              editeur: EDITEUR
                              date: '2022-02-06'
                              version: '2.3'
                          documents:
                            - code: AUDIT_ENERGETIQUE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-164v36-2
                        required:
                          - fiche
                BAR-TH-167v38-1: &ref_150
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-167v38-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-167v38-1
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment:
                              title: Type de logement
                              type: string
                              oneOf: *ref_136
                            ancienneteBatiment: *ref_62
                            combustibleGazeux:
                              title: >-
                                Le chauffe-bain est individuel et utilise un
                                combustible gazeux
                              type: boolean
                              const: true
                            remplacement:
                              title: >-
                                L'appareil installé vient en remplacement d'un
                                chauffe-bain au gaz mural à combustion
                                atmosphérique
                              type: boolean
                              const: true
                          allOf:
                            - if:
                                properties:
                                  typeBatiment: *ref_84
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  surfaceHabitable:
                                    title: Surface habitable (m²)
                                    type: number
                                    minimum: 0
                                required:
                                  - surfaceHabitable
                                allOf:
                                  - &ref_142
                                    type: object
                                    properties:
                                      typeEquipement:
                                        title: Type de chauffe-bain
                                        $id: >-
                                          https://schemas.ceeconnect.fr/enums/bar/type_chauffe_bain
                                        $schema: >-
                                          https://json-schema.org/draft/2020-12/schema
                                        type: string
                                        oneOf:
                                          - &ref_137
                                            const: FLUX_FORCE_HAUT_RENDEMENT
                                            title: >-
                                              Chauffe bain à flux forcé à haut
                                              rendement
                                          - &ref_138
                                            const: COMBUSTION_HAUT_RENDEMENT
                                            title: >-
                                              Chauffe bain à combustion atmosphérique
                                              à haut rendement
                                          - &ref_139
                                            const: CONDENSATION
                                            title: Chauffe bain à condensation
                                        $defs:
                                          FLUX_FORCE_HAUT_RENDEMENT: *ref_137
                                          COMBUSTION_HAUT_RENDEMENT: *ref_138
                                          CONDENSATION: *ref_139
                                          maison:
                                            title: Type de chauffe bain
                                            type: string
                                            oneOf:
                                              - const: FLUX_FORCE_HAUT_RENDEMENT
                                                title: >-
                                                  Chauffe bain à flux forcé à haut
                                                  rendement
                                              - const: CONDENSATION
                                                title: Chauffe bain à condensation
                                          appartement:
                                            title: Type de chauffe bain
                                            type: string
                                            oneOf:
                                              - const: FLUX_FORCE_HAUT_RENDEMENT
                                                title: >-
                                                  Chauffe bain à flux forcé à haut
                                                  rendement
                                              - const: COMBUSTION_HAUT_RENDEMENT
                                                title: >-
                                                  Chauffe bain à combustion atmosphérique
                                                  à haut rendement
                                              - const: CONDENSATION
                                                title: Chauffe bain à condensation
                                      rendement:
                                        title: Rendement PCI nominal (%)
                                        type: number
                                        minimum: 0
                                      performanceEquipement:
                                        title: Classes d'efficacité énergétique
                                        type: string
                                        oneOf:
                                          - *ref_140
                                          - *ref_141
                                          - *ref_123
                                          - *ref_124
                                        examples:
                                          - A+++
                                      marque:
                                        title: Marque de l'équipement
                                        type: string
                                      reference:
                                        title: Référence de l'équipement
                                        type: string
                                    required:
                                      - typeEquipement
                                      - rendement
                                      - performanceEquipement
                                      - marque
                                      - reference
                                    allOf:
                                      - if:
                                          properties:
                                            typeChauffeBain:
                                              oneOf:
                                                - *ref_137
                                                - *ref_138
                                          required:
                                            - typeChauffeBain
                                        then:
                                          properties:
                                            rendement:
                                              type: number
                                              minimum: 85
                                          required:
                                            - rendement
                                      - if:
                                          properties:
                                            typeChauffeBain: *ref_139
                                          required:
                                            - typeChauffeBain
                                        then:
                                          properties:
                                            rendement:
                                              type: number
                                              minimum: 100
                                          required:
                                            - rendement
                            - if:
                                properties:
                                  typeBatiment: *ref_98
                                required:
                                  - typeBatiment
                              then:
                                properties:
                                  equipements:
                                    title: Liste des chauffes-bains installés
                                    description: >-
                                      Indiquer autant d'équipements que de
                                      chauffe bain aux caractéristiques
                                      strictement identiques
                                    type: array
                                    minItems: 1
                                    items:
                                      type: object
                                      allOf:
                                        - *ref_142
                                        - properties:
                                            quantite:
                                              title: Nombre de chauffe-bain
                                              type: integer
                                          required:
                                            - quantite
                                required:
                                  - equipements
                          required:
                            - ancienneteBatiment
                            - typeBatiment
                            - combustibleGazeux
                            - remplacement
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayan
                                  réalisé l'opération
                                type: object
                                properties:
                                  code:
                                    type: string
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      $defs:
                        equipement: *ref_142
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            typeEquipement: COMBUSTION_HAUT_RENDEMENT
                            rendement: 90
                            performanceEquipement: A++
                            combustibleGazeux: true
                            remplacement: true
                            surfaceHabitable: 100
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-167v38-1
                        required:
                          - fiche
                BAR-TH-168v40-1: &ref_149
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-168v40-1
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-168v40-1
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_84
                            ancienneteBatiment: *ref_62
                            surfaceCapteurs:
                              title: >-
                                Surface hors-tout totale de capteurs solaires
                                (m²)
                              type: number
                              minimum: 0
                            productiviteCapteurs:
                              title: Productivité des capteurs (W/m²)
                              type: number
                              minimum: 600
                            capteursHybrides:
                              title: >-
                                Les capteurs solaires produisent à la fois
                                électricité et chaleur (capteurs hybrides)
                              type: boolean
                              const: false
                            marque:
                              title: Marque de l'équipement
                              type: string
                            reference:
                              title: Référence de l'équipement
                              type: string
                          required:
                            - ancienneteBatiment
                            - typeBatiment
                            - productiviteCapteurs
                            - surfaceCapteurs
                            - capteursHybrides
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Certification CSTBat ou Solar Keymark
                                type: object
                                properties:
                                  code:
                                    type: string
                                    const: CERTIFICATION
                                required:
                                  - code
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayan
                                  réalisé l'opération
                                type: object
                                properties:
                                  code:
                                    type: string
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            surfaceCapteurs: 10
                            productiviteCapteurs: 800
                            capteursHybrides: false
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: CERTIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-168v40-1
                        required:
                          - fiche
                BBAR-TH-130v54-2: &ref_164
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-130v54-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BBAR-TH-130v54-2
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_125
                            ancienneteBatiment: *ref_69
                            extensionBatiment:
                              title: >-
                                L'opération concerne une partie nouvelle d'un
                                bâtiment existant
                              type: boolean
                            energieChauffage:
                              title: Energie de chauffage
                              type: string
                              oneOf:
                                - *ref_126
                                - *ref_88
                                - *ref_127
                            energieEauChaudeSanitaire:
                              title: Energie de production d'eau chaude sanitaire
                              type: string
                              oneOf:
                                - *ref_126
                                - *ref_88
                                - *ref_127
                            surfaceThermique:
                              title: Surface thermique (m²)
                              description: >-
                                Indiquer la surface thermique du bâtiment au
                                sens de la règlementation thermique SRT
                              type: number
                              minimum: 0
                            cepMax:
                              title: CEPmax (kWh/m².an)
                              description: >-
                                Indiquer la consommation conventionnelle en
                                énergie primaire maximale CEPmax issue de
                                l'étude thermique
                              type: number
                            cepBat:
                              title: CEPbat (kWh/m².an)
                              description: >-
                                Indiquer la consommation conventionnelle en
                                énergie primaire du bâtiment CEPbat issue de
                                l'étude thermique
                              type: number
                            cefMax:
                              title: CEFmax (kWh/m².an)
                              description: >-
                                Indiquer la consommation conventionnelle en
                                énergie finale maximale CEFmax issue de l'étude
                                thermique
                              type: number
                            cefBat:
                              title: CEFbat (kWh/m².an)
                              description: >-
                                Indiquer la consommation conventionnelle en
                                énergie finale du bâtiment CEFbat issue de
                                l'étude thermique
                              type: number
                            bbioMax:
                              title: Besoin bioclimatique maximale
                              description: >-
                                Indiquer le besoin bioclimatique maximale issu
                                de l'étude thermique
                              type: number
                            bbioBat:
                              title: Besoin bioclimatique du bâtiment
                              description: >-
                                Indiquer le besoin bioclimatique du bâtiment
                                issu de l'étude thermique
                              type: number
                            icMax:
                              title: >-
                                Impact maximal sur le changement climatique des
                                consommations d'énergie (kg éq CO2/m2)
                              description: Indiquer la valeur issue de l'étude thermique
                              type: number
                            icBat:
                              title: >-
                                Impact sur le changement climatique des
                                consommations d'énergie du bâtiment (kg éq
                                CO2/m2)
                              description: Indiquer la valeur issue de l'étude thermique
                              type: number
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - extensionBatiment
                            - energieChauffage
                            - energieEauChaudeSanitaire
                            - surfaceThermique
                            - cepMax
                            - cepBat
                            - cefMax
                            - cefBat
                            - bbioMax
                            - bbioBat
                            - icMax
                            - icBat
                          anyOf:
                            - properties:
                                ancienneteBatiment: *ref_112
                                extensionBatiment:
                                  type: boolean
                                  const: false
                              required:
                                - ancienneteBatiment
                                - extensionBatiment
                            - properties:
                                ancienneteBatiment: *ref_62
                                extensionBatiment:
                                  type: boolean
                                  const: true
                              required:
                                - ancienneteBatiment
                                - extensionBatiment
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Récépissé du dépôt de persmis de construire
                                type: object
                                properties:
                                  code:
                                    const: PERMIS_CONSTRUIRE
                                required:
                                  - code
                            - contains:
                                title: Synthèse de l'étude thermique réglementaire
                                type: object
                                properties:
                                  code:
                                    const: ETUDE_THERMIQUE
                                required:
                                  - code
                            - contains:
                                title: >-
                                  Attestation de la prise en compte de la
                                  réglementation thermique
                                type: object
                                properties:
                                  code:
                                    const: ATTESTATION_RE
                                required:
                                  - code
                            - contains:
                                title: >-
                                  Déclaration d'achèvement et de conformité des
                                  travaux
                                type: object
                                properties:
                                  code:
                                    const: DAACT
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            extensionBatiment: true
                            typeEquipement: CESCI
                            energieChauffage: ELECTRICITE
                            energieEauChaudeSanitaire: COMBUSTIBLES
                            surfaceThermique: 100
                            cepMax: 50
                            cepBat: 25
                            cefMax: 50
                            cefBat: 25
                            bbioMax: 50
                            bbioBat: 25
                            icMax: 50
                            icBat: 50
                          documents:
                            - code: PERMIS_CONSTRUIRE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: ETUDE_THERMIQUE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: ATTESTATION_RE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                            - code: DAACT
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BBAR-TH-130v54-2
                        required:
                          - fiche
                BAR-TH-127v54-5: &ref_167
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-127v54-5
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-127v54-5
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_125
                            ancienneteBatiment: *ref_62
                            typeInstallation: *ref_116
                            typeEquipement: *ref_133
                            typeCaisson:
                              title: Type de caisson
                              $id: >-
                                https://schemas.ceeconnect.fr/enums/bar/type_caisson_vmc
                              $schema: https://json-schema.org/draft/2020-12/schema
                              description: >-
                                Type de caisson pour ventilation mécanique
                                centralisée
                              type: string
                              oneOf: *ref_143
                              $defs: *ref_144
                            referenceAvisTechnique:
                              title: Référence de l'avis technique
                              type: string
                            dateAvisTechnique:
                              title: Date de validitéde l'avis technique
                              type: string
                              format: date
                            marqueCaison:
                              title: Marque du caisson
                              type: string
                            referenceCaison:
                              title: Référence du caisson
                              type: string
                            marqueBouchesExtraction:
                              title: Marque des bouches d'extrations
                              type: string
                            referenceBouchesExtraction:
                              title: Référence des bouches d'extrations
                              type: string
                          allOf:
                            - if:
                                properties:
                                  typeEquipement: *ref_122
                                required:
                                  - typeEquipement
                              then:
                                properties:
                                  marqueBouchesEntreeAir:
                                    title: Marque des bouches d'entrée d'air
                                    type: string
                                  referenceBouchesEntreeAir:
                                    title: Référence des bouches d'entrée d'air
                                    type: string
                                required:
                                  - marqueBouchesEntreeAir
                                  - referenceBouchesEntreeAir
                            - if:
                                properties:
                                  typeInstallation: *ref_85
                                required:
                                  - typeInstallation
                              then:
                                properties:
                                  surfaceHabitable:
                                    title: Surface habitable (m²)
                                    type: number
                                    minimum: 0
                                  puissanceElectrique:
                                    title: >-
                                      Puissance électrique absorbée pondérée
                                      (WThC)
                                    type: number
                                    maximum: 15
                                  typeCaisson: *ref_119
                                  performanceEnergetique: *ref_145
                                required:
                                  - surfaceHabitable
                                  - typeCaisson
                                  - puissanceElectrique
                                  - performanceEnergetique
                            - if:
                                properties:
                                  typeInstallation: *ref_86
                                required:
                                  - typeInstallation
                              then:
                                properties:
                                  logements:
                                    title: Nombre de logements desservis
                                    description: Nombre d'appartement d'un même bâtiment
                                    type: integer
                                    minimum: 1
                                  puissanceElectrique:
                                    title: >-
                                      Puissance électrique absorbée pondérée
                                      (WThC/(m3/h))
                                    type: number
                                    maximum: 0.25
                                required:
                                  - logements
                                  - puissanceElectrique
                            - if:
                                properties:
                                  typeInstallation: *ref_86
                                  typeCaisson: *ref_119
                                required:
                                  - typeInstallation
                                  - typeCaisson
                              then:
                                properties:
                                  puissanceElectrique:
                                    type: number
                                    maximum: 0.1
                                required:
                                  - puissanceElectrique
                            - if:
                                properties:
                                  typeInstallation: *ref_86
                                  typeCaisson: *ref_121
                                required:
                                  - typeInstallation
                                  - typeCaisson
                              then:
                                properties:
                                  puissanceElectrique:
                                    type: number
                                    maximum: 0.12
                                required:
                                  - puissanceElectrique
                          required:
                            - typeBatiment
                            - ancienneteBatiment
                            - typeInstallation
                            - typeEquipement
                            - typeCaisson
                            - puissanceElectrique
                            - referenceAvisTechnique
                            - dateAvisTechnique
                            - marqueCaison
                            - referenceCaison
                            - marqueBouchesExtraction
                            - referenceBouchesExtraction
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: >-
                                  Avis technique du système de ventilation
                                  hybride hygroréglable
                                type: object
                                properties:
                                  code:
                                    const: AVIS_TECHNIQUE
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            typeInstallation: INDIVIDUEL
                            typeEquipement: TYPE_A
                            typeCaisson: BASSE_CONSOMMATION
                            surfaceHabitable: 100
                            puissanceElectrique: 10
                            performanceEnergetique: A+
                            referenceAvisTechnique: REFERENCE
                            dateAvisTechnique: '2020-01-01'
                            marqueCaison: MARQUE
                            referenceCaison: REFERENCE
                            marqueBouchesExtraction: MARQUE
                            referenceBouchesExtraction: REFERENCE
                          documents:
                            - code: AVIS_TECHNIQUE
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-127v54-5
                        required:
                          - fiche
                BAR-TH-125v54-5: &ref_169
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-125v54-5
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-TH-125v54-5
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            typeBatiment: *ref_89
                            ancienneteBatiment: *ref_62
                            typeInstallation: *ref_116
                            marqueCaisson:
                              title: Marque du caisson
                              type: string
                            referenceCaisson:
                              title: Référence du caisson
                              type: string
                            marqueBouchesExtraction:
                              title: Marque des bouches d'extrations
                              type: string
                            referenceBouchesExtraction:
                              title: Référence des bouches d'extrations
                              type: string
                          allOf:
                            - if:
                                properties:
                                  typeInstallation:
                                    const: INDIVIDUEL
                                required:
                                  - typeInstallation
                              then:
                                properties:
                                  surfaceHabitable:
                                    title: Surface habitable (m²)
                                    type: number
                                    minimum: 0
                                  typeEquipement: *ref_146
                                  performanceEnergetique:
                                    title: >-
                                      Classe énergétique du système de
                                      ventilation
                                    description: >-
                                      Classe énergétique du système de
                                      ventilation selon le règlement européen
                                      (UE) n° 1254/2014
                                    type: string
                                    oneOf:
                                      - *ref_123
                                      - *ref_124
                                  performanceEnergetiqueCentrale:
                                    title: >-
                                      Rapport de température de la centrale
                                      double flux (efficacité thermique) (%)
                                    type: number
                                    exclusiveMinimum: 85
                                  puissanceElectrique:
                                    title: >-
                                      Puissance électrique absorbée pondérée
                                      (WThC)
                                    description: >-
                                      Puissance électrique pour une
                                      configuration T4 avec une salle de bain et
                                      un WC
                                    type: number
                                    maximum: 47.6
                                required:
                                  - surfaceHabitable
                                  - typeEquipement
                                  - performanceEnergetique
                                  - performanceEnergetiqueEchangeur
                                  - puissanceElectrique
                            - if:
                                properties:
                                  typeInstallation:
                                    const: COLLECTIF
                                required:
                                  - typeInstallation
                              then:
                                properties:
                                  logements:
                                    title: Nombre de logements desservis
                                    description: Nombre d'appartement d'un même bâtiment
                                    type: integer
                                    minimum: 1
                                  typeEquipement: *ref_117
                                  performanceEnergetiqueEchangeur:
                                    title: >-
                                      Rendement en température (efficacité
                                      thermique) de l'échangeur de chaleur (%)
                                    type: number
                                    minimum: 75
                                required:
                                  - logements
                                  - typeEquipement
                                  - performanceEnergetiqueEchangeur
                            - if:
                                properties:
                                  typeEquipement:
                                    const: >-
                                      https://schemas.ceeconnect.fr/enums/bar/type_vmc#/$defs/MODULE
                                required:
                                  - typeEquipement
                              then:
                                properties:
                                  referenceAvisTechnique:
                                    title: Référence de l'avis technique
                                    type: string
                                  dateAvisTechnique:
                                    title: Date de l'avis technique
                                    type: string
                                    format: date
                                required:
                                  - referenceAvisTechnique
                                  - dateAvisTechnique
                          required:
                            - ancienneteBatiment
                            - typeBatiment
                            - typeInstallation
                            - surfaceHabitable
                            - marqueCaisson
                            - referenceCaisson
                            - marqueBouchesExtraction
                            - referenceBouchesExtraction
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: >-
                                  Preuve de qualification du professionnel ayant
                                  assuré la réalisation de l'opération
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            typeBatiment: MAISON
                            ancienneteBatiment: EXISTANT
                            surfaceHabitable: 100
                            puissanceElectrique: 30
                            typeInstallation: INDIVIDUEL
                            typeEquipement: AUTOREGLABLE
                            performanceEnergetique: A+
                            performanceEnergetiqueEchangeur: 90
                            marqueCaisson: MARQUE
                            referenceCaisson: REFERENCE
                            marqueBouchesExtraction: MARQUE
                            referenceBouchesExtraction: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-TH-125v54-5
                        required:
                          - fiche
                BAR-EN-108v54-3: &ref_186
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-108v54-3
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-108v54-3
                      type: object
                      properties:
                        adresse: *ref_67
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            ancienneteEquipement:
                              const: EXISTANT
                              title: Plus de 2 ans
                            quantite:
                              title: Nombre de fermetures isolantes posées
                              type: integer
                              minimum: 0
                            surface:
                              title: Surface totale de fermeture isolante posée (m²)
                              type: number
                              minimum: 0
                            resistanceThermique:
                              title: Résistance thermique additionnelle (m².K/W)
                              type: number
                              minimum: 0.22
                            marque:
                              title: Marque des équipements installés
                              type: string
                            reference:
                              title: Référence des équipements installés
                              type: string
                          required:
                            - ancienneteBatiment
                            - ancienneteEquipement
                            - quantite
                            - surface
                            - resistanceThermique
                            - marque
                            - reference
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                      examples:
                        - adresse: *ref_66
                          caracteristiques:
                            ancienneteBatiment: EXISTANT
                            ancienneteEquipement: EXISTANT
                            quantite: 10
                            surface: 15
                            resistanceThermique: 0.4
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-108v54-3
                        required:
                          - fiche
                BAR-EN-104v54-2: &ref_191
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-104v54-2
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-104v54-2
                      type: object
                      properties:
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            quantite:
                              title: >-
                                Nombre de fenêtres ou portes fenêtres complètes
                                avec vitrage isolant posées
                              type: integer
                              minimum: 1
                            surface:
                              title: >-
                                Surface totale de fenêtres, doubles fenêtres,
                                fenêtres de toiture ou portes-fenêtres posée
                              type: number
                              minimum: 0
                            typeFenetre: *ref_147
                            coefficientSurfacique:
                              title: >-
                                Coefficient de transmission surfacique Uw
                                (W/m².K)
                              type: number
                              maximum: 1.7
                            facteurSolaire:
                              title: Facteur solaire
                              type: number
                            marque:
                              title: Marque des équipements
                              type: string
                            reference:
                              title: Référence des équipements
                              type: string
                          required:
                            - ancienneteBatiment
                            - quantite
                            - surface
                            - typeFenetre
                            - coefficientSurfacique
                            - facteurSolaire
                            - marque
                            - reference
                          anyOf:
                            - properties:
                                typeFenetre: *ref_63
                                coefficientSurfacique:
                                  type: number
                                  maximum: 1.5
                                facteurSolaire:
                                  type: number
                                  maximum: 0.36
                              required:
                                - typeFenetre
                                - coefficientSurfacique
                                - facteurSolaire
                            - properties:
                                typeFenetre:
                                  oneOf:
                                    - *ref_64
                                    - *ref_65
                                coefficientSurfacique:
                                  type: number
                                  maximum: 1.3
                                facteurSolaire:
                                  type: number
                                  maximum: 0.3
                              required:
                                - typeFenetre
                                - coefficientSurfacique
                                - facteurSolaire
                            - properties:
                                typeFenetre:
                                  oneOf:
                                    - *ref_64
                                    - *ref_65
                                coefficientSurfacique:
                                  type: number
                                  maximum: 1.7
                                facteurSolaire:
                                  type: number
                                  maximum: 0.36
                              required:
                                - typeFenetre
                                - coefficientSurfacique
                                - facteurSolaire
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - caracteristiques
                        - documents
                      examples:
                        - caracteristiques:
                            ancienneteBatiment: EXISTANT
                            quantite: 10
                            surface: 15
                            typeFenetre: AUTRES
                            coefficientSurfacique: 1.2
                            facteurSolaire: 0.2
                            marque: MARQUE
                            reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-104v54-2
                        required:
                          - fiche
                BAR-EN-101v54-5: &ref_195
                  allOf:
                    - $id: >-
                        https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-101v54-5
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: BAR-EN-101v54-5
                      type: object
                      properties:
                        adresse: *ref_59
                        caracteristiques:
                          type: object
                          properties:
                            ancienneteBatiment: *ref_62
                            quantite:
                              title: Surface d'isolant posé (m²)
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la surface résultant de la
                                superposition des isolants
                              type: number
                              minimum: 0
                            typePose: *ref_148
                            resistanceThermique:
                              title: Résistance thermmique de l'isolant
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer la résistance thermique
                                globale
                              type: number
                              minimum: 6
                            epaisseur:
                              title: Epaisseur de l'isolant (mm)
                              type: number
                              minimum: 0
                            posePareVapeur:
                              title: Mise en place d'un pare-vapeur
                              description: >-
                                L'isolation thermique réalisée a nécessité la
                                mise en place d'un pare-vapeur ou tout autre
                                dispositif permettant d'atteindre un résultat
                                équivalent
                              type: boolean
                            references:
                              title: Marques et références
                              description: >-
                                Dans le cas d'une pose superposée de plusieurs
                                isolants, indiquer les marques et références de
                                chacun des isolants posés
                              type: array
                              minItems: 1
                              items:
                                type: object
                                properties:
                                  marque:
                                    title: Marque de l'isolant
                                    type: string
                                  reference:
                                    title: Référence de l'isolant
                                    type: string
                                required:
                                  - marque
                                  - reference
                          required:
                            - ancienneteBatiment
                            - quantite
                            - typePose
                            - resistanceThermique
                            - epaisseur
                            - posePareVapeur
                            - references
                          allOf:
                            - if:
                                properties:
                                  typePose: *ref_60
                                required:
                                  - typePose
                              then:
                                properties:
                                  resistanceThermique:
                                    type: number
                                    minimum: 7
                        documents:
                          type: array
                          allOf:
                            - contains:
                                title: Preuve de qualification du professionnel
                                type: object
                                properties:
                                  code:
                                    const: PREUVE_QUALIFICATION
                                required:
                                  - code
                      required:
                        - adresse
                        - caracteristiques
                        - documents
                      examples:
                        - adresse: *ref_27
                          caracteristiques:
                            ancienneteBatiment: EXISTANT
                            typePose: COMBLES_PERDUS
                            quantite: 100
                            resistanceThermique: 8
                            epaisseur: 400
                            posePareVapeur: true
                            references:
                              - marque: MARQUE
                                reference: REFERENCE
                              - marque: MARQUE
                                reference: REFERENCE
                          documents:
                            - code: PREUVE_QUALIFICATION
                              url: >-
                                https://api.ceeconnect.fr/archivage/archives/{uuid}
                    - type: object
                      properties:
                        fiche:
                          const: BAR-EN-101v54-5
                        required:
                          - fiche
              anyOf:
                - *ref_149
                - *ref_150
                - *ref_151
                - *ref_152
                - *ref_153
                - *ref_154
                - *ref_155
                - *ref_156
                - *ref_157
                - *ref_158
                - *ref_159
                - *ref_160
                - *ref_161
                - *ref_162
                - *ref_163
                - *ref_164
                - *ref_165
                - *ref_166
                - *ref_167
                - *ref_168
                - *ref_169
                - *ref_170
                - *ref_171
                - *ref_172
                - *ref_173
                - *ref_174
                - *ref_175
                - *ref_176
                - *ref_177
                - *ref_178
                - *ref_179
                - *ref_180
                - *ref_181
                - *ref_182
                - *ref_183
                - *ref_184
                - *ref_185
                - *ref_186
                - *ref_187
                - *ref_188
                - *ref_189
                - *ref_190
                - *ref_191
                - *ref_192
                - *ref_193
                - *ref_194
                - *ref_195
                - *ref_196
      responses:
        '201':
          description: Opération créée
          content:
            application/json:
              schema: &ref_347
                title: Opération d'économies d'énergie
                type: object
                properties:
                  uuid:
                    title: Identifiant
                    type: string
                    format: string
                  depot:
                    title: Dépôt d'opérations d'économies d'énergie
                    type: object
                    properties:
                      uuid:
                        title: Identifiant
                        type: string
                        format: uuid
                      referenceEmmy:
                        title: Référence Emmy du dépôt
                        type:
                          - string
                          - 'null'
                      dateCreation:
                        title: Date de création
                        type: string
                        format: date
                      dateModification:
                        title: Date de dernière modification
                        type: string
                        format: date
                      dateDepot:
                        title: Date du dépôt auprès du PNCEE
                        type:
                          - string
                          - 'null'
                        format: date
                      nom:
                        title: Nom interne du dépôt
                        type: stirng
                      statut:
                        title: Statut interne
                        type: string
                        oneOf:
                          - title: Ouvert
                            description: >-
                              Le dépôt accepte de nouvelles opérations
                              d'économies d'énergie
                            const: OUVERT
                          - title: Fermé
                            description: >-
                              Le dépôt n'accepte pas de nouvelles opérations
                              d'économies d'énergie
                            const: FERME
                          - title: Transmis pour contrôle
                            description: Le dépôt est en cours de contrôle
                            const: EN_COURS_CONTROLE
                          - title: Transmis pour instruction
                            description: >-
                              Le dépôt est en cours d'instruction auprès du
                              PNCEE
                            const: EN_COURS_INSTRUCTION
                          - title: En cours de correction
                            description: Le dépôt est en cours de correction
                            const: EN_COURS_MODIFICATION
                          - title: Archivé
                            description: Dépôt archivé
                            const: ARCHIVE
                      volumeCeeClassique:
                        title: Volume de CEE classique
                        type: integer
                        minimum: 0
                      volumeCeePrecarite:
                        title: Volume de CEE précarité
                        type: integer
                        minimum: 0
                    required:
                      - uuid
                      - referenceEmmy
                      - dateCreation
                      - dateModification
                      - dateDepot
                      - nom
                      - statut
                      - volumeCeeClassique
                      - volumeCeePrecarite
                required:
                  - uuid
                  - depot
                $id: https://schemas.ceeconnect.fr/bundles/operation
                $schema: https://json-schema.org/draft/2020-12/schema
                $defs:
                  BAR-EN-101v39-4: &ref_342
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-101v39-4
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-101v39-4
                        type: object
                        properties:
                          adresse: &ref_199
                            title: Adresse
                            type: object
                            properties:
                              banId: &ref_205
                                title: >-
                                  Identifiant de l'adresse dans la Base Adresse
                                  Nationale
                                type: string
                                maxLength: 240
                              numero: &ref_206
                                title: Numéro dans la voie
                                type: string
                                maxLength: 240
                              voie: &ref_207
                                title: Nom de voie ou lieu dit
                                type: string
                                maxLength: 240
                              complement: &ref_208
                                title: Complément d'adresse
                                type: string
                                maxLength: 240
                              commune: &ref_209
                                title: Nom de la commune
                                type: string
                                maxLength: 240
                              codePostal:
                                pattern: >-
                                  ^([02][1-9]|[12345678][0-9]|9[012345])[0-9]{3}$
                                title: Code postal
                                type: string
                              codeCommune:
                                pattern: >-
                                  ^([02][1-9]|2[AB]|[1345678][0-9]|9[012345])[0-9]{3}$
                                title: Code INSEE
                                type: string
                            required:
                              - voie
                              - commune
                              - codePostal
                              - codeCommune
                            examples:
                              - numero: '9'
                                voie: Rue des Colonnes
                                commune: Paris
                                codePostal: '75002'
                                codeInsee: '75102'
                                banId: 75102221900009
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: &ref_200
                                title: >-
                                  Bâtiment de plus de deux ans à la date
                                  d'engagement de l'opération
                                const: EXISTANT
                              quantite:
                                title: Surface d'isolant posé (m²)
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la surface résultant de la
                                  superposition des isolants
                                type: number
                                minimum: 0
                              typePose: &ref_294
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_pose_isolant
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Type de pose
                                type: string
                                oneOf:
                                  - &ref_197
                                    const: COMBLES_PERDUS
                                    title: Pose en combles perdus
                                  - &ref_198
                                    const: RAMPANT_TOITURES
                                    title: Pose en rampant de toitures
                                $defs:
                                  COMBLES_PERDUS: *ref_197
                                  RAMPANT_TOITURES: *ref_198
                              resistanceThermique:
                                title: Résistance thermmique de l'isolant
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la résistance thermique
                                  globale
                                type: number
                                minimum: 6
                              epaisseur:
                                title: Epaisseur de l'isolant (mm)
                                type: number
                                minimum: 0
                              posePareVapeur:
                                title: Mise en place d'un pare-vapeur
                                description: >-
                                  L'isolation thermique réalisée a nécessité la
                                  mise en place d'un pare-vapeur ou tout autre
                                  dispositif permettant d'atteindre un résultat
                                  équivalent
                                type: boolean
                              references:
                                title: Marques et références
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer les marques et références
                                  de chacun des isolants posés
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    marque:
                                      title: Marque de l'isolant
                                      type: string
                                    reference:
                                      title: Référence de l'isolant
                                      type: string
                                  required:
                                    - marque
                                    - reference
                            required:
                              - ancienneteBatiment
                              - quantite
                              - typePose
                              - resistanceThermique
                              - epaisseur
                              - posePareVapeur
                              - references
                            allOf:
                              - if:
                                  properties:
                                    typePose: *ref_197
                                  required:
                                    - typePose
                                then:
                                  properties:
                                    resistanceThermique:
                                      type: number
                                      minimum: 7
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: &ref_201
                              banId: 92062_A100
                              voie: Grande Arche Défense
                              commune: Puteaux
                              codeCommune: '92062'
                              codePostal: '92800'
                            caracteristiques:
                              ancienneteBatiment: EXISTANT
                              typePose: COMBLES_PERDUS
                              quantite: 100
                              resistanceThermique: 8
                              epaisseur: 400
                              posePareVapeur: true
                              references:
                                - marque: MARQUE
                                  reference: REFERENCE
                                - marque: MARQUE
                                  reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-101v39-4
                          required:
                            - fiche
                  BAR-EN-102v39-2: &ref_340
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-102v39-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-102v39-2
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              quantite:
                                title: Surface d'isolant posé (m²)
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la surface résultant de la
                                  superposition des isolants
                                type: number
                                minimum: 0
                              resistanceThermique:
                                title: Résistance thermmique de l'isolant
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la résistance thermique
                                  globale
                                type: number
                                minimum: 3.7
                              epaisseur:
                                title: Epaisseur de l'isolant (mm)
                                type: number
                                minimum: 0
                              references:
                                title: Marques et références
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer les marques et références
                                  de chacun des isolants posés
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    marque:
                                      title: Marque de l'isolant
                                      type: string
                                    reference:
                                      title: Référence de l'isolant
                                      type: string
                                  required:
                                    - marque
                                    - reference
                            required:
                              - ancienneteBatiment
                              - quantite
                              - resistanceThermique
                              - epaisseur
                              - references
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              ancienneteBatiment: EXISTANT
                              quantite: 100
                              resistanceThermique: 4
                              epaisseur: 200
                              references:
                                - marque: MARQUE
                                  reference: REFERENCE
                                - marque: MARQUE
                                  reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-102v39-2
                          required:
                            - fiche
                  BAR-EN-103v39-5: &ref_339
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-103v39-5
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-103v39-5
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              quantite:
                                title: Surface d'isolant posé (m²)
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la surface résultant de la
                                  superposition des isolants
                                type: number
                                minimum: 0
                              resistanceThermique:
                                title: Résistance thermmique de l'isolant
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la résistance thermique
                                  globale
                                type: number
                                minimum: 3
                              epaisseur:
                                title: Epaisseur de l'isolant (mm)
                                type: number
                                minimum: 0
                              posePareVapeur:
                                title: Mise en place d'un pare-vapeur
                                description: >-
                                  L'isolation thermique réalisée a nécessité la
                                  mise en place d'un pare-vapeur ou tout autre
                                  dispositif permettant d'atteindre un résultat
                                  équivalent
                                type: boolean
                              references:
                                title: Marques et références
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer les marques et références
                                  de chacun des isolants posés
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    marque:
                                      title: Marque de l'isolant
                                      type: string
                                    reference:
                                      title: Référence de l'isolant
                                      type: string
                                  required:
                                    - marque
                                    - reference
                            required:
                              - ancienneteBatiment
                              - quantite
                              - resistanceThermique
                              - epaisseur
                              - posePareVapeur
                              - references
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              ancienneteBatiment: EXISTANT
                              quantite: 100
                              resistanceThermique: 4
                              epaisseur: 200
                              posePareVapeur: true
                              references:
                                - marque: MARQUE
                                  reference: REFERENCE
                                - marque: MARQUE
                                  reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-103v39-5
                          required:
                            - fiche
                  BAR-EN-104v14-1: &ref_338
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-104v14-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-104v14-1
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              energieChauffage: &ref_214
                                title: Energie de chauffage principale
                                type: string
                                oneOf: &ref_231
                                  - &ref_270
                                    const: ELECTRICITE
                                    title: Electricité
                                  - &ref_232
                                    const: COMBUSTIBLES
                                    title: Combustibles
                              quantite:
                                title: >-
                                  Nombre de fenêtres ou portes fenêtres
                                  complètes avec vitrage isolant posées
                                type: integer
                                minimum: 1
                              typeFenetre: &ref_293
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_fenetre
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Type de fenêtre
                                type: string
                                oneOf:
                                  - &ref_202
                                    const: FENETRE_TOITURE
                                    title: Fenêtre de toiture
                                  - &ref_203
                                    const: AUTRES
                                    title: Autre(s) fenêtre(s) ou porte(s)-fenêtre(s)
                                  - &ref_204
                                    const: PORTE_FENETRE
                                    title: Porte-fenêtre
                                $defs:
                                  FENETRE_TOITURE: *ref_202
                                  AUTRES: *ref_203
                                  PORTE_FENETRE: *ref_204
                              coefficientSurfacique:
                                title: >-
                                  Coefficient de transmission surfacique Uw
                                  (W/m².K)
                                type: number
                                maximum: 1.7
                              facteurSolaire:
                                title: Facteur solaire
                                type: number
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            required:
                              - ancienneteBatiment
                              - energieChauffage
                              - quantite
                              - typeFenetre
                              - coefficientSurfacique
                              - facteurSolaire
                              - marque
                              - reference
                            anyOf:
                              - properties:
                                  typeFenetre: *ref_202
                                  coefficientSurfacique:
                                    type: number
                                    maximum: 1.5
                                  facteurSolaire:
                                    type: number
                                    maximum: 0.36
                                required:
                                  - typeFenetre
                                  - coefficientSurfacique
                                  - facteurSolaire
                              - properties:
                                  typeFenetre:
                                    oneOf:
                                      - *ref_203
                                      - *ref_204
                                  coefficientSurfacique:
                                    type: number
                                    maximum: 1.3
                                  facteurSolaire:
                                    type: number
                                    maximum: 0.3
                                required:
                                  - typeFenetre
                                  - coefficientSurfacique
                                  - facteurSolaire
                              - properties:
                                  typeFenetre:
                                    oneOf:
                                      - *ref_203
                                      - *ref_204
                                  coefficientSurfacique:
                                    type: number
                                    maximum: 1.7
                                  facteurSolaire:
                                    type: number
                                    maximum: 0.36
                                required:
                                  - typeFenetre
                                  - coefficientSurfacique
                                  - facteurSolaire
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              ancienneteBatiment: EXISTANT
                              energieChauffage: COMBUSTIBLES
                              quantite: 100
                              typeFenetre: AUTRES
                              coefficientSurfacique: 1.2
                              facteurSolaire: 0.2
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-104v14-1
                          required:
                            - fiche
                  BAR-EN-105v39-3: &ref_336
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-105v39-3
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-105v39-3
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              quantite:
                                title: Surface d'isolant posé (m²)
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la surface résultant de la
                                  superposition des isolants
                                type: number
                                minimum: 0
                              resistanceThermique:
                                title: Résistance thermmique de l'isolant
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la résistance thermique
                                  globale
                                type: number
                                minimum: 4.5
                              epaisseur:
                                title: Epaisseur de l'isolant (mm)
                                type: number
                                minimum: 0
                              references:
                                title: Marques et références
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer les marques et références
                                  de chacun des isolants posés
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    marque:
                                      title: Marque de l'isolant
                                      type: string
                                    reference:
                                      title: Référence de l'isolant
                                      type: string
                                  required:
                                    - marque
                                    - reference
                            required:
                              - ancienneteBatiment
                              - quantite
                              - resistanceThermique
                              - epaisseur
                              - references
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: &ref_210
                              banId: '97411_1060_00002'
                              numero: '2'
                              voie: Rue de Paris
                              commune: Saint-Denis
                              codeCommune: '97411'
                              codePostal: '97400'
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              quantite: 100
                              resistanceThermique: 5
                              epaisseur: 200
                              references:
                                - marque: MARQUE
                                  reference: REFERENCE
                                - marque: MARQUE
                                  reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-105v39-3
                          required:
                            - fiche
                  BAR-EN-106v33-4: &ref_335
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-106v33-4
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-106v33-4
                        type: object
                        properties:
                          adresse: &ref_211
                            title: Adresse
                            type: object
                            properties:
                              banId: *ref_205
                              numero: *ref_206
                              voie: *ref_207
                              complement: *ref_208
                              commune: *ref_209
                              codePostal:
                                pattern: ^97[12346][0-9]{2}$
                                title: Code postal
                                type: string
                              codeCommune:
                                pattern: ^97[12346][0-9]{2}$
                                title: Code INSEE
                                type: string
                            required:
                              - voie
                              - commune
                              - codePostal
                              - codeCommune
                            examples:
                              - {}
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: &ref_212
                                title: Type de bâtiment
                                type: string
                                oneOf:
                                  - &ref_228
                                    title: Maison individuelle
                                    const: MAISON
                                  - &ref_262
                                    title: Immeuble collectif
                                    const: IMMEUBLE
                              ancienneteBatiment: &ref_213
                                title: Ancienneté du bâtiment
                                description: >-
                                  Ancienneté du bâtiment à la date d'engagement
                                  de l'opération
                                oneOf:
                                  - title: Bâtiment de moins de 2 ans
                                    const: NEUF
                                  - title: Bâtiment de plus de deux ans
                                    const: EXISTANT
                              quantite:
                                title: Surface d'isolant posé (m²)
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la surface résultant de la
                                  superposition des isolants
                                type: number
                                minimum: 0
                              resistanceThermique:
                                title: Résistance thermmique de l'isolant
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la résistance thermique
                                  globale
                                type: number
                                minimum: 1.5
                              epaisseur:
                                title: Epaisseur de l'isolant (mm)
                                type: number
                                minimum: 0
                              references:
                                title: Marques et références
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer les marques et références
                                  de chacun des isolants posés
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    marque:
                                      title: Marque de l'isolant
                                      type: string
                                    reference:
                                      title: Référence de l'isolant
                                      type: string
                                  required:
                                    - marque
                                    - reference
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - quantite
                              - resistanceThermique
                              - epaisseur
                              - references
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_210
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              quantite: 100
                              resistanceThermique: 2
                              epaisseur: 100
                              references:
                                - marque: MARQUE
                                  reference: REFERENCE
                                - marque: MARQUE
                                  reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-106v33-4
                          required:
                            - fiche
                  BAR-EN-107v20-3: &ref_334
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-107v20-3
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-107v20-3
                        type: object
                        properties:
                          adresse: *ref_211
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_212
                              ancienneteBatiment: *ref_213
                              quantite:
                                title: Surface d'isolant posé (m²)
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la surface résultant de la
                                  superposition des isolants
                                type: number
                                minimum: 0
                              resistanceThermique:
                                title: Résistance thermmique de l'isolant
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la résistance thermique
                                  globale
                                type: number
                                minimum: 0.5
                              epaisseur:
                                title: Epaisseur de l'isolant (mm)
                                type: number
                                minimum: 0
                              references:
                                title: Marques et références
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer les marques et références
                                  de chacun des isolants posés
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    marque:
                                      title: Marque de l'isolant
                                      type: string
                                    reference:
                                      title: Référence de l'isolant
                                      type: string
                                  required:
                                    - marque
                                    - reference
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - quantite
                              - resistanceThermique
                              - epaisseur
                              - references
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_210
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              quantite: 100
                              resistanceThermique: 0.6
                              epaisseur: 100
                              references:
                                - marque: MARQUE
                                  reference: REFERENCE
                                - marque: MARQUE
                                  reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-107v20-3
                          required:
                            - fiche
                  BAR-EN-108v37-2: &ref_333
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-108v37-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-108v37-2
                        type: object
                        properties:
                          adresse: *ref_211
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              ancienneteEquipement:
                                title: >-
                                  La fenêtre ou porte-fenêtre sur laquelle est
                                  installée la fermeture isolante est âgée de
                                  plus de 2 ans à la date d'engagement de
                                  l'opération
                                const: EXISTANT
                              energieChauffage: *ref_214
                              quantite:
                                title: Nombre de fermetures isolantes posées
                                type: integer
                                minimum: 0
                              resistanceThermique:
                                title: Résistance thermique additionnelle (m².K/W)
                                type: number
                                minimum: 0.22
                              marque:
                                title: Marque des équipements installés
                                type: string
                              reference:
                                title: Référence des équipements installés
                                type: string
                            required:
                              - ancienneteBatiment
                              - ancienneteEquipement
                              - energieChauffage
                              - quantite
                              - resistanceThermique
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                        examples:
                          - adresse: *ref_210
                            caracteristiques:
                              ancienneteBatiment: EXISTANT
                              ancienneteEquipement: EXISTANT
                              energieChauffage: COMBUSTIBLES
                              quantite: 10
                              resistanceThermique: 0.4
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-108v37-2
                          required:
                            - fiche
                  BAR-EN-109v24-1: &ref_331
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-109v24-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-109v24-1
                        type: object
                        properties:
                          adresse: *ref_211
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_212
                              ancienneteBatiment: *ref_200
                              energieChauffage: *ref_214
                              quantite:
                                title: Surface de toiture protégée (en m²)
                                type: number
                                minimum: 0
                              compositionToiture:
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/constitution_toiture
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Constitution d'une toiture performante
                                type: string
                                oneOf:
                                  - &ref_215
                                    const: SYSTEME
                                    title: >-
                                      Toiture contituée d'un système de toiture
                                      assurant à lui seul le facteur solaire
                                      requis
                                  - &ref_216
                                    const: ENSEMBLE_ELEMENTS
                                    title: >-
                                      Toiture constituée d'un ensemble
                                      d'éléments dont la composition permet
                                      d'obtenir le facteur solaire requis
                                $defs:
                                  SYSTEME: *ref_215
                                  ENSEMBLE_ELEMENTS: *ref_216
                              facteurSolaire:
                                title: Facteur solaire (m².K/W)
                                type: number
                                maximum: 0.03
                              marque:
                                title: Marque de l'isolant
                                type: string
                              reference:
                                title: Référence de l'isolant
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - energieChauffage
                              - quantite
                              - compositionToiture
                              - facteurSolaire
                              - marque
                              - reference
                        allOf:
                          - if:
                              properties:
                                adresse:
                                  type: object
                                  properties:
                                    codeCommune:
                                      type: string
                                      pattern: '[976].+'
                                  required:
                                    - codeCommune
                              required:
                                - adresse
                            then:
                              properties:
                                caracteristiques:
                                  type: object
                                  properties:
                                    facteurSolaire:
                                      type: number
                                      maximum: 0.02
                                  required:
                                    - facteurSolaire
                              required:
                                - caracteristiques
                          - if:
                              properties:
                                caracteristiques:
                                  type: object
                                  properties:
                                    compositionToiture: *ref_216
                                  required:
                                    - compositionToiture
                              required:
                                - caracteristiques
                            then:
                              properties:
                                documents:
                                  type: array
                                  allOf:
                                    - contains:
                                        title: Note de calcul du facteur solaire
                                        type: object
                                        properties:
                                          code:
                                            const: NOTE_CALCUL
                                        required:
                                          - code
                              required:
                                - documents
                        required:
                          - adresse
                          - caracteristiques
                        examples:
                          - adresse: *ref_210
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              energieChauffage: COMBUSTIBLES
                              quantite: 100
                              compositionToiture: ENSEMBLE_ELEMENTS
                              facteurSolaire: 0.01
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: NOTE_CALCUL
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-109v24-1
                          required:
                            - fiche
                  BAR-EN-110v35-1: &ref_330
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-110v35-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-110v35-1
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              typeVentilation:
                                title: Type de système ventilation mécanique présent
                                type: string
                                oneOf:
                                  - const: AUTOREGLABLE
                                    title: Simple flux autoréglable
                                  - const: HYGROREGLABLE
                                    title: Simple flux hygroréglable de type A
                                  - &ref_277
                                    const: NATURELLE
                                    title: Ventilation naturelle assitée
                              quantite:
                                title: >-
                                  Nombre de fenêtres ou portes fenêtres
                                  complètes pariétodynamiques posées
                                type: integer
                                minimum: 0
                              coefficientSurfacique:
                                title: >-
                                  Coefficient de transmission surfacique Uw
                                  (W/m².K)
                                type: number
                                maximum: 1.4
                              facteurSolaire:
                                title: Facteur solaire
                                type: number
                                minimum: 0.5
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            required:
                              - ancienneteBatiment
                              - typeVentilation
                              - quantite
                              - coefficientSurfacique
                              - facteurSolaire
                              - marque
                              - reference
                            anyOf:
                              - properties:
                                  coefficientSurfacique:
                                    type: number
                                    maximum: 1.1
                                  facteurSolaire:
                                    type: number
                                    minimum: 0.5
                                required:
                                  - coefficientSurfacique
                                  - facteurSolaire
                              - properties:
                                  coefficientSurfacique:
                                    type: number
                                    maximum: 1.4
                                  facteurSolaire:
                                    type: number
                                    minimum: 0.55
                                required:
                                  - coefficientSurfacique
                                  - facteurSolaire
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              ancienneteBatiment: EXISTANT
                              typeVentilation: NATURELLE
                              quantite: 10
                              coefficientSurfacique: 0.8
                              facteurSolaire: 0.6
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-110v35-1
                          required:
                            - fiche
                  BAR-EQ-110v15-1: &ref_329
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EQ-110v15-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EQ-110v15-1
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              indiceProtectionChocs:
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/indice_protection_chocs
                                $schema: https://json-schema.org/draft/2020-12/schema
                                $comment: >-
                                  https://www.seton.fr/media/cms/files/stfr/DMEU_TDS_2584_std.lang.all.pdf
                                title: Indice de de protection aux chocs
                                type: string
                                oneOf:
                                  - &ref_218
                                    const: '00'
                                    title: '00'
                                  - &ref_219
                                    const: '01'
                                    title: '01'
                                  - &ref_220
                                    const: '02'
                                    title: '02'
                                  - &ref_221
                                    const: '03'
                                    title: '03'
                                  - &ref_222
                                    const: '04'
                                    title: '04'
                                  - &ref_223
                                    const: '05'
                                    title: '05'
                                  - &ref_224
                                    const: '06'
                                    title: '06'
                                  - &ref_225
                                    const: '07'
                                    title: '07'
                                  - &ref_226
                                    const: '08'
                                    title: '08'
                                  - &ref_227
                                    const: '09'
                                    title: '09'
                                  - &ref_217
                                    const: '10'
                                    title: '10'
                                $defs:
                                  '10': *ref_217
                                  '00': *ref_218
                                  '01': *ref_219
                                  '02': *ref_220
                                  '03': *ref_221
                                  '04': *ref_222
                                  '05': *ref_223
                                  '06': *ref_224
                                  '07': *ref_225
                                  '08': *ref_226
                                  '09': *ref_227
                              efficaciteLumineuse:
                                title: Efficacité lumineuse (lm/W)
                                type: integer
                                minimum: 65
                              dureeVie:
                                title: Durée de vie (heures)
                                description: >-
                                  Durée de vie avec une chute de flux lumineux ≤
                                  à 30 %
                                type: integer
                                minimum: 40000
                              quantite:
                                title: Quantité de luminaires installés
                                type: integer
                                minimum: 0
                              detecteurLumiere:
                                title: >-
                                  Système de détection tenant compte des apports
                                  de lumière du jour
                                type: boolean
                              detecteurPresence:
                                title: Détection de présence ou de mouvement
                                type: boolean
                              marque:
                                title: Marque
                                type: string
                              reference:
                                title: Référence
                                type: string
                            required:
                              - ancienneteBatiment
                              - indiceProtectionChocs
                              - efficaciteLumineuse
                              - dureeVie
                              - quantite
                              - marque
                              - reference
                            allOf:
                              - if:
                                  not:
                                    properties:
                                      indiceProtectionChocs: *ref_217
                                  required:
                                    - indiceProtectionChocs
                                then:
                                  properties:
                                    efficaciteLumineuse:
                                      type: integer
                                      minimum: 90
                                  required:
                                    - indiceProtectionChocs
                              - if:
                                  not:
                                    properties:
                                      indiceProtectionChocs: *ref_217
                                  required:
                                    - indiceProtectionChocs
                                then:
                                  properties:
                                    dureeVie:
                                      type: integer
                                      minimum: 50000
                                  required:
                                    - dureeVie
                            anyOf:
                              - properties:
                                  detecteurLumiere:
                                    const: true
                                required:
                                  - detecteurLumiere
                              - properties:
                                  detecteurPresence:
                                    const: true
                                required:
                                  - detecteurPresence
                        required:
                          - caracteristiques
                        examples:
                          - caracteristiques:
                              ancienneteBatiment: EXISTANT
                              indiceProtectionChocs: '10'
                              efficaciteLumineuse: 95
                              detecteurLumiere: true
                              dureeVie: 60000
                              quantite: 100
                              marque: MARQUE
                              reference: REFERENCE
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EQ-110v15-1
                          required:
                            - fiche
                  BAR-EQ-115v28-1: &ref_328
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EQ-115v28-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        $comment: >-
                          TODO: Intégrer les fonctionnalités d'affichage des
                          consommations
                        title: BAR-EQ-115v28-1
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: &ref_233
                                title: Type de logement
                                type: string
                                oneOf: &ref_282
                                  - *ref_228
                                  - &ref_242
                                    title: Appartement
                                    const: APPARTEMENT
                              ancienneteBatiment: *ref_200
                              typeInstallationChauffage:
                                title: Type d'installation de chauffage
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_installation
                                $schema: https://json-schema.org/draft/2020-12/schema
                                type: string
                                oneOf: &ref_244
                                  - &ref_229
                                    const: INDIVIDUEL
                                    title: Installation individuelle
                                  - &ref_230
                                    const: COLLECTIF
                                    title: Installation collective
                                $defs: &ref_245
                                  INDIVIDUEL: *ref_229
                                  COLLECTIF: *ref_230
                              energieChauffage:
                                title: Energie de chauffage principale
                                type: string
                                oneOf: *ref_231
                              surfaceHabitable:
                                title: Surface habitable (m²)
                                type: number
                                minimum: 0
                              location:
                                title: >-
                                  Le dispositif d'affichage et d'interprétation
                                  est installé dans le cadre d'une location
                                type: boolean
                              optionSuiviConfort:
                                title: >-
                                  Le dispositif inclut l'option « suivi du
                                  confort » comprenant la collecte locale et
                                  l'affichage des données de température et
                                  d'hygrométrie intérieures et extérieures au
                                  logement
                                type: boolean
                              optionCollecteConsommations:
                                title: >-
                                  Le dispositif permet de collecter et de
                                  traiter les données de consommations d'énergie
                                  de l'utilisateur
                                type: boolean
                                const: true
                              optionAssistance:
                                title: >-
                                  Le dispositif apporte à l'utilisateur des
                                  conseils adaptés à sa situation, l'aide à
                                  interpréter les données affichées et à réduire
                                  ses consommations d'énergie
                                type: boolean
                                const: true
                              optionBilanPeriodique:
                                title: >-
                                  Le dispositif informe l'utilisateur de manière
                                  régulière, à un pas inférieur ou égal à 1
                                  mois, des données disponibles sur l'affichage
                                  en lui adressant un bilan de la période
                                  écoulée, et en l'invitant à consulter
                                  l'affichage pour davantage de détails
                                type: boolean
                                const: true
                              optionAlarmeDepassement:
                                title: >-
                                  En cas de dépassement d'un seuil de
                                  consommation de référence, le dispositif émet
                                  une alarme explicite (par exemple SMS, mail,
                                  notification...)
                                type: boolean
                                const: true
                              optionComparaisonConsommations:
                                title: >-
                                  Le dispositif permet de comparer les
                                  consommations réalisées à des consommations
                                  types, établies à partir de moyennes
                                  nationales et locales pour des profils de
                                  consommations comparables à ceux de
                                  l'utilisateur, et à des seuils
                                type: boolean
                                const: true
                            required:
                              - ancienneteBatiment
                              - typeBatiment
                              - typeInstallationChauffage
                              - surfaceHabitable
                              - location
                              - optionSuiviConfort
                              - optionCollecteConsommations
                              - optionAssistance
                              - optionBilanPeriodique
                              - optionAlarmeDepassement
                              - optionComparaisonConsommations
                            allOf:
                              - if:
                                  properties:
                                    typeInstallationChauffage: *ref_230
                                    energieChauffage: *ref_232
                                  required:
                                    - typeInstallationChauffage
                                    - energieChauffage
                                then:
                                  properties:
                                    critereCompteurIndividuel:
                                      title: >-
                                        Le logement est équipé d'un compteur
                                        individuel d'énergie
                                      type: boolean
                                    critereRepartiteurs:
                                      title: Le logement est équipé de répartiteurs
                                      type: boolean
                                  required:
                                    - critereCompteurIndividuel
                                    - critereRepartiteurs
                                  anyOf:
                                    - properties:
                                        critereCompteurIndividuel:
                                          const: true
                                    - properties:
                                        critereRepartiteurs:
                                          const: true
                              - if:
                                  properties:
                                    location:
                                      type: boolean
                                      const: true
                                  required:
                                    - location
                                then:
                                  properties:
                                    dureeLocation:
                                      title: Durée de location (mois)
                                      type: integer
                                      minimum: 24
                                  required:
                                    - dureeLocation
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Descriptif du dispositif issu du fabricant
                                  type: object
                                  properties:
                                    code:
                                      const: DESCRIPTIF_TECHNIQUE
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              typeBatiment: APPARTEMENT
                              ancienneteBatiment: EXISTANT
                              typeInstallationChauffage: COLLECTIF
                              energieChauffage: ELECTRICITE
                              surfaceHabitable: 70
                              location: false
                              optionSuiviConfort: true
                              optionCollecteConsommations: true
                              optionAssistance: true
                              optionBilanPeriodique: true
                              optionAlarmeDepassement: true
                              optionComparaisonConsommations: true
                            documents:
                              - code: DESCRIPTIF_TECHNIQUE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EQ-115v28-1
                          required:
                            - fiche
                  BAR-TH-101v17-1: &ref_327
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-101v17-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-101v17-1
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment:
                                title: Maison individuelle
                                const: MAISON
                              ancienneteBatiment: *ref_200
                              marque:
                                title: Marque
                                type: string
                              reference:
                                title: Référence
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Certification CSTBat ou SolarKeymark
                                  description: >-
                                    Certification CSTBat ou SolarKeymark des
                                    capteurs solaires ou les pièces justifiant
                                    de son équivalence
                                  type: object
                                  properties:
                                    code:
                                      const: CERTIFICATION
                                  required:
                                    - code
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: CERTIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-101v17-1
                          required:
                            - fiche
                  BAR-TH-102v17-1: &ref_326
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-102v17-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-102v17-1
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment:
                                title: Immeuble collectif
                                const: IMMEUBLE
                              ancienneteBatiment: *ref_200
                              surfaceCapteurs:
                                title: Surface totale de capteurs solaires posés (m²)
                                type: number
                                minimum: 0
                              besoinEauChaudeSanitaire:
                                title: Besoin annuel en eau chaude sanitaire (kWh/an)
                                description: >-
                                  Indiquer le besoin annuel en eau chaude
                                  sanitaire issu de l'étude de dimensionnement
                                type: number
                                minimum: 0
                              tauxCouvertureSolaire:
                                title: Taux de couverture par l'énergie solaire (%)
                                description: >-
                                  Indiquer le taux de couverture par l'énergie
                                  solaire issu de l'étude de dimensionnement
                                type: number
                                minimum: 0
                              productionSolaireUtile:
                                title: Production solaire utile (kWh/an)
                                description: >-
                                  Indiquer la production solaire utile issue de
                                  l'étude de dimensionnement
                                type: number
                                minimum: 0
                              marque:
                                title: Marque de l'équipement
                                type: string
                              reference:
                                title: Référence de l'équipement
                                type: string
                            required:
                              - ancienneteBatiment
                              - typeBatiment
                              - surfaceCapteurs
                              - besoinEauChaudeSanitaire
                              - tauxCouvertureSolaire
                              - productionSolaireUtile
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Certification
                                  description: >-
                                    Certification CSTBat ou SolarKeymark des
                                    capteurs solaires
                                  type: object
                                  properties:
                                    code:
                                      const: CERTIFICATION
                                  required:
                                    - code
                              - contains:
                                  title: Etude de dimensionnement
                                  type: object
                                  properties:
                                    code:
                                      const: ETUDE_DIMENSIONNEMENT
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: IMMEUBLE
                              ancienneteBatiment: EXISTANT
                              surfaceCapteurs: 30
                              besoinEauChaudeSanitaire: 100000
                              tauxCouvertureSolaire: 80
                              productionSolaireUtile: 80000
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: CERTIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: ETUDE_DIMENSIONNEMENT
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-102v17-1
                          required:
                            - fiche
                  BAR-TH-104v41-3: &ref_325
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-104v41-3
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-104v41-3
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              temperatureDistribution: &ref_275
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/temperature_distribution
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Température de distribution (°C)
                                type: string
                                oneOf:
                                  - &ref_234
                                    const: BASSE_TEMPERATURE
                                    title: Distribution à basse température
                                  - &ref_235
                                    const: MOYENNE_TEMPERATURE
                                    title: Distribution à moyenne température
                                  - &ref_236
                                    const: HAUTE_TEMPERATURE
                                    title: Distribution à haute température
                                $defs:
                                  BASSE_TEMPERATURE: *ref_234
                                  MOYENNE_TEMPERATURE: *ref_235
                                  HAUTE_TEMPERATURE: *ref_236
                              surfaceChauffee:
                                title: Surface chaufée par l'équipement (m²)
                                type: number
                                minimum: 0
                              performanceEnergetique:
                                title: Efficacité énergétique saisonnière (%)
                                type: number
                                minimum: 111
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    temperatureDistribution: *ref_234
                                  required:
                                    - temperatureDistribution
                                then:
                                  properties:
                                    performanceEnergetique:
                                      type: number
                                      minimum: 126
                                  required:
                                    - performanceEnergetique
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - temperatureDistribution
                              - performanceEnergetique
                              - surfaceChauffee
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Note de dimensionnement
                                  type: object
                                  properties:
                                    code:
                                      type: string
                                      const: NOTE_DIMENSIONNEMENT
                                  required:
                                    - code
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      type: string
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              temperatureDistribution: BASSE_TEMPERATURE
                              surfaceChauffee: 100
                              performanceEnergetique: 130
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: NOTE_DIMENSIONNEMENT
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-104v41-3
                          required:
                            - fiche
                  BAR-TH-106v23-2: &ref_324
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-106v23-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-106v23-2
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                            allOf:
                              - if:
                                  properties:
                                    typeBatiment: *ref_228
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    surfaceHabitable:
                                      title: Surface habitable du logement (m²)
                                      type: number
                                      minimum: 0
                                  required:
                                    - surfaceHabitable
                                  allOf:
                                    - &ref_243
                                      type: object
                                      properties:
                                        puissanceNominale:
                                          title: >-
                                            Puissance thermique nominale unitaire
                                            (kW)
                                          type: number
                                          minimum: 0
                                          maximum: 70
                                        quantite:
                                          title: Nombre d'équipements installé
                                          type: integer
                                          minimum: 1
                                        performanceEnergetique:
                                          title: Efficacité énergétique saisonnière (%)
                                          type: number
                                          minimum: 90
                                        marque:
                                          title: Marque des équipements
                                          type: string
                                        reference:
                                          title: Référence des équipements
                                          type: string
                                        performanceEnergetiqueRegulateur:
                                          title: Classe du régulateur
                                          $id: >-
                                            https://schemas.ceeconnect.fr/enums/bar/classe_regulateur
                                          $schema: >-
                                            https://json-schema.org/draft/2020-12/schema
                                          $comment: >-
                                            Classe du régulateur telle que définie
                                            au paragraphe 6.1 de la communication de
                                            la Commission 2014/C 207/02 dans le
                                            cadre du règlement (UE) n°813/2013
                                          type: string
                                          oneOf: &ref_250
                                            - &ref_237
                                              const: IV
                                              title: Classe IV
                                            - &ref_238
                                              const: V
                                              title: Classe V
                                            - &ref_239
                                              const: VI
                                              title: Classe VI
                                            - &ref_240
                                              const: VII
                                              title: Classe VII
                                            - &ref_241
                                              const: VIII
                                              title: Classe VIII
                                          $defs: &ref_251
                                            IV: *ref_237
                                            V: *ref_238
                                            VI: *ref_239
                                            VII: *ref_240
                                            VIII: *ref_241
                                        marqueRegulateur:
                                          title: Marque du régulateur
                                          type: string
                                        referenceRegulateur:
                                          title: Référence du régulateur
                                          type: string
                                      required:
                                        - puissanceNominale
                                        - quantite
                                        - performanceEnergetique
                                        - marque
                                        - reference
                                        - performanceEnergetiqueRegulateur
                                        - marqueRegulateur
                                        - referenceRegulateur
                                    - properties:
                                        quantite:
                                          const: 1
                                      required:
                                        - quantite
                              - if:
                                  properties:
                                    typeBatiment: *ref_242
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    logements:
                                      title: Nombre d'appartements
                                      description: Nombre d'appartements équipés
                                      type: integer
                                      minimum: 0
                                    equipements:
                                      title: Liste des équipements installés
                                      description: >-
                                        Regrouper les équipements par
                                        caractéristiques et performances
                                        identiques
                                      type: array
                                      minItems: 1
                                      items: *ref_243
                                  required:
                                    - logements
                                    - equipements
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        $defs:
                          equipement: *ref_243
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              surfaceHabitable: 100
                              quantite: 1
                              puissanceNominale: 20
                              performanceEnergetique: 95
                              performanceEnergetiqueRegulateur: VII
                              marque: MARQUE
                              reference: REFERENCE
                              marqueRegulateur: MARQUE
                              referenceRegulateur: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-106v23-2
                          required:
                            - fiche
                  BAR-TH-110v16-1: &ref_323
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-110v16-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-110v16-1
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              critereChauffageCentral:
                                title: >-
                                  Logement(s) chauffé(s) par un système de
                                  chauffage central
                                type: boolean
                                const: true
                              quantite:
                                title: Nombre de radiateurs installé
                                type: integer
                                minimum: 1
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    typeBatiment: *ref_242
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    typeInstallation: &ref_260
                                      $id: >-
                                        https://schemas.ceeconnect.fr/enums/bar/type_installation
                                      $schema: >-
                                        https://json-schema.org/draft/2020-12/schema
                                      title: Type d'installation
                                      type: string
                                      oneOf: *ref_244
                                      $defs: *ref_245
                                  required:
                                    - typeInstallation
                            required:
                              - ancienneteBatiment
                              - typeBatiment
                              - critereChauffageCentral
                              - quantite
                              - marque
                              - reference
                        required:
                          - caracteristiques
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              critereChauffageCentral: true
                              ancienneteEquipement: EXISTANT
                              quantite: 10
                              marque: MARQUE
                              reference: REFERENCE
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-110v16-1
                          required:
                            - fiche
                  BAR-TH-111v17-1: &ref_322
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-111v17-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-111v17-1
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment:
                                title: Maison individuelle
                                const: MAISON
                              ancienneteBatiment: *ref_200
                              energieChauffage: *ref_214
                              ancienneteEquipement:
                                title: >-
                                  Système de chauffage sur boucle à eau chaude
                                  existant depuis plus de 2 ans
                                const: EXISTANT
                              surfaceHabitable:
                                title: Surface habitable
                                type: number
                                minimum: 0
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - energieChauffage
                              - ancienneteEquipement
                              - surfaceHabitable
                              - marque
                              - reference
                        required:
                          - caracteristiques
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              energieChauffage: ELECTRICITE
                              ancienneteEquipement: EXISTANT
                              surfaceHabitable: 100
                              marque: MARQUE
                              reference: REFERENCE
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-111v17-1
                          required:
                            - fiche
                  BAR-TH-112v46-3: &ref_321
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-112v46-3
                        $schema: https://json-schema.org/draft/2020-12/schema
                        $comment: Scénario Flamme verte uniquement couvert
                        title: BAR-TH-112v46-3
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment:
                                title: Maison individuelle
                                const: MAISON
                              ancienneteBatiment: *ref_200
                              typeCombustible:
                                title: Type de combustible
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_combustible_biomasse
                                $schema: https://json-schema.org/draft/2020-12/schema
                                type: string
                                oneOf:
                                  - &ref_246
                                    const: GRANULES
                                    title: Granulés
                                  - &ref_247
                                    const: AUTRES
                                    title: Autres combustibles
                                $defs:
                                  GRANULES: *ref_246
                                  AUTRES: *ref_247
                              performanceEnergetique:
                                title: Efficacité énergétique saisonnière (%)
                                type: number
                                minimum: 66
                              critereFlammeVerte:
                                title: >-
                                  La chaudière installée possède le label Flamme
                                  Verte 7*
                                type: boolean
                                const: true
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    typeCombustible: *ref_246
                                  required:
                                    - typeCombustible
                                then:
                                  properties:
                                    performanceEnergetique:
                                      type: number
                                      minimum: 80
                                  required:
                                    - performanceEnergetique
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - typeCombustible
                              - performanceEnergetique
                              - critereFlammeVerte
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              typeCombustible: GRANULES
                              performanceEnergetique: 90
                              critereFlammeVerte: true
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-112v46-3
                          required:
                            - fiche
                  BAR-TH-113v41-3: &ref_320
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-113v41-3
                        $schema: https://json-schema.org/draft/2020-12/schema
                        $comment: Scénario Flamme verte uniquement couvert
                        title: BAR-TH-113v41-3
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_228
                              ancienneteBatiment: *ref_200
                              typeEquipement:
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_chaudiere_biomasse
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Type de chaudière biomasse
                                type: string
                                oneOf:
                                  - &ref_248
                                    const: CHARGEMENT_AUTOMATIQUE
                                    title: Chaudière à chargement automatique
                                  - &ref_249
                                    const: CHARGEMENT_MANUEL
                                    title: Chaudière à chargement manuel
                                $defs:
                                  CHARGEMENT_AUTOMATIQUE: *ref_248
                                  CHARGEMENT_MANUEL: *ref_249
                              puissanceNominale:
                                title: Puissance nominale de la chaudière
                                type: number
                                minimum: 0
                              performanceEnergetique:
                                title: Efficacité énergétique saisonnière
                                type: number
                                minimum: 77
                              performanceEnergetiqueRegulateur:
                                title: Classe du régulateur
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/classe_regulateur
                                $schema: https://json-schema.org/draft/2020-12/schema
                                $comment: >-
                                  Classe du régulateur telle que définie au
                                  paragraphe 6.1 de la communication de la
                                  Commission 2014/C 207/02 dans le cadre du
                                  règlement (UE) n°813/2013
                                type: string
                                oneOf: *ref_250
                                $defs: *ref_251
                              critereTypeBiomasse:
                                title: >-
                                  Biomasse ligneuse à base de bûches de bois, de
                                  copeaux de bois, de bois comprimé sous forme
                                  de granulés, de bois comprimé sous forme de
                                  briquettes ou de sciure de bois
                                type: boolean
                                const: true
                              critereFlammeVerte:
                                title: >-
                                  La chaudière installée possède le label Flamme
                                  Verte 7*
                                type: boolean
                                const: true
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    puissanceNominale:
                                      type: number
                                      exclusiveMinimum: 20
                                  required:
                                    - puissanceNominale
                                then:
                                  properties:
                                    performanceEnergetique:
                                      type: number
                                      minimum: 79
                                  required:
                                    - performanceEnergetique
                              - if:
                                  properties:
                                    typeEquipement: *ref_248
                                  required:
                                    - typeEquipement
                                then:
                                  properties:
                                    criterePresenceSilo:
                                      title: Présence d'un silo d'au moins 225 litres
                                      type: boolean
                                      const: true
                                  required:
                                    - criterePresenceSilo
                              - if:
                                  properties:
                                    typeEquipement: *ref_249
                                  required:
                                    - typeEquipement
                                then:
                                  properties:
                                    criterePresenceBallon:
                                      title: Présence d'un ballon tampon
                                      type: boolean
                                      const: true
                                  required:
                                    - criterePresenceBallon
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - typeEquipement
                              - performanceEnergetique
                              - performanceEnergetiqueRegulateur
                              - puissanceNominale
                              - critereTypeBiomasse
                              - critereFlammeVerte
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                              - contains:
                                  title: Note de dimensionnement
                                  type: object
                                  properties:
                                    code:
                                      const: NOTE_DIMENSIONNEMENT
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              typeEquipement: CHARGEMENT_AUTOMATIQUE
                              puissanceNominale: 18
                              performanceEnergetique: 85
                              performanceEnergetiqueRegulateur: VII
                              critereTypeBiomasse: true
                              critereFlammeVerte: true
                              criterePresenceSilo: true
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: NOTE_DIMENSIONNEMENT
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-113v41-3
                          required:
                            - fiche
                  BAR-TH-116v17-1: &ref_319
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-116v17-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-116v17-1
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              surfaceChauffee:
                                title: >-
                                  Surface chauffée par le plancher chauffant
                                  (m²)
                                type: number
                                minimum: 0
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    typeBatiment: *ref_242
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    typeInstallationChauffage:
                                      title: Type de chauffage central
                                      $id: >-
                                        https://schemas.ceeconnect.fr/enums/bar/type_chauffage
                                      $schema: >-
                                        https://json-schema.org/draft/2020-12/schema
                                      type: string
                                      oneOf: &ref_254
                                        - &ref_252
                                          const: INDIVIDUEL
                                          title: Chauffage central individuel
                                        - &ref_253
                                          const: COLLECTIF
                                          title: Chauffage central collectif
                                      $defs: &ref_255
                                        INDIVIDUEL: *ref_252
                                        COLLECTIF: *ref_253
                                  required:
                                    - typeInstallationChauffage
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - surfaceChauffee
                              - marque
                              - reference
                        required:
                          - caracteristiques
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              surfaceChauffee: 100
                              marque: MARQUE
                              reference: REFERENCE
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-116v17-1
                          required:
                            - fiche
                  BAR-TH-117v14-1: &ref_318
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-117v14-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-117v14-1
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              ancienneteChaudiere:
                                title: >-
                                  Chaudière existante depuis plus de deux ans à
                                  la date d'engagement de l'opération
                                const: EXISTANT
                              ancienneteRadiateur:
                                title: >-
                                  Radiateur existant depuis plus de deux ans à
                                  la date d'engagement de l'opération
                                const: EXISTANT
                              quantite:
                                title: Nombre d'équipements installés
                                type: integer
                                minimum: 1
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - ancienneteChaudiere
                              - ancienneteRadiateur
                              - quantite
                              - marque
                              - reference
                            allOf:
                              - if:
                                  properties:
                                    typeBatiment: *ref_242
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    typeInstallationChauffage:
                                      title: Type de chauffage central
                                      $id: >-
                                        https://schemas.ceeconnect.fr/enums/bar/type_chauffage
                                      $schema: >-
                                        https://json-schema.org/draft/2020-12/schema
                                      type: string
                                      oneOf: *ref_254
                                      $defs: *ref_255
                                  required:
                                    - typeInstallationChauffage
                        required:
                          - caracteristiques
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              ancienneteChaudiere: EXISTANT
                              ancienneteRadiateur: EXISTANT
                              quantite: 10
                              marque: MARQUE
                              reference: REFERENCE
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-117v14-1
                          required:
                            - fiche
                  BAR-TH-124v35-3: &ref_317
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-124v35-3
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-124v35-3
                        type: object
                        properties:
                          adresse: *ref_211
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_228
                              ancienneteBatiment:
                                description: >-
                                  Les parties nouvelles de logements existants
                                  sont considérées comme des logements neufs
                                $id: https://schemas.ceeconnect.fr/enums/anciennete
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Ancienneté
                                type: string
                                oneOf:
                                  - &ref_256
                                    const: NEUF
                                    title: Moins de 2 ans
                                  - &ref_257
                                    const: EXISTANT
                                    title: Plus de 2 ans
                                $defs:
                                  NEUF: *ref_256
                                  EXISTANT: *ref_257
                                  batiment: *ref_213
                                  batimentExistant:
                                    const: EXISTANT
                                    title: Plus de 2 ans
                              typeVente:
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_vente
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Type de vente
                                type: string
                                oneOf:
                                  - &ref_258
                                    const: VENTE
                                    title: Vente
                                  - &ref_259
                                    const: ABONNEMENT
                                    title: Abonnement
                                $defs:
                                  VENTE: *ref_258
                                  ABONNEMENT: *ref_259
                              mentionsContrat:
                                title: >-
                                  Le contrat de vente par abonnement a d'une
                                  durée minimale de dix ans et il comporte une
                                  clause de maintien, par le professionnel, du
                                  bon état de fonctionnement du CESI pendant
                                  toute la durée du contrat d'abonnement
                                type: boolean
                                const: true
                              quantite:
                                title: Nombre d'appareils installé
                                type: integer
                                minimum: 1
                              surfaceCapteurs:
                                title: >-
                                  Superficie hors-tout totale de capteurs
                                  solaires posés
                                type: number
                                minimum: 0
                              performanceEnergetique:
                                title: >-
                                  Efficacité énergétique pour le chauffage de
                                  l'eau (%)
                                description: >-
                                  Indiquer l'efficacité énergétique conformément
                                  au règlement (UE) n° 814/2013
                                type: number
                                minimum: 36
                            allOf:
                              - if:
                                  properties:
                                    typeBatiment: *ref_242
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    surfaceCapteurs:
                                      type: number
                                      maximum: 40
                                  required:
                                    - surfaceCapteurs
                              - if:
                                  properties:
                                    typeVente: *ref_259
                                  required:
                                    - typeVente
                                then:
                                  properties:
                                    dureeContrat:
                                      title: >-
                                        Le contrat de vente par abonnement a
                                        d'une durée minimale de dix ans et il
                                        comporte une clause de maintien, par le
                                        professionnel, du bon état de
                                        fonctionnement du CESI pendant toute la
                                        durée du contrat d'abonnement
                                      type: boolean
                                      const: true
                                  required:
                                    - dureeContrat
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - typeVente
                              - mentionsContrat
                              - quantite
                              - surfaceCapteurs
                              - performanceEnergetique
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: >-
                                    Certification QB dont le domaine d'emploi de
                                    l'avis technique couvre explicitement les
                                    départements d'outremer
                                  type: object
                                  properties:
                                    code:
                                      const: CERTIFICATION
                                  required:
                                    - code
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayant assuré la réalisation de l'opération
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_210
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              typeVente: VENTE
                              mentionsContrat: true
                              quantite: 1
                              surfaceCapteurs: 15
                              performanceEnergetique: 80
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: CERTIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-124v35-3
                          required:
                            - fiche
                  BAR-TH-125v40-4: &ref_316
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-125v40-4
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-125v40-4
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              typeInstallation: *ref_260
                              surfaceHabitable:
                                title: Surface habitable (m²)
                                type: number
                                minimum: 0
                              marqueCaisson:
                                title: Marque du caisson
                                type: string
                              referenceCaisson:
                                title: Référence du caisson
                                type: string
                              marqueBouchesExtraction:
                                title: Marque des bouches d'extrations
                                type: string
                              referenceBouchesExtraction:
                                title: Référence des bouches d'extrations
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    typeInstallation:
                                      const: INDIVIDUEL
                                  required:
                                    - typeInstallation
                                then:
                                  properties:
                                    typeEquipement: &ref_292
                                      title: Type de VMC double flux
                                      type: string
                                      oneOf:
                                        - &ref_261
                                          const: AUTOREGLABLE
                                          title: VMC autoréglable
                                        - const: MODULE
                                          title: VMC modulée
                                    performanceEnergetique:
                                      title: >-
                                        Classe énergétique du système de
                                        ventilation
                                      description: >-
                                        Classe énergétique du système de
                                        ventilation selon le règlement européen
                                        (UE) n° 1254/2014
                                      type: string
                                      oneOf:
                                        - &ref_267
                                          const: A+
                                          title: A+
                                        - &ref_268
                                          const: A
                                          title: A
                                    performanceEnergetiqueEchangeur:
                                      title: Efficacité thermique de l'échangeur (%)
                                      type: number
                                      exclusiveMinimum: 85
                                  required:
                                    - typeEquipement
                                    - performanceEnergetique
                                    - performanceEnergetiqueEchangeur
                              - if:
                                  properties:
                                    typeInstallation:
                                      const: COLLECTIF
                                  required:
                                    - typeInstallation
                                then:
                                  properties:
                                    logements:
                                      title: Nombre d'appartements
                                      description: Nombre d'appartement d'un même bâtiment
                                      type: integer
                                      minimum: 1
                                    typeEquipement: *ref_261
                                    performanceEnergetiqueEchangeur:
                                      title: Efficacité de l'échangeur statique (%)
                                      type: number
                                      minimum: 75
                                  required:
                                    - logements
                                    - typeEquipement
                                    - performanceEnergetiqueEchangeur
                            required:
                              - ancienneteBatiment
                              - typeBatiment
                              - typeInstallation
                              - surfaceHabitable
                              - marqueCaisson
                              - referenceCaisson
                              - marqueBouchesExtraction
                              - referenceBouchesExtraction
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayant assuré la réalisation de l'opération
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              surfaceHabitable: 100
                              typeInstallation: INDIVIDUEL
                              typeEquipement: AUTOREGLABLE
                              performanceEnergetique: A+
                              performanceEnergetiqueEchangeur: 90
                              marqueCaisson: MARQUE
                              referenceCaisson: REFERENCE
                              marqueBouchesExtraction: MARQUE
                              referenceBouchesExtraction: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-125v40-4
                          required:
                            - fiche
                  BAR-TH-127v40-4: &ref_314
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-127v40-4
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-127v40-4
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: &ref_269
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_batiment
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Type de bâtiment
                                type: string
                                oneOf:
                                  - *ref_228
                                  - *ref_242
                                  - *ref_262
                                $defs:
                                  MAISON: *ref_228
                                  APPARTEMENT: *ref_242
                                  IMMEUBLE: *ref_262
                                  individuel: *ref_233
                                  collectif: &ref_276
                                    title: Type de bâtiment
                                    type: string
                                    oneOf:
                                      - *ref_262
                                      - *ref_242
                                  batiment: *ref_212
                              ancienneteBatiment: *ref_200
                              typeInstallation: *ref_260
                              typeEquipement: &ref_278
                                title: Type de VMC hygroreglable
                                type: string
                                oneOf:
                                  - const: TYPE_A
                                    title: VMC hygroréglable de type A
                                  - &ref_266
                                    const: TYPE_B
                                    title: VMC hygroréglable de type B
                              typeCaisson:
                                title: Type de caisson
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_caisson_vmc
                                $schema: https://json-schema.org/draft/2020-12/schema
                                description: >-
                                  Type de caisson pour ventilation mécanique
                                  centralisée
                                type: string
                                oneOf: &ref_289
                                  - &ref_263
                                    const: BASSE_CONSOMMATION
                                    title: Caisson basse consommation
                                  - &ref_264
                                    const: STANDARD
                                    title: Caisson standard
                                  - &ref_265
                                    const: BASSE_PRESSION
                                    title: Caisson basse pression
                                $defs: &ref_290
                                  BASSE_CONSOMMATION: *ref_263
                                  STANDARD: *ref_264
                                  BASSE_PRESSION: *ref_265
                              referenceAvisTechnique:
                                title: Référence de l'avis technique
                                type: string
                              dateAvisTechnique:
                                title: Date de validitéde l'avis technique
                                type: string
                                format: date
                              marqueCaison:
                                title: Marque du caisson
                                type: string
                              referenceCaison:
                                title: Référence du caisson
                                type: string
                              marqueBouchesExtraction:
                                title: Marque des bouches d'extrations
                                type: string
                              referenceBouchesExtraction:
                                title: Référence des bouches d'extrations
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    typeEquipement: *ref_266
                                  required:
                                    - typeEquipement
                                then:
                                  properties:
                                    marqueBouchesEntreeAir:
                                      title: Marque des bouches d'entrée d'air
                                      type: string
                                    referenceBouchesEntreeAir:
                                      title: Référence des bouches d'entrée d'air
                                      type: string
                                  required:
                                    - marqueBouchesEntreeAir
                                    - referenceBouchesEntreeAir
                              - if:
                                  properties:
                                    typeInstallation: *ref_229
                                  required:
                                    - typeInstallation
                                then:
                                  properties:
                                    puissanceElectrique:
                                      title: >-
                                        Puissance électrique absorbée pondérée
                                        (WThC)
                                      type: number
                                      maximum: 15
                                    typeCaisson: *ref_263
                                    performanceEnergetique: &ref_291
                                      title: Classes d'efficacité énergétique
                                      type: string
                                      oneOf:
                                        - *ref_267
                                        - *ref_268
                                        - const: B
                                          title: B
                                      examples:
                                        - A+++
                                  required:
                                    - typeCaisson
                                    - puissanceElectrique
                                    - performanceEnergetique
                              - if:
                                  properties:
                                    typeInstallation: *ref_230
                                  required:
                                    - typeInstallation
                                then:
                                  properties:
                                    logements:
                                      title: Nombre d'appartements
                                      description: Nombre d'appartement d'un même bâtiment
                                      type: integer
                                      minimum: 1
                                    puissanceElectrique:
                                      title: >-
                                        Puissance électrique absorbée pondérée
                                        (WThC/(m3/h))
                                      type: number
                                      maximum: 0.25
                                  required:
                                    - logements
                                    - puissanceElectrique
                              - if:
                                  properties:
                                    typeInstallation: *ref_230
                                    typeCaisson: *ref_263
                                  required:
                                    - typeInstallation
                                    - typeCaisson
                                then:
                                  properties:
                                    puissanceElectrique:
                                      type: number
                                      maximum: 0.1
                                  required:
                                    - puissanceElectrique
                              - if:
                                  properties:
                                    typeInstallation: *ref_230
                                    typeCaisson: *ref_265
                                  required:
                                    - typeInstallation
                                    - typeCaisson
                                then:
                                  properties:
                                    puissanceElectrique:
                                      type: number
                                      maximum: 0.12
                                  required:
                                    - puissanceElectrique
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - typeInstallation
                              - typeEquipement
                              - typeCaisson
                              - puissanceElectrique
                              - referenceAvisTechnique
                              - dateAvisTechnique
                              - marqueCaison
                              - referenceCaison
                              - marqueBouchesExtraction
                              - referenceBouchesExtraction
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: >-
                                    Avis technique du système de ventilation
                                    hybride hygroréglable
                                  type: object
                                  properties:
                                    code:
                                      const: AVIS_TECHNIQUE
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              typeInstallation: INDIVIDUEL
                              typeEquipement: TYPE_A
                              typeCaisson: BASSE_CONSOMMATION
                              puissanceElectrique: 10
                              performanceEnergetique: A+
                              referenceAvisTechnique: REFERENCE
                              dateAvisTechnique: '2020-01-01'
                              marqueCaison: MARQUE
                              referenceCaison: REFERENCE
                              marqueBouchesExtraction: MARQUE
                              referenceBouchesExtraction: REFERENCE
                            documents:
                              - code: AVIS_TECHNIQUE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-127v40-4
                          required:
                            - fiche
                  BAR-TH-129v27-3: &ref_312
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-129v27-3
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-129v27-3
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              surfaceChauffee:
                                title: >-
                                  Surface exclusivement chauffée par la PAC
                                  installée
                                type: number
                                minimum: 0
                              puissanceNominale:
                                title: Puissance nominale de l'équipement
                                type: number
                                maximum: 12
                              performanceEnergetique:
                                title: Coefficient de performance saisonnier (SCOP)
                                type: number
                                minimum: 3.9
                              marque:
                                title: Marque de l'équipement
                                type: string
                              reference:
                                title: Référence de l'équipement
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - surfaceChauffee
                              - puissanceNominale
                              - performanceEnergetique
                              - marque
                              - reference
                        required:
                          - caracteristiques
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              surfaceChauffee: 100
                              puissanceNominale: 9
                              performanceEnergetique: 4.2
                              marque: MARQUE
                              reference: REFERENCE
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-129v27-3
                          required:
                            - fiche
                  BAR-TH-130v26-1: &ref_311
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-130v26-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-130v26-1
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_269
                              ancienneteBatiment: *ref_213
                              extensionBatiment:
                                title: >-
                                  L'opération concerne une partie nouvelle d'un
                                  bâtiment existant
                                type: boolean
                              energieChauffage:
                                title: Energie de chauffage
                                type: string
                                oneOf:
                                  - *ref_270
                                  - *ref_232
                                  - &ref_271
                                    const: HYBRIDE
                                    title: Module hybride
                              energieEauChaudeSanitaire:
                                title: Energie de production d'eau chaude sanitaire
                                type: string
                                oneOf:
                                  - *ref_270
                                  - *ref_232
                                  - *ref_271
                              surfaceThermique:
                                title: Surface thermique (m²)
                                description: >-
                                  Indiquer la surface thermique du bâtiment au
                                  sens de la règlementation thermique SRT
                                type: number
                                minimum: 0
                              cepMax:
                                title: CEPmax (kWh/m².an)
                                description: >-
                                  Indiquer la consommation conventionnelle en
                                  énergie primaire maximale CEPmax issue de
                                  l'étude thermique
                                type: number
                              cepBat:
                                title: CEPbat (kWh/m².an)
                                description: >-
                                  Indiquer la consommation conventionnelle en
                                  énergie primaire du bâtiment CEPbat issue de
                                  l'étude thermique
                                type: number
                              cefMax:
                                title: CEFmax (kWh/m².an)
                                description: >-
                                  Indiquer la consommation conventionnelle en
                                  énergie finale maximale CEFmax issue de
                                  l'étude thermique
                                type: number
                              cefBat:
                                title: CEFbat (kWh/m².an)
                                description: >-
                                  Indiquer la consommation conventionnelle en
                                  énergie finale du bâtiment CEFbat issue de
                                  l'étude thermique
                                type: number
                              bbioMax:
                                title: Besoin bioclimatique maximale
                                description: >-
                                  Indiquer le besoin bioclimatique maximale issu
                                  de l'étude thermique
                                type: number
                              bbioBat:
                                title: Besoin bioclimatique du bâtiment
                                description: >-
                                  Indiquer le besoin bioclimatique du bâtiment
                                  issu de l'étude thermique
                                type: number
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - extensionBatiment
                              - energieChauffage
                              - energieEauChaudeSanitaire
                              - surfaceThermique
                              - cepMax
                              - cepBat
                              - cefMax
                              - cefBat
                              - bbioMax
                              - bbioBat
                            anyOf:
                              - properties:
                                  ancienneteBatiment: *ref_256
                                  extensionBatiment:
                                    type: boolean
                                    const: false
                                required:
                                  - ancienneteBatiment
                                  - extensionBatiment
                              - properties:
                                  ancienneteBatiment: *ref_200
                                  extensionBatiment:
                                    type: boolean
                                    const: true
                                required:
                                  - ancienneteBatiment
                                  - extensionBatiment
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Récépissé du dépôt de persmis de construire
                                  type: object
                                  properties:
                                    code:
                                      const: PERMIS_CONSTRUIRE
                                  required:
                                    - code
                              - contains:
                                  title: Synthèse de l'étude thermique réglementaire
                                  type: object
                                  properties:
                                    code:
                                      const: ETUDE_THERMIQUE
                                  required:
                                    - code
                              - contains:
                                  title: >-
                                    Attestation de la prise en compte de la
                                    réglementation thermique
                                  type: object
                                  properties:
                                    code:
                                      const: ATTESTATION_RE
                                  required:
                                    - code
                              - contains:
                                  title: >-
                                    Déclaration d'achèvement et de conformité
                                    des travaux
                                  type: object
                                  properties:
                                    code:
                                      const: DAACT
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              extensionBatiment: true
                              typeEquipement: CESCI
                              energieChauffage: ELECTRICITE
                              energieEauChaudeSanitaire: COMBUSTIBLES
                              surfaceThermique: 100
                              cepMax: 50
                              cepBat: 25
                              cefMax: 50
                              cefBat: 25
                              bbioMax: 50
                              bbioBat: 25
                            documents:
                              - code: PERMIS_CONSTRUIRE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: ETUDE_THERMIQUE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: ATTESTATION_RE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: DAACT
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-130v26-1
                          required:
                            - fiche
                  BAR-TH-135v35-2: &ref_309
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-135v35-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-135v35-2
                        type: object
                        properties:
                          adresse: *ref_211
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_262
                              ancienneteBatiment: *ref_213
                              extensionBatiment:
                                title: >-
                                  L'opération concerne une partie nouvelle d'un
                                  bâtiment existant
                                type: boolean
                              typeEquipement:
                                title: Type de chauffe-eau solaire
                                type: string
                                oneOf:
                                  - const: CESC
                                    title: Chauffe-eau solaire à appoint centralisé
                                  - const: CESCI
                                    title: >-
                                      Chauffe-eau solaire à appoint
                                      individualisé
                              surfaceCapteurs:
                                title: >-
                                  Surface hors-tout totale de capteurs solaires
                                  (m²)
                                type: number
                                minimum: 0
                              besoinEauChaudeSanitaire:
                                title: Besoin annuel en eau chaude sanitaire (kWh/an)
                                description: Donnée issue de l'étude de dimensionnement
                                type: number
                                minimum: 0
                              tauxCouvertureSolaire:
                                title: Taux de couverture par l'énergie solaire (%)
                                description: Donnée issue de l'étude de dimensionnement
                                type: number
                              performanceEnergetique:
                                title: >-
                                  Efficacité énergétique pour le chauffage de
                                  l'eau (%)
                                type: number
                                minimum: 36
                              marque:
                                title: Marque de la pompe
                                type: string
                              reference:
                                title: Référence de la pompe
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - extensionBatiment
                              - typeEquipement
                              - surfaceCapteurs
                              - besoinEauChaudeSanitaire
                              - tauxCouvertureSolaire
                              - performanceEnergetique
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Etude de dimensionnement
                                  type: object
                                  properties:
                                    code:
                                      const: NOTE_DIMENSIONNEMENT
                                  required:
                                    - code
                              - contains:
                                  title: Avis de certification QB
                                  type: object
                                  properties:
                                    code:
                                      const: CERTIFICATION
                                  required:
                                    - code
                        allOf:
                          - if:
                              properties:
                                caracteristiques:
                                  type: object
                                  properties:
                                    surfaceCapteurs:
                                      type: number
                                      exclusiveMinimum: 25
                                  required:
                                    - surfaceCapteurs
                              required:
                                - caracteristiques
                            then:
                              properties:
                                document:
                                  title: Preuve de qualification
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                              required:
                                - documents
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_210
                            caracteristiques:
                              typeBatiment: IMMEUBLE
                              ancienneteBatiment: EXISTANT
                              extensionBatiment: false
                              typeEquipement: CESCI
                              surfaceCapteurs: 35
                              besoinEauChaudeSanitaire: 100000
                              tauxCouvertureSolaire: 80
                              performanceEnergetique: 50
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: CERTIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: NOTE_DIMENSIONNEMENT
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-135v35-2
                          required:
                            - fiche
                  BAR-TH-137v45-3: &ref_308
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-137v45-3
                        $schema: https://json-schema.org/draft/2020-12/schema
                        $comment: 'TODO: Intégrer le document spécifique'
                        title: BAR-TH-137v45-3
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_212
                              ancienneteBatiment: *ref_200
                              identifiantReseau:
                                title: Nom du réseau
                                type: string
                                maxLength: 240
                              raccordementAnterieur:
                                title: >-
                                  Le bâtiment n'a jamais été raccordé à un
                                  réseau de chaleur dans le délai de cinq ans
                                  précédant la date de l'engagement de
                                  l'opération
                                type: boolean
                              demandeAnterieure:
                                title: >-
                                  Dans le cas où le bâtiment a été raccordé
                                  précédemment, le ou les raccordements
                                  précédents ont fait l'objet d'une demande de
                                  certificats d'économies d'énergie
                                type: boolean
                                const: false
                            anyOf:
                              - properties:
                                  raccordementAnterieur:
                                    const: false
                                required:
                                  - raccordementAnterieur
                              - properties:
                                  raccordementAnterieur:
                                    const: true
                                  demandeAnterieure:
                                    const: false
                                required:
                                  - raccordementAnterieur
                                  - demandeAnterieure
                            allOf:
                              - if:
                                  properties:
                                    typeBatiment: *ref_228
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    surfaceHabitable:
                                      title: Surface habitable
                                      type: number
                                      minimum: 0
                                  required:
                                    - surfaceHabitable
                              - if:
                                  properties:
                                    typeBatiment: *ref_262
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    logements:
                                      title: Nombre d'appartements
                                      description: Nombre d'appartement d'un même bâtiment
                                      type: integer
                                      minimum: 1
                                  required:
                                    - logements
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - identifiantReseau
                              - raccordementAnterieur
                          gestionnaire:
                            title: Professionnel gestionnaire du réseau
                            type: object
                            properties:
                              nom:
                                title: Nom de famille du réprésentant
                                type: string
                              prenom:
                                title: Prénom du représentant
                                type: string
                              fonction:
                                title: Fonction du représentant
                                type: string
                              raisonSociale:
                                title: Raison sociale
                                type: string
                              siret:
                                $id: https://schemas.ceeconnect.fr/formats/siret
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Numéro de SIRET
                                type: string
                                pattern: ^[0-9]{14,14}$
                                examples:
                                  - '90232479700015'
                              adresse:
                                title: Adresse
                                type: object
                                properties:
                                  banId: *ref_205
                                  numero: *ref_206
                                  voie: *ref_207
                                  complement: *ref_208
                                  commune: *ref_209
                                  codePostal:
                                    title: Code postal
                                    type: string
                                    pattern: >-
                                      ^([02][1-9]|[12345678][0-9]|9[012345]|97[12346])[0-9]{3}$
                                  codeCommune:
                                    title: Code INSEE
                                    type: string
                                    pattern: >-
                                      ^([02][1-9]|2[AB]|[1345678][0-9]|9[012345]|97[12346])[0-9]{3}$
                                required:
                                  - voie
                                  - commune
                                  - codePostal
                                  - codeCommune
                              email:
                                $id: https://schemas.ceeconnect.fr/formats/email
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Adress email
                                type: string
                                format: email
                                examples:
                                  - john.doe@gmail.com
                              telephone: &ref_272
                                $id: >-
                                  https://schemas.ceeconnect.fr/formats/telephone
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Téléphone
                                type: string
                                examples:
                                  - '0836656565'
                                  - '+33836656565'
                              mobile: *ref_272
                            required:
                              - nom
                              - prenom
                              - fonction
                              - raisonSociale
                              - siret
                              - adresse
                              - email
                              - telephone
                              - mobile
                        required:
                          - caracteristiques
                          - gestionnaire
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              raccordementAnterieur: false
                              identifiantReseau: RESEAU
                              surfaceHabitable: 100
                            gestionnaire:
                              nom: NOM
                              prenom: PRENOM
                              fonction: FONCTION
                              raisonSociale: RAISON SOCIALE
                              siret: '00000000000000'
                              adresse: *ref_201
                              email: contact@email.com
                              telephone: '0400000000'
                              mobile: '0600000000'
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-137v45-3
                          required:
                            - fiche
                  BAR-TH-139v23-2: &ref_307
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-139v23-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        $comment: >-
                          TODO: Définir la nature neuve d'une pompe en fonction
                          de sa date d'achat
                        title: BAR-TH-139v23-2
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_262
                              ancienneteBatiment: *ref_200
                              typeInstallation:
                                const: COLLECTIF
                                title: Installation collective
                              equipements:
                                title: >-
                                  Liste des pompes de caractéristiques
                                  strictement identiques
                                description: >-
                                  Indiquer les caractéristiques des pompes
                                  nouvellement équipées d'un système de
                                  variation électronique de vitesse
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    moteurClasseIE2:
                                      title: >-
                                        La pompe est équipée équipée d'un moteur
                                        de classe IE2
                                      type: boolean
                                    dateAchat:
                                      title: Date d'achat
                                      type: string
                                      format: date
                                      formatMinimum: '2015-01-01'
                                    puissanceNominale:
                                      title: >-
                                        Puissance nominale du moteur de la pompe
                                        (kW)
                                      type: number
                                      minimum: 630
                                    quantite:
                                      title: Nombre de pompes
                                      type: integer
                                      minimum: 1
                                    marque:
                                      title: Marque de la pompe
                                      type: string
                                    reference:
                                      title: Référence de la pompe
                                      type: string
                                    marqueVariateur:
                                      title: Marque du variateur
                                      description: >-
                                        Indiquer la marque du variateur de
                                        vitesse ou de l'équipement intégrant le
                                        variateur
                                      type: string
                                    referenceVariateur:
                                      title: Référence du variateur
                                      description: >-
                                        Indiquer la référence du variateur de
                                        vitesse ou de l'équipement intégrant le
                                        variateur
                                      type: string
                                  anyOf:
                                    - properties:
                                        moteurClasseIE2:
                                          type: boolean
                                          const: false
                                      required:
                                        - moteurClasseIE2
                                    - properties:
                                        moteurClasseIE2:
                                          type: boolean
                                          const: true
                                        dateAchat:
                                          type: string
                                          format: date
                                          formatMinimum: '2015-01-01'
                                          formatMaximum: '2016-12-31'
                                        puissanceNominale:
                                          type: number
                                          minimum: 7.5
                                          maximum: 375
                                      required:
                                        - moteurClasseIE2
                                        - dateAchat
                                        - puissanceNominale
                                    - properties:
                                        moteurClasseIE2:
                                          type: boolean
                                          const: true
                                        dateAchat:
                                          type: string
                                          format: date
                                          formatMinimum: '2017-01-01'
                                        puissanceNominale:
                                          type: number
                                          minimum: 0.75
                                          maximum: 375
                                      required:
                                        - moteurClasseIE2
                                        - dateAchat
                                        - puissanceNominale
                                  required:
                                    - moteurClasseIE2
                                    - dateAchat
                                    - puissanceNominale
                                    - quantite
                                    - marque
                                    - reference
                                    - marqueVariateur
                                    - referenceVariateur
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - typeInstallationChauffage
                              - equipements
                        required:
                          - caracteristiques
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-139v23-2
                          required:
                            - fiche
                  BAR-TH-141v15-1: &ref_306
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-141v15-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-141v15-1
                        type: object
                        properties:
                          adresse: *ref_211
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              typeEquipement:
                                title: L'appareil installé est un climatiseur fixe
                                const: CLIMATISEUR_FIXE
                              remplacement:
                                title: >-
                                  Le matériel existant a été déposé
                                  préalablement à l'installation du nouveau
                                  climatiseur
                                type: boolean
                                const: true
                              puissanceFrigorifique:
                                title: Puissance frigorifique (BTU/h)
                                type: number
                                oneOf:
                                  - const: 7000
                                  - const: 9000
                              performanceEnergetique:
                                title: Classe d'efficacité énergétique
                                type: string
                                oneOf:
                                  - &ref_286
                                    const: A+++
                                    title: A+++
                                  - &ref_287
                                    const: A++
                                    title: A++
                                  - *ref_267
                                  - *ref_268
                                examples:
                                  - A+++
                              quantite:
                                title: Nombre d'équipements installés
                                description: >-
                                  Indiquer le nombre de climatiseurs de
                                  caractéristiques et de classe d'efficacité
                                  énergétique identiques installés
                                type: integer
                                minimum: 1
                              marque:
                                title: Marque de l'équipement
                                type: string
                              reference:
                                title: Référence de l'équipement
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - typeEquipement
                              - remplacement
                              - puissanceFrigorifique
                              - performanceEnergetique
                              - quantite
                              - marque
                              - reference
                        required:
                          - adresse
                          - caracteristiques
                        examples:
                          - adresse: *ref_210
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              typeEquipement: CLIMATISEUR_FIXE
                              remplacement: true
                              puissanceFrigorifique: 7000
                              performanceEnergetique: A
                              quantite: 4
                              marque: MARQUE
                              reference: REFERENCE
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-141v15-1
                          required:
                            - fiche
                  BAR-TH-143v51-5: &ref_305
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-143v51-5
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-143v51-5
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment:
                                title: Maison individuelle
                                const: MAISON
                              ancienneteBatiment: *ref_200
                              temperatureDistribution:
                                const: BASSE_TEMPERATURE
                                title: Distribution à basse température
                              productiviteCapteurs:
                                title: Productivité des capteurs (W/m²)
                                type: number
                                minimum: 600
                              surfaceCapteurs:
                                title: Surface hors tout de capteurs (m²)
                                type: number
                                minimum: 8
                              capteursHybrides:
                                title: >-
                                  Les capteurs solaires produisent à la fois
                                  électricité et chaleur (capteurs hybrides)
                                type: boolean
                                const: false
                              volumeStockage:
                                title: >-
                                  Volume de stockage du ou des ballons d'eau
                                  chaude solaires (l)
                                type: number
                                minimum: 0
                              marque:
                                title: Marque de l'équipement
                                type: string
                              reference:
                                title: Référence de l'équipement
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - temperatureDistribution
                              - productiviteCapteurs
                              - surfaceCapteurs
                              - capteursHybrides
                              - volumeStockage
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Certification CSTBat ou Solar Keymark
                                  type: object
                                  properties:
                                    code:
                                      type: string
                                      const: CERTIFICATION
                                  required:
                                    - code
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayan réalisé l'opération
                                  type: object
                                  properties:
                                    code:
                                      type: string
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              surfaceCapteurs: 10
                              productiviteCapteurs: 800
                              capteursHybrides: false
                              temperatureDistribution: BASSE_TEMPERATURE
                              volumeStockage: 100
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: CERTIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-143v51-5
                          required:
                            - fiche
                  BAR-TH-145v52-4: &ref_304
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-145v52-4
                        $schema: https://json-schema.org/draft/2020-12/schema
                        $comment: >-
                          TODO: Vérifier la possibilité d'intégrer l'attestation
                          de réalisation ANAG comme document justificatif
                          spécifique
                        title: BAR-TH-145v52-4
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment:
                                title: Immeuble collectif
                                const: IMMEUBLE
                              ancienneteBatiment: *ref_200
                              surfaceHabitable:
                                title: Surface habitable (m²)
                                description: >-
                                  Indiquer la surface habitable totale de
                                  l'immeuble
                                type: number
                                minimum: 0
                              copropriete:
                                title: >-
                                  L'immeuble relève du régime de la copropriété
                                  défini par la loi n° 65-557 du 10 juillet 1965
                                type: boolean
                              referenceAudit:
                                title: Référence de l'étude énergétique
                                type: string
                              dateAudit:
                                title: Date de l'étude énergétique
                                type: string
                                format: date
                              cepInitial:
                                title: Cep initial (kWh/m².an)
                                description: >-
                                  Consommation conventionnelle en énergie
                                  primaire avant les travaux de rénovation
                                type: number
                                exclusiveMaximum: 331
                              cepProjet:
                                title: Cep initial (kWh/m².an)
                                description: >-
                                  Consommation conventionnelle en énergie
                                  primaire après les travaux de rénovation
                                type: number
                                minimum: 0
                              cefInitial:
                                title: Cef initial (kWh/m².an)
                                description: >-
                                  Consommation conventionnelle en énergie finale
                                  avant les travaux de rénovation
                                type: number
                                minimum: 0
                              cefProjet:
                                title: Cef projet (kWh/m².an)
                                description: >-
                                  Consommation conventionnelle en énergie finale
                                  après les travaux de rénovation
                                type: number
                                minimum: 0
                              gainEnergetique:
                                title: Gain énergétique du projet (%)
                                description: >-
                                  Gain énergétique du projet par rapport à la
                                  consommation conventionnelle en énergie
                                  primaire avant travaux
                                type: number
                                minimum: 35
                              emissionsGaz:
                                title: >-
                                  Les émissions de gaz à effet de serre après
                                  rénovation, exprimées en kgeqCO2/m².an, sont
                                  inférieures ou égales à la valeur initiale de
                                  ces émissions avant travaux
                                type: boolean
                                const: true
                              logicielAudit:
                                title: >-
                                  Logiciel utilisé pour réaliser l'audit
                                  énergétique
                                type: object
                                properties:
                                  nom:
                                    title: Nom du logiciel
                                    type: string
                                    pattern: ^([A-Z0-9]|[-]|[']|[ ])+$
                                  editeur:
                                    title: Nom de l'éditeur
                                    type: string
                                    pattern: ^([A-Z0-9]|[-]|[']|[ ])+$
                                  date:
                                    title: Date de création du logiciel
                                    type: string
                                    format: date
                                  version:
                                    title: Numéro de version du logiciel
                                    type: string
                                required:
                                  - nom
                                  - editeur
                                  - date
                                  - version
                              auditeur:
                                title: Professionnel ayant assuré l'audit énergétique
                                type: object
                                properties:
                                  raisonSociale:
                                    title: Raison sociale
                                    type: string
                                  siren: &ref_281
                                    $id: >-
                                      https://schemas.ceeconnect.fr/formats/siren
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    title: Numéro de SIREN
                                    type: string
                                    pattern: ^[0-9]{9,9}$
                                    examples:
                                      - '000000000'
                                required:
                                  - raisonSociale
                                  - siren
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - referenceAudit
                              - dateAudit
                              - cepInitial
                              - cepProjet
                              - cefInitial
                              - cefProjet
                              - gainEnergetique
                              - emissionsGaz
                              - logicielAudit
                              - auditeur
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Rapport de synthèse de l'audit énergétique
                                  type: object
                                  properties:
                                    code:
                                      const: AUDIT_ENERGETIQUE
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: IMMEUBLE
                              ancienneteBatiment: EXISTANT
                              dateAudit: '2023-02-07'
                              referenceAudit: REFERENCE
                              cepInitial: 200
                              cepProjet: 130
                              cefInitial: 200
                              cefProjet: 130
                              gainEnergetique: 70
                              emissionsGaz: true
                              auditeur:
                                raisonSociale: RAISON SOCIALE
                                siren: '000000000'
                              logicielAudit:
                                nom: NOM
                                editeur: EDITEUR
                                date: '2022-02-06'
                                version: '2.3'
                            documents:
                              - code: AUDIT_ENERGETIQUE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-145v52-4
                          required:
                            - fiche
                  BAR-TH-148v15-2: &ref_303
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-148v15-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-148v15-2
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              typeEquipement:
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_chauffe_eau_thermodynamique
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Type de chauffe-eau thermodynamique
                                type: string
                                oneOf:
                                  - &ref_273
                                    const: AIR_EXTRAIT
                                    title: >-
                                      Chauffe-eau thermodynamique sur air
                                      extrait
                                  - &ref_274
                                    const: AUTRES
                                    title: Autres
                                $defs:
                                  AIR_EXTRAIT: *ref_273
                                  AUTRES: *ref_274
                              performanceEnergetique:
                                title: Coefficient de performance (COP)
                                type: number
                                exclusiveMinimum: 2.4
                              marque:
                                title: Marque
                                type: string
                              reference:
                                title: Référence
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    typeEquipement: *ref_273
                                  required:
                                    - typeEquipement
                                then:
                                  properties:
                                    performanceEnergetique:
                                      type: number
                                      exclusiveMinimum: 2.5
                                  required:
                                    - performanceEnergetique
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - typeEquipement
                              - performanceEnergetique
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayan réalisé l'opération
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              typeEquipement: AIR_EXTRAIT
                              performanceEnergetique: 2.6
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-148v15-2
                          required:
                            - fiche
                  BAR-TH-150v14-1: &ref_302
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-150v14-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-150v14-1
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_262
                              ancienneteBatiment: *ref_200
                              logements:
                                title: Nombre d'appartements chauffés
                                type: integer
                                minimum: 1
                              usage:
                                title: Type d'usage
                                type: string
                                oneOf:
                                  - const: CHAUFFAGE
                                    title: Chauffage
                                  - const: CHAUFFAGE_ECS
                                    title: Chauffage et eau chaude sanitaire
                              temperatureDistribution: *ref_275
                              puissanceNominale:
                                title: Puissance nominale (kW)
                                type: number
                                minimum: 0
                              puissanceEligible:
                                title: >-
                                  Puissance totale des pompes à chaleur
                                  éligibles
                                description: >-
                                  Renseigner la puissance totale de l'enseble
                                  des équipements nouvellement installés
                                type: number
                                minimum: 0
                              puissanceChaufferie:
                                title: >-
                                  Puissance totale de la chaufferie après
                                  travaux
                                type: number
                                minimum: 0
                              marque:
                                title: Marque
                                type: string
                              reference:
                                title: Référence
                                type: string
                            anyOf:
                              - properties:
                                  puissanceNominale:
                                    type: number
                                    exclusiveMinimum: 400
                                  performanceEnergetique:
                                    title: Coefficient de performance (COP)
                                    type: number
                                    minimum: 1.3
                                required:
                                  - puissanceNominale
                                  - performanceEnergetique
                              - properties:
                                  temperatureDistribution:
                                    oneOf:
                                      - *ref_235
                                      - *ref_236
                                  puissanceNominale:
                                    type: number
                                    maximum: 400
                                  performanceEnergetique:
                                    title: Efficacité énergétique saisonnière (%)
                                    type: number
                                    minimum: 111
                                required:
                                  - temperatureDistribution
                                  - puissanceNominale
                                  - performanceEnergetique
                              - properties:
                                  temperatureDistribution:
                                    oneOf:
                                      - *ref_234
                                  puissanceNominale:
                                    type: number
                                    maximum: 400
                                  performanceEnergetique:
                                    title: Efficacité énergétique saisonnière (%)
                                    type: number
                                    minimum: 126
                                required:
                                  - temperatureDistribution
                                  - puissanceNominale
                                  - performanceEnergetique
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - logements
                              - usage
                              - temperatureDistribution
                              - puissanceNominale
                              - puissanceEligible
                              - puissanceChaufferie
                              - marque
                              - reference
                        required:
                          - caracteristiques
                        examples:
                          - caracteristiques:
                              ancienneteBatiment: EXISTANT
                              typeBatiment: IMMEUBLE
                              logements: 50
                              usage: CHAUFFAGE_ECS
                              temperatureDistribution: BASSE_TEMPERATURE
                              puissanceNominale: 300
                              puissanceEligible: 300
                              puissanceChaufferie: 300
                              performanceEnergetique: 140
                              marque: MARQUE
                              reference: REFERENCE
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-150v14-1
                          required:
                            - fiche
                  BAR-TH-155v40-4: &ref_301
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-155v40-4
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-155v40-4
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_276
                              ancienneteBatiment: *ref_200
                              ventilationExistante:
                                title: Système de ventilation existant
                                type: string
                                oneOf:
                                  - *ref_277
                                  - const: SANS
                                    title: Absence de système de ventilation
                              logements:
                                title: Nombre d'appartements
                                type: integer
                                minimum: 1
                              typeEquipement: *ref_278
                              typeExtracteur:
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_extracteur_vmc
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Type d'extracteur
                                type: string
                                oneOf:
                                  - &ref_279
                                    const: STANDARD
                                    title: Extracteur standard
                                  - &ref_280
                                    const: BASSE_CONSOMMATION
                                    title: Extracteur basse consommation
                                $defs:
                                  STANDARD: *ref_279
                                  BASSE_CONSOMMATION: *ref_280
                              puissanceExtracteur:
                                title: Puissance spécifique de l'extracteur (Wh/m3)
                                type: number
                                maximum: 0.25
                              marqueExtracteur:
                                title: Marque de l'extracteur
                                type: string
                              referenceExtracteur:
                                title: Référence de l'extracteur
                                type: string
                              marqueBouchesEntreeAir:
                                title: Marque des bouches d'entrée d'air
                                type: string
                              referenceBouchesEntreeAir:
                                title: Référence des bouches d'entrée d'air
                                type: string
                              marqueBouchesExtraction:
                                title: Marque des bouches d'extraction
                                type: string
                              referenceBouchesExtraction:
                                title: Référence des bouches d'extraction
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - ventilationExistante
                              - logements
                              - typeEquipement
                              - typeExtracteur
                              - puissanceExtracteur
                              - marqueExtracteur
                              - referenceExtracteur
                              - marqueBouchesEntreeAir
                              - referenceBouchesEntreeAir
                              - marqueBouchesExtraction
                              - referenceBouchesExtraction
                            allOf:
                              - if:
                                  properties:
                                    typeExtracteur: *ref_280
                                  required:
                                    - typeExtracteur
                                then:
                                  properties:
                                    puissanceExtracteur:
                                      type: number
                                      maximum: 0.1
                                  required:
                                    - puissanceExtracteur
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: >-
                                    Avis technique du système de ventilation
                                    hybride hygroréglable
                                  type: object
                                  properties:
                                    code:
                                      type: string
                                      const: AVIS_TECHNIQUE
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: IMMEUBLE
                              ancienneteBatiment: EXISTANT
                              ventilationExistante: SANS
                              logements: 50
                              typeEquipement: TYPE_A
                              typeExtracteur: BASSE_CONSOMMATION
                              puissanceExtracteur: 0.05
                              marqueExtracteur: MARQUE
                              referenceExtracteur: REFERENCE
                              marqueBouchesEntreeAir: MARQUE
                              referenceBouchesEntreeAir: REFERENCE
                              marqueBouchesExtraction: MARQUE
                              referenceBouchesExtraction: REFERENCE
                            documents:
                              - code: AVIS_TECHNIQUE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-155v40-4
                          required:
                            - fiche
                  BAR-TH-158v35-2: &ref_300
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-158v35-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-158v35-2
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              equipements:
                                title: Liste des émetteurs électriques installés
                                description: >-
                                  Indiquer autant de lignes que d'équipements
                                  aux caractéristiques identiques
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    numeroCertification:
                                      title: >-
                                        Numéro de certification NF Electricité
                                        performance catégorie 3* oeil
                                      type: string
                                    fonctionRegulation:
                                      title: >-
                                        Régulation ayant une amplitude
                                        inférieure à 0,3K et une dérive
                                        inférieure à 1 K
                                      type: boolean
                                      const: true
                                    fonctionDetectionOuvertureFenetre:
                                      title: >-
                                        Détection automatique et intégrée à
                                        l'appareil de l'ouverture d'une fenêtre
                                        par passage en mode « arrêt chauffage »
                                        ou « horsgel »
                                      type: boolean
                                      const: true
                                    fonctionDetectionAbsence:
                                      title: >-
                                        Détection automatique d'absence,
                                        intégrée à l'appareil, par réduction
                                        d'allure et passage progressif jusqu'au
                                        mode « Eco »
                                      type: boolean
                                      const: true
                                    fonctionIndicationSurconsommation:
                                      title: >-
                                        Indication de surconsommation par
                                        information visuelle du consommateur
                                        ayant a minima 3 niveaux de consommation
                                        basés sur la température de consigne et
                                        représentés par des couleurs
                                      type: boolean
                                      const: true
                                    quantite:
                                      title: Nombre d'émetteurs
                                      type: integer
                                      minimum: 1
                                    puissanceElectrique:
                                      title: Puissance électrique (W)
                                      type: number
                                      minimum: 0
                                    marque:
                                      title: Marque
                                      type: string
                                    reference:
                                      title: Référence
                                      type: string
                                  required:
                                    - quantite
                                    - puissanceElectrique
                                    - marque
                                    - reference
                                  anyOf:
                                    - required:
                                        - numeroCertification
                                    - allOf:
                                        - properties:
                                            fonctionRegulation:
                                              type: boolean
                                              const: true
                                            fonctionDetectionOuvertureFenetre:
                                              type: boolean
                                              const: true
                                            fonctionDetectionAbsence:
                                              type: boolean
                                              const: true
                                            fonctionIndicationSurconsommation:
                                              type: boolean
                                              const: true
                                          required:
                                            - fonctionRegulation
                                            - fonctionDetectionOuvertureFenetre
                                            - fonctionDetectionAbsence
                                            - fonctionIndicationSurconsommation
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - equipements
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayan réalisé l'opération
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              ancienneteBatiment: EXISTANT
                              typeBatiment: MAISON
                              equipements:
                                - numeroCertification: XXXXXXX
                                  quantite: 10
                                  puissanceElectrique: 1500
                                  marque: MARQUE
                                  reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-158v35-2
                          required:
                            - fiche
                  BAR-TH-159v50-4: &ref_299
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-159v50-4
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-159v50-4
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              surfaceChauffee:
                                title: >-
                                  Surface chauffée par la pompe à chaleur
                                  installée (m²)
                                type: number
                                minimum: 0
                              performanceEnergetique:
                                title: Efficacité énergétique saisonnière (%)
                                type: number
                                minimum: 111
                              tauxCouverture:
                                title: Taux de couverture de la pompe à chaleur (%)
                                description: >-
                                  Hors dispositif d'appoint indiqué dans la note
                                  de dimensionnement
                                type: number
                                minimum: 70
                              dispositifAppoint:
                                title: >-
                                  La pompe à chaleur est de type air/eau
                                  comportant un dispositif d'appoint utilisant
                                  un combustible liquide ou gazeux
                                type: boolean
                                const: true
                              usage:
                                title: >-
                                  La pompe à chaleur est utilisée uniquement
                                  pour la production d'eau chaude sanitaire
                                const: ECS
                              temperatureDistribution:
                                title: Température de fonctionnement
                                type: string
                                oneOf:
                                  - *ref_235
                                  - *ref_236
                              marque:
                                title: Marque de l'équipement
                                type: string
                              reference:
                                title: Référence de l'équipement
                                type: string
                              regulateur:
                                title: Caractéristiques du régulateur
                                type: object
                                properties:
                                  classe:
                                    title: Classe
                                    $id: >-
                                      https://schemas.ceeconnect.fr/enums/bar/classe_regulateur
                                    $schema: >-
                                      https://json-schema.org/draft/2020-12/schema
                                    $comment: >-
                                      Classe du régulateur telle que définie au
                                      paragraphe 6.1 de la communication de la
                                      Commission 2014/C 207/02 dans le cadre du
                                      règlement (UE) n°813/2013
                                    type: string
                                    oneOf: *ref_250
                                    $defs: *ref_251
                                  marque:
                                    title: Marque
                                    type: string
                                  reference:
                                    title: Référence
                                    type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - surfaceChauffee
                              - performanceEnergetique
                              - tauxCouverture
                              - dispositifAppoint
                              - usage
                              - temperatureDistribution
                              - marque
                              - reference
                              - regulateur
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Note de dimensionnement
                                  type: object
                                  properties:
                                    code:
                                      const: NOTE_DIMENSIONNEMENT
                                  required:
                                    - code
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayan réalisé l'opération
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              surfaceChauffee: 100
                              performanceEnergetique: 127
                              tauxCouverture: 80
                              dispositifAppoint: true
                              usage: ECS
                              temperatureDistribution: HAUTE_TEMPERATURE
                              marque: MARQUE
                              reference: REFERENCE
                              regulateur:
                                classe: V
                                marque: MARQUE
                                reference: REFERENCE
                            documents:
                              - code: NOTE_DIMENSIONNEMENT
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-159v50-4
                          required:
                            - fiche
                  BAR-TH-162v28-1: &ref_298
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-162v28-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-162v28-1
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment:
                                title: Maison individuelle
                                const: MAISON
                              ancienneteBatiment: *ref_200
                              surfaceCapteurs:
                                title: >-
                                  surface totale de capteurs hybrides mis en
                                  place
                                type: number
                                minimum: 6
                              productiviteCapteurs:
                                title: Productivité des capteurs (W/m2)
                                description: >-
                                  Productivité des capteurs est calculée avec un
                                  rayonnement de 1 000 W/m²
                                type: number
                                minimum: 500
                              capteursHybrides:
                                title: >-
                                  Les capteurs solaires sont exclusivement des
                                  capteurs hybrides produisant à la fois
                                  électricité et chaleur
                                type: boolean
                                const: true
                              marque:
                                title: Marque de l'équipement
                                type: string
                              reference:
                                title: Référence de l'équipement
                                type: string
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - productiviteCapteurs
                              - surfaceCapteurs
                              - capteursHybrides
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Certification CSTBat ou Solar Keymark
                                  type: object
                                  properties:
                                    code:
                                      const: CERTIFICATION
                                  required:
                                    - code
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayan réalisé l'opération
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              productiviteCapteurs: 600
                              surfaceCapteurs: 10
                              capteursHybrides: true
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: CERTIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-162v28-1
                          required:
                            - fiche
                  BAR-TH-164v36-2: &ref_297
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-164v36-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        $comment: >-
                          TODO: Vérifier la possibilité d'intégrer l'attestation
                          de réalisation ANAG comme document justificatif
                          spécifique
                        title: BAR-TH-164v36-2
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment:
                                title: Maison individuelle
                                const: MAISON
                              ancienneteBatiment: *ref_200
                              surfaceHabitable:
                                title: Surface habitable (m²)
                                type: number
                                minimum: 0
                              referenceAudit:
                                title: Référence de l'étude énergétique
                                type: string
                              dateAudit:
                                title: Date de l'étude énergétique
                                type: string
                                format: date
                              cepInitial:
                                title: Cep initial (kWh/m².an)
                                description: >-
                                  Consommation conventionnelle en énergie
                                  primaire avant les travaux de rénovation
                                type: number
                                exclusiveMaximum: 331
                              cepProjet:
                                title: Cep initial (kWh/m².an)
                                description: >-
                                  Consommation conventionnelle en énergie
                                  primaire après les travaux de rénovation
                                type: number
                                minimum: 0
                              cefInitial:
                                title: Cef initial (kWh/m².an)
                                description: >-
                                  Consommation conventionnelle en énergie finale
                                  avant les travaux de rénovation
                                type: number
                                minimum: 0
                              cefProjet:
                                title: Cef projet (kWh/m².an)
                                description: >-
                                  Consommation conventionnelle en énergie finale
                                  après les travaux de rénovation
                                type: number
                                minimum: 0
                              gainEnergetique:
                                title: Gain énergétique du projet (%)
                                description: >-
                                  Gain énergétique du projet par rapport à la
                                  consommation conventionnelle en énergie
                                  primaire avant travaux
                                type: number
                                minimum: 35
                              emissionsGaz:
                                title: >-
                                  Les émissions de gaz à effet de serre après
                                  rénovation, exprimées en kgeqCO2/m².an, sont
                                  inférieures ou égales à la valeur initiale de
                                  ces émissions avant travaux
                                type: boolean
                                const: true
                              logicielAudit:
                                title: >-
                                  Logiciel utilisé pour réaliser l'audit
                                  énergétique
                                type: object
                                properties:
                                  nom:
                                    title: Nom du logiciel
                                    type: string
                                    pattern: ^([A-Z0-9]|[-]|[']|[ ])+$
                                  editeur:
                                    title: Nom de l'éditeur
                                    type: string
                                    pattern: ^([A-Z0-9]|[-]|[']|[ ])+$
                                  date:
                                    title: Date de création du logiciel
                                    type: string
                                    format: date
                                  version:
                                    title: Numéro de version du logiciel
                                    type: string
                                required:
                                  - nom
                                  - editeur
                                  - date
                                  - version
                              auditeur:
                                title: Professionnel ayant assuré l'audit énergétique
                                type: object
                                properties:
                                  raisonSociale:
                                    title: Raison sociale
                                    type: string
                                  siren: *ref_281
                                required:
                                  - raisonSociale
                                  - siren
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - surfaceHabitable
                              - referenceAudit
                              - dateAudit
                              - cepInitial
                              - cepProjet
                              - cefInitial
                              - cefProjet
                              - gainEnergetique
                              - emissionsGaz
                              - auditeur
                              - logicielAudit
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Rapport de synthèse de l'audit énergétique
                                  type: object
                                  properties:
                                    code:
                                      const: AUDIT_ENERGETIQUE
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              surfaceHabitable: 100
                              dateAudit: '2023-02-07'
                              referenceAudit: REFERENCE
                              cepInitial: 200
                              cepProjet: 130
                              cefInitial: 200
                              cefProjet: 130
                              gainEnergetique: 70
                              emissionsGaz: true
                              auditeur:
                                raisonSociale: RAISON SOCIALE
                                siren: '000000000'
                              logicielAudit:
                                nom: NOM
                                editeur: EDITEUR
                                date: '2022-02-06'
                                version: '2.3'
                            documents:
                              - code: AUDIT_ENERGETIQUE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-164v36-2
                          required:
                            - fiche
                  BAR-TH-167v38-1: &ref_296
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-167v38-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-167v38-1
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment:
                                title: Type de logement
                                type: string
                                oneOf: *ref_282
                              ancienneteBatiment: *ref_200
                              combustibleGazeux:
                                title: >-
                                  Le chauffe-bain est individuel et utilise un
                                  combustible gazeux
                                type: boolean
                                const: true
                              remplacement:
                                title: >-
                                  L'appareil installé vient en remplacement d'un
                                  chauffe-bain au gaz mural à combustion
                                  atmosphérique
                                type: boolean
                                const: true
                            allOf:
                              - if:
                                  properties:
                                    typeBatiment: *ref_228
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    surfaceHabitable:
                                      title: Surface habitable (m²)
                                      type: number
                                      minimum: 0
                                  required:
                                    - surfaceHabitable
                                  allOf:
                                    - &ref_288
                                      type: object
                                      properties:
                                        typeEquipement:
                                          title: Type de chauffe-bain
                                          $id: >-
                                            https://schemas.ceeconnect.fr/enums/bar/type_chauffe_bain
                                          $schema: >-
                                            https://json-schema.org/draft/2020-12/schema
                                          type: string
                                          oneOf:
                                            - &ref_283
                                              const: FLUX_FORCE_HAUT_RENDEMENT
                                              title: >-
                                                Chauffe bain à flux forcé à haut
                                                rendement
                                            - &ref_284
                                              const: COMBUSTION_HAUT_RENDEMENT
                                              title: >-
                                                Chauffe bain à combustion atmosphérique
                                                à haut rendement
                                            - &ref_285
                                              const: CONDENSATION
                                              title: Chauffe bain à condensation
                                          $defs:
                                            FLUX_FORCE_HAUT_RENDEMENT: *ref_283
                                            COMBUSTION_HAUT_RENDEMENT: *ref_284
                                            CONDENSATION: *ref_285
                                            maison:
                                              title: Type de chauffe bain
                                              type: string
                                              oneOf:
                                                - const: FLUX_FORCE_HAUT_RENDEMENT
                                                  title: >-
                                                    Chauffe bain à flux forcé à haut
                                                    rendement
                                                - const: CONDENSATION
                                                  title: Chauffe bain à condensation
                                            appartement:
                                              title: Type de chauffe bain
                                              type: string
                                              oneOf:
                                                - const: FLUX_FORCE_HAUT_RENDEMENT
                                                  title: >-
                                                    Chauffe bain à flux forcé à haut
                                                    rendement
                                                - const: COMBUSTION_HAUT_RENDEMENT
                                                  title: >-
                                                    Chauffe bain à combustion atmosphérique
                                                    à haut rendement
                                                - const: CONDENSATION
                                                  title: Chauffe bain à condensation
                                        rendement:
                                          title: Rendement PCI nominal (%)
                                          type: number
                                          minimum: 0
                                        performanceEquipement:
                                          title: Classes d'efficacité énergétique
                                          type: string
                                          oneOf:
                                            - *ref_286
                                            - *ref_287
                                            - *ref_267
                                            - *ref_268
                                          examples:
                                            - A+++
                                        marque:
                                          title: Marque de l'équipement
                                          type: string
                                        reference:
                                          title: Référence de l'équipement
                                          type: string
                                      required:
                                        - typeEquipement
                                        - rendement
                                        - performanceEquipement
                                        - marque
                                        - reference
                                      allOf:
                                        - if:
                                            properties:
                                              typeChauffeBain:
                                                oneOf:
                                                  - *ref_283
                                                  - *ref_284
                                            required:
                                              - typeChauffeBain
                                          then:
                                            properties:
                                              rendement:
                                                type: number
                                                minimum: 85
                                            required:
                                              - rendement
                                        - if:
                                            properties:
                                              typeChauffeBain: *ref_285
                                            required:
                                              - typeChauffeBain
                                          then:
                                            properties:
                                              rendement:
                                                type: number
                                                minimum: 100
                                            required:
                                              - rendement
                              - if:
                                  properties:
                                    typeBatiment: *ref_242
                                  required:
                                    - typeBatiment
                                then:
                                  properties:
                                    equipements:
                                      title: Liste des chauffes-bains installés
                                      description: >-
                                        Indiquer autant d'équipements que de
                                        chauffe bain aux caractéristiques
                                        strictement identiques
                                      type: array
                                      minItems: 1
                                      items:
                                        type: object
                                        allOf:
                                          - *ref_288
                                          - properties:
                                              quantite:
                                                title: Nombre de chauffe-bain
                                                type: integer
                                            required:
                                              - quantite
                                  required:
                                    - equipements
                            required:
                              - ancienneteBatiment
                              - typeBatiment
                              - combustibleGazeux
                              - remplacement
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayan réalisé l'opération
                                  type: object
                                  properties:
                                    code:
                                      type: string
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        $defs:
                          equipement: *ref_288
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              typeEquipement: COMBUSTION_HAUT_RENDEMENT
                              rendement: 90
                              performanceEquipement: A++
                              combustibleGazeux: true
                              remplacement: true
                              surfaceHabitable: 100
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-167v38-1
                          required:
                            - fiche
                  BAR-TH-168v40-1: &ref_295
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-168v40-1
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-168v40-1
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_228
                              ancienneteBatiment: *ref_200
                              surfaceCapteurs:
                                title: >-
                                  Surface hors-tout totale de capteurs solaires
                                  (m²)
                                type: number
                                minimum: 0
                              productiviteCapteurs:
                                title: Productivité des capteurs (W/m²)
                                type: number
                                minimum: 600
                              capteursHybrides:
                                title: >-
                                  Les capteurs solaires produisent à la fois
                                  électricité et chaleur (capteurs hybrides)
                                type: boolean
                                const: false
                              marque:
                                title: Marque de l'équipement
                                type: string
                              reference:
                                title: Référence de l'équipement
                                type: string
                            required:
                              - ancienneteBatiment
                              - typeBatiment
                              - productiviteCapteurs
                              - surfaceCapteurs
                              - capteursHybrides
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Certification CSTBat ou Solar Keymark
                                  type: object
                                  properties:
                                    code:
                                      type: string
                                      const: CERTIFICATION
                                  required:
                                    - code
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayan réalisé l'opération
                                  type: object
                                  properties:
                                    code:
                                      type: string
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              surfaceCapteurs: 10
                              productiviteCapteurs: 800
                              capteursHybrides: false
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: CERTIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-168v40-1
                          required:
                            - fiche
                  BBAR-TH-130v54-2: &ref_310
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-130v54-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BBAR-TH-130v54-2
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_269
                              ancienneteBatiment: *ref_213
                              extensionBatiment:
                                title: >-
                                  L'opération concerne une partie nouvelle d'un
                                  bâtiment existant
                                type: boolean
                              energieChauffage:
                                title: Energie de chauffage
                                type: string
                                oneOf:
                                  - *ref_270
                                  - *ref_232
                                  - *ref_271
                              energieEauChaudeSanitaire:
                                title: Energie de production d'eau chaude sanitaire
                                type: string
                                oneOf:
                                  - *ref_270
                                  - *ref_232
                                  - *ref_271
                              surfaceThermique:
                                title: Surface thermique (m²)
                                description: >-
                                  Indiquer la surface thermique du bâtiment au
                                  sens de la règlementation thermique SRT
                                type: number
                                minimum: 0
                              cepMax:
                                title: CEPmax (kWh/m².an)
                                description: >-
                                  Indiquer la consommation conventionnelle en
                                  énergie primaire maximale CEPmax issue de
                                  l'étude thermique
                                type: number
                              cepBat:
                                title: CEPbat (kWh/m².an)
                                description: >-
                                  Indiquer la consommation conventionnelle en
                                  énergie primaire du bâtiment CEPbat issue de
                                  l'étude thermique
                                type: number
                              cefMax:
                                title: CEFmax (kWh/m².an)
                                description: >-
                                  Indiquer la consommation conventionnelle en
                                  énergie finale maximale CEFmax issue de
                                  l'étude thermique
                                type: number
                              cefBat:
                                title: CEFbat (kWh/m².an)
                                description: >-
                                  Indiquer la consommation conventionnelle en
                                  énergie finale du bâtiment CEFbat issue de
                                  l'étude thermique
                                type: number
                              bbioMax:
                                title: Besoin bioclimatique maximale
                                description: >-
                                  Indiquer le besoin bioclimatique maximale issu
                                  de l'étude thermique
                                type: number
                              bbioBat:
                                title: Besoin bioclimatique du bâtiment
                                description: >-
                                  Indiquer le besoin bioclimatique du bâtiment
                                  issu de l'étude thermique
                                type: number
                              icMax:
                                title: >-
                                  Impact maximal sur le changement climatique
                                  des consommations d'énergie (kg éq CO2/m2)
                                description: Indiquer la valeur issue de l'étude thermique
                                type: number
                              icBat:
                                title: >-
                                  Impact sur le changement climatique des
                                  consommations d'énergie du bâtiment (kg éq
                                  CO2/m2)
                                description: Indiquer la valeur issue de l'étude thermique
                                type: number
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - extensionBatiment
                              - energieChauffage
                              - energieEauChaudeSanitaire
                              - surfaceThermique
                              - cepMax
                              - cepBat
                              - cefMax
                              - cefBat
                              - bbioMax
                              - bbioBat
                              - icMax
                              - icBat
                            anyOf:
                              - properties:
                                  ancienneteBatiment: *ref_256
                                  extensionBatiment:
                                    type: boolean
                                    const: false
                                required:
                                  - ancienneteBatiment
                                  - extensionBatiment
                              - properties:
                                  ancienneteBatiment: *ref_200
                                  extensionBatiment:
                                    type: boolean
                                    const: true
                                required:
                                  - ancienneteBatiment
                                  - extensionBatiment
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Récépissé du dépôt de persmis de construire
                                  type: object
                                  properties:
                                    code:
                                      const: PERMIS_CONSTRUIRE
                                  required:
                                    - code
                              - contains:
                                  title: Synthèse de l'étude thermique réglementaire
                                  type: object
                                  properties:
                                    code:
                                      const: ETUDE_THERMIQUE
                                  required:
                                    - code
                              - contains:
                                  title: >-
                                    Attestation de la prise en compte de la
                                    réglementation thermique
                                  type: object
                                  properties:
                                    code:
                                      const: ATTESTATION_RE
                                  required:
                                    - code
                              - contains:
                                  title: >-
                                    Déclaration d'achèvement et de conformité
                                    des travaux
                                  type: object
                                  properties:
                                    code:
                                      const: DAACT
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              extensionBatiment: true
                              typeEquipement: CESCI
                              energieChauffage: ELECTRICITE
                              energieEauChaudeSanitaire: COMBUSTIBLES
                              surfaceThermique: 100
                              cepMax: 50
                              cepBat: 25
                              cefMax: 50
                              cefBat: 25
                              bbioMax: 50
                              bbioBat: 25
                              icMax: 50
                              icBat: 50
                            documents:
                              - code: PERMIS_CONSTRUIRE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: ETUDE_THERMIQUE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: ATTESTATION_RE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                              - code: DAACT
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BBAR-TH-130v54-2
                          required:
                            - fiche
                  BAR-TH-127v54-5: &ref_313
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-127v54-5
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-127v54-5
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_269
                              ancienneteBatiment: *ref_200
                              typeInstallation: *ref_260
                              typeEquipement: *ref_278
                              typeCaisson:
                                title: Type de caisson
                                $id: >-
                                  https://schemas.ceeconnect.fr/enums/bar/type_caisson_vmc
                                $schema: https://json-schema.org/draft/2020-12/schema
                                description: >-
                                  Type de caisson pour ventilation mécanique
                                  centralisée
                                type: string
                                oneOf: *ref_289
                                $defs: *ref_290
                              referenceAvisTechnique:
                                title: Référence de l'avis technique
                                type: string
                              dateAvisTechnique:
                                title: Date de validitéde l'avis technique
                                type: string
                                format: date
                              marqueCaison:
                                title: Marque du caisson
                                type: string
                              referenceCaison:
                                title: Référence du caisson
                                type: string
                              marqueBouchesExtraction:
                                title: Marque des bouches d'extrations
                                type: string
                              referenceBouchesExtraction:
                                title: Référence des bouches d'extrations
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    typeEquipement: *ref_266
                                  required:
                                    - typeEquipement
                                then:
                                  properties:
                                    marqueBouchesEntreeAir:
                                      title: Marque des bouches d'entrée d'air
                                      type: string
                                    referenceBouchesEntreeAir:
                                      title: Référence des bouches d'entrée d'air
                                      type: string
                                  required:
                                    - marqueBouchesEntreeAir
                                    - referenceBouchesEntreeAir
                              - if:
                                  properties:
                                    typeInstallation: *ref_229
                                  required:
                                    - typeInstallation
                                then:
                                  properties:
                                    surfaceHabitable:
                                      title: Surface habitable (m²)
                                      type: number
                                      minimum: 0
                                    puissanceElectrique:
                                      title: >-
                                        Puissance électrique absorbée pondérée
                                        (WThC)
                                      type: number
                                      maximum: 15
                                    typeCaisson: *ref_263
                                    performanceEnergetique: *ref_291
                                  required:
                                    - surfaceHabitable
                                    - typeCaisson
                                    - puissanceElectrique
                                    - performanceEnergetique
                              - if:
                                  properties:
                                    typeInstallation: *ref_230
                                  required:
                                    - typeInstallation
                                then:
                                  properties:
                                    logements:
                                      title: Nombre de logements desservis
                                      description: Nombre d'appartement d'un même bâtiment
                                      type: integer
                                      minimum: 1
                                    puissanceElectrique:
                                      title: >-
                                        Puissance électrique absorbée pondérée
                                        (WThC/(m3/h))
                                      type: number
                                      maximum: 0.25
                                  required:
                                    - logements
                                    - puissanceElectrique
                              - if:
                                  properties:
                                    typeInstallation: *ref_230
                                    typeCaisson: *ref_263
                                  required:
                                    - typeInstallation
                                    - typeCaisson
                                then:
                                  properties:
                                    puissanceElectrique:
                                      type: number
                                      maximum: 0.1
                                  required:
                                    - puissanceElectrique
                              - if:
                                  properties:
                                    typeInstallation: *ref_230
                                    typeCaisson: *ref_265
                                  required:
                                    - typeInstallation
                                    - typeCaisson
                                then:
                                  properties:
                                    puissanceElectrique:
                                      type: number
                                      maximum: 0.12
                                  required:
                                    - puissanceElectrique
                            required:
                              - typeBatiment
                              - ancienneteBatiment
                              - typeInstallation
                              - typeEquipement
                              - typeCaisson
                              - puissanceElectrique
                              - referenceAvisTechnique
                              - dateAvisTechnique
                              - marqueCaison
                              - referenceCaison
                              - marqueBouchesExtraction
                              - referenceBouchesExtraction
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: >-
                                    Avis technique du système de ventilation
                                    hybride hygroréglable
                                  type: object
                                  properties:
                                    code:
                                      const: AVIS_TECHNIQUE
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              typeInstallation: INDIVIDUEL
                              typeEquipement: TYPE_A
                              typeCaisson: BASSE_CONSOMMATION
                              surfaceHabitable: 100
                              puissanceElectrique: 10
                              performanceEnergetique: A+
                              referenceAvisTechnique: REFERENCE
                              dateAvisTechnique: '2020-01-01'
                              marqueCaison: MARQUE
                              referenceCaison: REFERENCE
                              marqueBouchesExtraction: MARQUE
                              referenceBouchesExtraction: REFERENCE
                            documents:
                              - code: AVIS_TECHNIQUE
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-127v54-5
                          required:
                            - fiche
                  BAR-TH-125v54-5: &ref_315
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-TH-125v54-5
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-TH-125v54-5
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              typeBatiment: *ref_233
                              ancienneteBatiment: *ref_200
                              typeInstallation: *ref_260
                              marqueCaisson:
                                title: Marque du caisson
                                type: string
                              referenceCaisson:
                                title: Référence du caisson
                                type: string
                              marqueBouchesExtraction:
                                title: Marque des bouches d'extrations
                                type: string
                              referenceBouchesExtraction:
                                title: Référence des bouches d'extrations
                                type: string
                            allOf:
                              - if:
                                  properties:
                                    typeInstallation:
                                      const: INDIVIDUEL
                                  required:
                                    - typeInstallation
                                then:
                                  properties:
                                    surfaceHabitable:
                                      title: Surface habitable (m²)
                                      type: number
                                      minimum: 0
                                    typeEquipement: *ref_292
                                    performanceEnergetique:
                                      title: >-
                                        Classe énergétique du système de
                                        ventilation
                                      description: >-
                                        Classe énergétique du système de
                                        ventilation selon le règlement européen
                                        (UE) n° 1254/2014
                                      type: string
                                      oneOf:
                                        - *ref_267
                                        - *ref_268
                                    performanceEnergetiqueCentrale:
                                      title: >-
                                        Rapport de température de la centrale
                                        double flux (efficacité thermique) (%)
                                      type: number
                                      exclusiveMinimum: 85
                                    puissanceElectrique:
                                      title: >-
                                        Puissance électrique absorbée pondérée
                                        (WThC)
                                      description: >-
                                        Puissance électrique pour une
                                        configuration T4 avec une salle de bain
                                        et un WC
                                      type: number
                                      maximum: 47.6
                                  required:
                                    - surfaceHabitable
                                    - typeEquipement
                                    - performanceEnergetique
                                    - performanceEnergetiqueEchangeur
                                    - puissanceElectrique
                              - if:
                                  properties:
                                    typeInstallation:
                                      const: COLLECTIF
                                  required:
                                    - typeInstallation
                                then:
                                  properties:
                                    logements:
                                      title: Nombre de logements desservis
                                      description: Nombre d'appartement d'un même bâtiment
                                      type: integer
                                      minimum: 1
                                    typeEquipement: *ref_261
                                    performanceEnergetiqueEchangeur:
                                      title: >-
                                        Rendement en température (efficacité
                                        thermique) de l'échangeur de chaleur (%)
                                      type: number
                                      minimum: 75
                                  required:
                                    - logements
                                    - typeEquipement
                                    - performanceEnergetiqueEchangeur
                              - if:
                                  properties:
                                    typeEquipement:
                                      const: >-
                                        https://schemas.ceeconnect.fr/enums/bar/type_vmc#/$defs/MODULE
                                  required:
                                    - typeEquipement
                                then:
                                  properties:
                                    referenceAvisTechnique:
                                      title: Référence de l'avis technique
                                      type: string
                                    dateAvisTechnique:
                                      title: Date de l'avis technique
                                      type: string
                                      format: date
                                  required:
                                    - referenceAvisTechnique
                                    - dateAvisTechnique
                            required:
                              - ancienneteBatiment
                              - typeBatiment
                              - typeInstallation
                              - surfaceHabitable
                              - marqueCaisson
                              - referenceCaisson
                              - marqueBouchesExtraction
                              - referenceBouchesExtraction
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: >-
                                    Preuve de qualification du professionnel
                                    ayant assuré la réalisation de l'opération
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              typeBatiment: MAISON
                              ancienneteBatiment: EXISTANT
                              surfaceHabitable: 100
                              puissanceElectrique: 30
                              typeInstallation: INDIVIDUEL
                              typeEquipement: AUTOREGLABLE
                              performanceEnergetique: A+
                              performanceEnergetiqueEchangeur: 90
                              marqueCaisson: MARQUE
                              referenceCaisson: REFERENCE
                              marqueBouchesExtraction: MARQUE
                              referenceBouchesExtraction: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-TH-125v54-5
                          required:
                            - fiche
                  BAR-EN-108v54-3: &ref_332
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-108v54-3
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-108v54-3
                        type: object
                        properties:
                          adresse: *ref_211
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              ancienneteEquipement:
                                const: EXISTANT
                                title: Plus de 2 ans
                              quantite:
                                title: Nombre de fermetures isolantes posées
                                type: integer
                                minimum: 0
                              surface:
                                title: >-
                                  Surface totale de fermeture isolante posée
                                  (m²)
                                type: number
                                minimum: 0
                              resistanceThermique:
                                title: Résistance thermique additionnelle (m².K/W)
                                type: number
                                minimum: 0.22
                              marque:
                                title: Marque des équipements installés
                                type: string
                              reference:
                                title: Référence des équipements installés
                                type: string
                            required:
                              - ancienneteBatiment
                              - ancienneteEquipement
                              - quantite
                              - surface
                              - resistanceThermique
                              - marque
                              - reference
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                        examples:
                          - adresse: *ref_210
                            caracteristiques:
                              ancienneteBatiment: EXISTANT
                              ancienneteEquipement: EXISTANT
                              quantite: 10
                              surface: 15
                              resistanceThermique: 0.4
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-108v54-3
                          required:
                            - fiche
                  BAR-EN-104v54-2: &ref_337
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-104v54-2
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-104v54-2
                        type: object
                        properties:
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              quantite:
                                title: >-
                                  Nombre de fenêtres ou portes fenêtres
                                  complètes avec vitrage isolant posées
                                type: integer
                                minimum: 1
                              surface:
                                title: >-
                                  Surface totale de fenêtres, doubles fenêtres,
                                  fenêtres de toiture ou portes-fenêtres posée
                                type: number
                                minimum: 0
                              typeFenetre: *ref_293
                              coefficientSurfacique:
                                title: >-
                                  Coefficient de transmission surfacique Uw
                                  (W/m².K)
                                type: number
                                maximum: 1.7
                              facteurSolaire:
                                title: Facteur solaire
                                type: number
                              marque:
                                title: Marque des équipements
                                type: string
                              reference:
                                title: Référence des équipements
                                type: string
                            required:
                              - ancienneteBatiment
                              - quantite
                              - surface
                              - typeFenetre
                              - coefficientSurfacique
                              - facteurSolaire
                              - marque
                              - reference
                            anyOf:
                              - properties:
                                  typeFenetre: *ref_202
                                  coefficientSurfacique:
                                    type: number
                                    maximum: 1.5
                                  facteurSolaire:
                                    type: number
                                    maximum: 0.36
                                required:
                                  - typeFenetre
                                  - coefficientSurfacique
                                  - facteurSolaire
                              - properties:
                                  typeFenetre:
                                    oneOf:
                                      - *ref_203
                                      - *ref_204
                                  coefficientSurfacique:
                                    type: number
                                    maximum: 1.3
                                  facteurSolaire:
                                    type: number
                                    maximum: 0.3
                                required:
                                  - typeFenetre
                                  - coefficientSurfacique
                                  - facteurSolaire
                              - properties:
                                  typeFenetre:
                                    oneOf:
                                      - *ref_203
                                      - *ref_204
                                  coefficientSurfacique:
                                    type: number
                                    maximum: 1.7
                                  facteurSolaire:
                                    type: number
                                    maximum: 0.36
                                required:
                                  - typeFenetre
                                  - coefficientSurfacique
                                  - facteurSolaire
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - caracteristiques
                          - documents
                        examples:
                          - caracteristiques:
                              ancienneteBatiment: EXISTANT
                              quantite: 10
                              surface: 15
                              typeFenetre: AUTRES
                              coefficientSurfacique: 1.2
                              facteurSolaire: 0.2
                              marque: MARQUE
                              reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-104v54-2
                          required:
                            - fiche
                  BAR-EN-101v54-5: &ref_341
                    allOf:
                      - $id: >-
                          https://schemas.ceeconnect.fr/bundles/operation/bar/BAR-EN-101v54-5
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: BAR-EN-101v54-5
                        type: object
                        properties:
                          adresse: *ref_199
                          caracteristiques:
                            type: object
                            properties:
                              ancienneteBatiment: *ref_200
                              quantite:
                                title: Surface d'isolant posé (m²)
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la surface résultant de la
                                  superposition des isolants
                                type: number
                                minimum: 0
                              typePose: *ref_294
                              resistanceThermique:
                                title: Résistance thermmique de l'isolant
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer la résistance thermique
                                  globale
                                type: number
                                minimum: 6
                              epaisseur:
                                title: Epaisseur de l'isolant (mm)
                                type: number
                                minimum: 0
                              posePareVapeur:
                                title: Mise en place d'un pare-vapeur
                                description: >-
                                  L'isolation thermique réalisée a nécessité la
                                  mise en place d'un pare-vapeur ou tout autre
                                  dispositif permettant d'atteindre un résultat
                                  équivalent
                                type: boolean
                              references:
                                title: Marques et références
                                description: >-
                                  Dans le cas d'une pose superposée de plusieurs
                                  isolants, indiquer les marques et références
                                  de chacun des isolants posés
                                type: array
                                minItems: 1
                                items:
                                  type: object
                                  properties:
                                    marque:
                                      title: Marque de l'isolant
                                      type: string
                                    reference:
                                      title: Référence de l'isolant
                                      type: string
                                  required:
                                    - marque
                                    - reference
                            required:
                              - ancienneteBatiment
                              - quantite
                              - typePose
                              - resistanceThermique
                              - epaisseur
                              - posePareVapeur
                              - references
                            allOf:
                              - if:
                                  properties:
                                    typePose: *ref_197
                                  required:
                                    - typePose
                                then:
                                  properties:
                                    resistanceThermique:
                                      type: number
                                      minimum: 7
                          documents:
                            type: array
                            allOf:
                              - contains:
                                  title: Preuve de qualification du professionnel
                                  type: object
                                  properties:
                                    code:
                                      const: PREUVE_QUALIFICATION
                                  required:
                                    - code
                        required:
                          - adresse
                          - caracteristiques
                          - documents
                        examples:
                          - adresse: *ref_201
                            caracteristiques:
                              ancienneteBatiment: EXISTANT
                              typePose: COMBLES_PERDUS
                              quantite: 100
                              resistanceThermique: 8
                              epaisseur: 400
                              posePareVapeur: true
                              references:
                                - marque: MARQUE
                                  reference: REFERENCE
                                - marque: MARQUE
                                  reference: REFERENCE
                            documents:
                              - code: PREUVE_QUALIFICATION
                                url: >-
                                  https://api.ceeconnect.fr/archivage/archives/{uuid}
                      - type: object
                        properties:
                          fiche:
                            const: BAR-EN-101v54-5
                          required:
                            - fiche
                anyOf:
                  - *ref_295
                  - *ref_296
                  - *ref_297
                  - *ref_298
                  - *ref_299
                  - *ref_300
                  - *ref_301
                  - *ref_302
                  - *ref_303
                  - *ref_304
                  - *ref_305
                  - *ref_306
                  - *ref_307
                  - *ref_308
                  - *ref_309
                  - *ref_310
                  - *ref_311
                  - *ref_312
                  - *ref_313
                  - *ref_314
                  - *ref_315
                  - *ref_316
                  - *ref_317
                  - *ref_318
                  - *ref_319
                  - *ref_320
                  - *ref_321
                  - *ref_322
                  - *ref_323
                  - *ref_324
                  - *ref_325
                  - *ref_326
                  - *ref_327
                  - *ref_328
                  - *ref_329
                  - *ref_330
                  - *ref_331
                  - *ref_332
                  - *ref_333
                  - *ref_334
                  - *ref_335
                  - *ref_336
                  - *ref_337
                  - *ref_338
                  - *ref_339
                  - *ref_340
                  - *ref_341
                  - *ref_342
        '400': *ref_2
  /operations:
    get:
      summary: Recherche d'opérations d'économies d'énergie d'un dépôt
      operationId: getOperationsBy
      tags:
        - Opération
      parameters:
        - &ref_350
          name: depotUuid
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Liste des opérations d'économies d'énergie correspondantes
          headers:
            X-Pagination-TotalItems: *ref_343
            X-Pagination-Page-Last: *ref_344
            X-Pagination-Page-Current: *ref_345
            X-Pagination-Page-Next: *ref_346
          content:
            application/json:
              schema:
                type: array
                items: *ref_347
  /operations/{uuid}:
    get:
      summary: Recherche une opération d'économies d'énergie par UUID
      operationId: getOperationsById
      tags:
        - Opération
      parameters:
        - &ref_348
          name: uuid
          in: path
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Liste des opérations correspondantes
          content:
            application/json:
              schema: *ref_347
    delete:
      summary: Supprime une opération d'économies d'énergie du dépôt
      operationId: removeOperation
      tags:
        - Opération
      parameters:
        - *ref_348
      responses:
        '204':
          description: Opération suprimée
        '404': *ref_349
components:
  parameters:
    pathDepotUuid: *ref_1
    pathOperationUuid: *ref_348
    queryDepotUuid: *ref_350
    queryOperationUuid:
      name: operationUuid
      in: query
      schema:
        type: string
        format: uuid
